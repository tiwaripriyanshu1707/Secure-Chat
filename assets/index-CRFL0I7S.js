(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Dd={exports:{}},El={};var Q_;function XA(){if(Q_)return El;Q_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:r,type:s,key:d,ref:l!==void 0?l:null,props:c}}return El.Fragment=e,El.jsx=i,El.jsxs=i,El}var K_;function $A(){return K_||(K_=1,Dd.exports=XA()),Dd.exports}var j=$A(),Od={exports:{}},ve={};var Y_;function ZA(){if(Y_)return ve;Y_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),x=Symbol.iterator;function H(O){return O===null||typeof O!="object"?null:(O=x&&O[x]||O["@@iterator"],typeof O=="function"?O:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J=Object.assign,K={};function ie(O,$,ne){this.props=O,this.context=$,this.refs=K,this.updater=ne||W}ie.prototype.isReactComponent={},ie.prototype.setState=function(O,$){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,$,"setState")},ie.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function de(){}de.prototype=ie.prototype;function ce(O,$,ne){this.props=O,this.context=$,this.refs=K,this.updater=ne||W}var we=ce.prototype=new de;we.constructor=ce,J(we,ie.prototype),we.isPureReactComponent=!0;var Je=Array.isArray;function Me(){}var w={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function R(O,$,ne){var ae=ne.ref;return{$$typeof:r,type:O,key:$,ref:ae!==void 0?ae:null,props:ne}}function V(O,$){return R(O.type,$,O.props)}function N(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function P(O){var $={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ne){return $[ne]})}var I=/\/+/g;function rt(O,$){return typeof O=="object"&&O!==null&&O.key!=null?P(""+O.key):$.toString(36)}function Dt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Me,Me):(O.status="pending",O.then(function($){O.status==="pending"&&(O.status="fulfilled",O.value=$)},function($){O.status==="pending"&&(O.status="rejected",O.reason=$)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function G(O,$,ne,ae,ye){var Ae=typeof O;(Ae==="undefined"||Ae==="boolean")&&(O=null);var ke=!1;if(O===null)ke=!0;else switch(Ae){case"bigint":case"string":case"number":ke=!0;break;case"object":switch(O.$$typeof){case r:case e:ke=!0;break;case T:return ke=O._init,G(ke(O._payload),$,ne,ae,ye)}}if(ke)return ye=ye(O),ke=ae===""?"."+rt(O,0):ae,Je(ye)?(ne="",ke!=null&&(ne=ke.replace(I,"$&/")+"/"),G(ye,$,ne,"",function(as){return as})):ye!=null&&(N(ye)&&(ye=V(ye,ne+(ye.key==null||O&&O.key===ye.key?"":(""+ye.key).replace(I,"$&/")+"/")+ke)),$.push(ye)),1;ke=0;var Ot=ae===""?".":ae+":";if(Je(O))for(var st=0;st<O.length;st++)ae=O[st],Ae=Ot+rt(ae,st),ke+=G(ae,$,ne,Ae,ye);else if(st=H(O),typeof st=="function")for(O=st.call(O),st=0;!(ae=O.next()).done;)ae=ae.value,Ae=Ot+rt(ae,st++),ke+=G(ae,$,ne,Ae,ye);else if(Ae==="object"){if(typeof O.then=="function")return G(Dt(O),$,ne,ae,ye);throw $=String(O),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return ke}function te(O,$,ne){if(O==null)return O;var ae=[],ye=0;return G(O,ae,"","",function(Ae){return $.call(ne,Ae,ye++)}),ae}function me(O){if(O._status===-1){var $=O._result;$=$(),$.then(function(ne){(O._status===0||O._status===-1)&&(O._status=1,O._result=ne)},function(ne){(O._status===0||O._status===-1)&&(O._status=2,O._result=ne)}),O._status===-1&&(O._status=0,O._result=$)}if(O._status===1)return O._result.default;throw O._result}var Le=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Fe={map:te,forEach:function(O,$,ne){te(O,function(){$.apply(this,arguments)},ne)},count:function(O){var $=0;return te(O,function(){$++}),$},toArray:function(O){return te(O,function($){return $})||[]},only:function(O){if(!N(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return ve.Activity=A,ve.Children=Fe,ve.Component=ie,ve.Fragment=i,ve.Profiler=l,ve.PureComponent=ce,ve.StrictMode=s,ve.Suspense=g,ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=w,ve.__COMPILER_RUNTIME={__proto__:null,c:function(O){return w.H.useMemoCache(O)}},ve.cache=function(O){return function(){return O.apply(null,arguments)}},ve.cacheSignal=function(){return null},ve.cloneElement=function(O,$,ne){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ae=J({},O.props),ye=O.key;if($!=null)for(Ae in $.key!==void 0&&(ye=""+$.key),$)!S.call($,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&$.ref===void 0||(ae[Ae]=$[Ae]);var Ae=arguments.length-2;if(Ae===1)ae.children=ne;else if(1<Ae){for(var ke=Array(Ae),Ot=0;Ot<Ae;Ot++)ke[Ot]=arguments[Ot+2];ae.children=ke}return R(O.type,ye,ae)},ve.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},ve.createElement=function(O,$,ne){var ae,ye={},Ae=null;if($!=null)for(ae in $.key!==void 0&&(Ae=""+$.key),$)S.call($,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(ye[ae]=$[ae]);var ke=arguments.length-2;if(ke===1)ye.children=ne;else if(1<ke){for(var Ot=Array(ke),st=0;st<ke;st++)Ot[st]=arguments[st+2];ye.children=Ot}if(O&&O.defaultProps)for(ae in ke=O.defaultProps,ke)ye[ae]===void 0&&(ye[ae]=ke[ae]);return R(O,Ae,ye)},ve.createRef=function(){return{current:null}},ve.forwardRef=function(O){return{$$typeof:p,render:O}},ve.isValidElement=N,ve.lazy=function(O){return{$$typeof:T,_payload:{_status:-1,_result:O},_init:me}},ve.memo=function(O,$){return{$$typeof:_,type:O,compare:$===void 0?null:$}},ve.startTransition=function(O){var $=w.T,ne={};w.T=ne;try{var ae=O(),ye=w.S;ye!==null&&ye(ne,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(Me,Le)}catch(Ae){Le(Ae)}finally{$!==null&&ne.types!==null&&($.types=ne.types),w.T=$}},ve.unstable_useCacheRefresh=function(){return w.H.useCacheRefresh()},ve.use=function(O){return w.H.use(O)},ve.useActionState=function(O,$,ne){return w.H.useActionState(O,$,ne)},ve.useCallback=function(O,$){return w.H.useCallback(O,$)},ve.useContext=function(O){return w.H.useContext(O)},ve.useDebugValue=function(){},ve.useDeferredValue=function(O,$){return w.H.useDeferredValue(O,$)},ve.useEffect=function(O,$){return w.H.useEffect(O,$)},ve.useEffectEvent=function(O){return w.H.useEffectEvent(O)},ve.useId=function(){return w.H.useId()},ve.useImperativeHandle=function(O,$,ne){return w.H.useImperativeHandle(O,$,ne)},ve.useInsertionEffect=function(O,$){return w.H.useInsertionEffect(O,$)},ve.useLayoutEffect=function(O,$){return w.H.useLayoutEffect(O,$)},ve.useMemo=function(O,$){return w.H.useMemo(O,$)},ve.useOptimistic=function(O,$){return w.H.useOptimistic(O,$)},ve.useReducer=function(O,$,ne){return w.H.useReducer(O,$,ne)},ve.useRef=function(O){return w.H.useRef(O)},ve.useState=function(O){return w.H.useState(O)},ve.useSyncExternalStore=function(O,$,ne){return w.H.useSyncExternalStore(O,$,ne)},ve.useTransition=function(){return w.H.useTransition()},ve.version="19.2.3",ve}var X_;function Cm(){return X_||(X_=1,Od.exports=ZA()),Od.exports}var Ce=Cm(),xd={exports:{}},Tl={},Vd={exports:{}},Md={};var $_;function JA(){return $_||($_=1,(function(r){function e(G,te){var me=G.length;G.push(te);e:for(;0<me;){var Le=me-1>>>1,Fe=G[Le];if(0<l(Fe,te))G[Le]=te,G[me]=Fe,me=Le;else break e}}function i(G){return G.length===0?null:G[0]}function s(G){if(G.length===0)return null;var te=G[0],me=G.pop();if(me!==te){G[0]=me;e:for(var Le=0,Fe=G.length,O=Fe>>>1;Le<O;){var $=2*(Le+1)-1,ne=G[$],ae=$+1,ye=G[ae];if(0>l(ne,me))ae<Fe&&0>l(ye,ne)?(G[Le]=ye,G[ae]=me,Le=ae):(G[Le]=ne,G[$]=me,Le=$);else if(ae<Fe&&0>l(ye,me))G[Le]=ye,G[ae]=me,Le=ae;else break e}}return te}function l(G,te){var me=G.sortIndex-te.sortIndex;return me!==0?me:G.id-te.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var g=[],_=[],T=1,A=null,x=3,H=!1,W=!1,J=!1,K=!1,ie=typeof setTimeout=="function"?setTimeout:null,de=typeof clearTimeout=="function"?clearTimeout:null,ce=typeof setImmediate<"u"?setImmediate:null;function we(G){for(var te=i(_);te!==null;){if(te.callback===null)s(_);else if(te.startTime<=G)s(_),te.sortIndex=te.expirationTime,e(g,te);else break;te=i(_)}}function Je(G){if(J=!1,we(G),!W)if(i(g)!==null)W=!0,Me||(Me=!0,P());else{var te=i(_);te!==null&&Dt(Je,te.startTime-G)}}var Me=!1,w=-1,S=5,R=-1;function V(){return K?!0:!(r.unstable_now()-R<S)}function N(){if(K=!1,Me){var G=r.unstable_now();R=G;var te=!0;try{e:{W=!1,J&&(J=!1,de(w),w=-1),H=!0;var me=x;try{t:{for(we(G),A=i(g);A!==null&&!(A.expirationTime>G&&V());){var Le=A.callback;if(typeof Le=="function"){A.callback=null,x=A.priorityLevel;var Fe=Le(A.expirationTime<=G);if(G=r.unstable_now(),typeof Fe=="function"){A.callback=Fe,we(G),te=!0;break t}A===i(g)&&s(g),we(G)}else s(g);A=i(g)}if(A!==null)te=!0;else{var O=i(_);O!==null&&Dt(Je,O.startTime-G),te=!1}}break e}finally{A=null,x=me,H=!1}te=void 0}}finally{te?P():Me=!1}}}var P;if(typeof ce=="function")P=function(){ce(N)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,rt=I.port2;I.port1.onmessage=N,P=function(){rt.postMessage(null)}}else P=function(){ie(N,0)};function Dt(G,te){w=ie(function(){G(r.unstable_now())},te)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return x},r.unstable_next=function(G){switch(x){case 1:case 2:case 3:var te=3;break;default:te=x}var me=x;x=te;try{return G()}finally{x=me}},r.unstable_requestPaint=function(){K=!0},r.unstable_runWithPriority=function(G,te){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var me=x;x=G;try{return te()}finally{x=me}},r.unstable_scheduleCallback=function(G,te,me){var Le=r.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Le+me:Le):me=Le,G){case 1:var Fe=-1;break;case 2:Fe=250;break;case 5:Fe=1073741823;break;case 4:Fe=1e4;break;default:Fe=5e3}return Fe=me+Fe,G={id:T++,callback:te,priorityLevel:G,startTime:me,expirationTime:Fe,sortIndex:-1},me>Le?(G.sortIndex=me,e(_,G),i(g)===null&&G===i(_)&&(J?(de(w),w=-1):J=!0,Dt(Je,me-Le))):(G.sortIndex=Fe,e(g,G),W||H||(W=!0,Me||(Me=!0,P()))),G},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(G){var te=x;return function(){var me=x;x=te;try{return G.apply(this,arguments)}finally{x=me}}}})(Md)),Md}var Z_;function WA(){return Z_||(Z_=1,Vd.exports=JA()),Vd.exports}var Pd={exports:{}},Yt={};var J_;function e1(){if(J_)return Yt;J_=1;var r=Cm();function e(g){var _="https://react.dev/errors/"+g;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)_+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+g+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(g,_,T){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:g,containerInfo:_,implementation:T}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,_){if(g==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Yt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Yt.createPortal=function(g,_){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return c(g,_,null,T)},Yt.flushSync=function(g){var _=d.T,T=s.p;try{if(d.T=null,s.p=2,g)return g()}finally{d.T=_,s.p=T,s.d.f()}},Yt.preconnect=function(g,_){typeof g=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(g,_))},Yt.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},Yt.preinit=function(g,_){if(typeof g=="string"&&_&&typeof _.as=="string"){var T=_.as,A=p(T,_.crossOrigin),x=typeof _.integrity=="string"?_.integrity:void 0,H=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;T==="style"?s.d.S(g,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:A,integrity:x,fetchPriority:H}):T==="script"&&s.d.X(g,{crossOrigin:A,integrity:x,fetchPriority:H,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Yt.preinitModule=function(g,_){if(typeof g=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var T=p(_.as,_.crossOrigin);s.d.M(g,{crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(g)},Yt.preload=function(g,_){if(typeof g=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var T=_.as,A=p(T,_.crossOrigin);s.d.L(g,T,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Yt.preloadModule=function(g,_){if(typeof g=="string")if(_){var T=p(_.as,_.crossOrigin);s.d.m(g,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(g)},Yt.requestFormReset=function(g){s.d.r(g)},Yt.unstable_batchedUpdates=function(g,_){return g(_)},Yt.useFormState=function(g,_,T){return d.H.useFormState(g,_,T)},Yt.useFormStatus=function(){return d.H.useHostTransitionStatus()},Yt.version="19.2.3",Yt}var W_;function t1(){if(W_)return Pd.exports;W_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Pd.exports=e1(),Pd.exports}var ev;function n1(){if(ev)return Tl;ev=1;var r=WA(),e=Cm(),i=t1();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(c(t)!==t)throw Error(s(188))}function _(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,o=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return g(h),t;if(f===o)return g(h),n;f=f.sibling}throw Error(s(188))}if(a.return!==o.return)a=h,o=f;else{for(var y=!1,E=h.child;E;){if(E===a){y=!0,a=h,o=f;break}if(E===o){y=!0,o=h,a=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===a){y=!0,a=f,o=h;break}if(E===o){y=!0,o=f,a=h;break}E=E.sibling}if(!y)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function T(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=T(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,x=Symbol.for("react.element"),H=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),J=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),ie=Symbol.for("react.profiler"),de=Symbol.for("react.consumer"),ce=Symbol.for("react.context"),we=Symbol.for("react.forward_ref"),Je=Symbol.for("react.suspense"),Me=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function P(t){return t===null||typeof t!="object"?null:(t=N&&t[N]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function rt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case J:return"Fragment";case ie:return"Profiler";case K:return"StrictMode";case Je:return"Suspense";case Me:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case W:return"Portal";case ce:return t.displayName||"Context";case de:return(t._context.displayName||"Context")+".Consumer";case we:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case w:return n=t.displayName||null,n!==null?n:rt(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return rt(t(n))}catch{}}return null}var Dt=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Le=[],Fe=-1;function O(t){return{current:t}}function $(t){0>Fe||(t.current=Le[Fe],Le[Fe]=null,Fe--)}function ne(t,n){Fe++,Le[Fe]=t.current,t.current=n}var ae=O(null),ye=O(null),Ae=O(null),ke=O(null);function Ot(t,n){switch(ne(Ae,n),ne(ye,t),ne(ae,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?p_(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=p_(n),t=g_(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}$(ae),ne(ae,t)}function st(){$(ae),$(ye),$(Ae)}function as(t){t.memoizedState!==null&&ne(ke,t);var n=ae.current,a=g_(n,t.type);n!==a&&(ne(ye,t),ne(ae,a))}function Zs(t){ye.current===t&&($(ae),$(ye)),ke.current===t&&($(ke),gl._currentValue=me)}var Js,Ws;function ni(t){if(Js===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Js=n&&n[1]||"",Ws=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Js+t+Ws}var go=!1;function os(t,n){if(!t||go)return"";go=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(q){var z=q}Reflect.construct(t,[],Y)}else{try{Y.call()}catch(q){z=q}t.call(Y.prototype)}}else{try{throw Error()}catch(q){z=q}(Y=t())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(q){if(q&&z&&typeof q.stack=="string")return[q.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var C=y.split(`
`),L=E.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<L.length&&!L[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===L.length)for(o=C.length-1,h=L.length-1;1<=o&&0<=h&&C[o]!==L[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==L[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==L[h]){var F=`
`+C[o].replace(" at new "," at ");return t.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",t.displayName)),F}while(1<=o&&0<=h);break}}}finally{go=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ni(a):""}function yo(t,n){switch(t.tag){case 26:case 27:case 5:return ni(t.type);case 16:return ni("Lazy");case 13:return t.child!==n&&n!==null?ni("Suspense Fallback"):ni("Suspense");case 19:return ni("SuspenseList");case 0:case 15:return os(t.type,!1);case 11:return os(t.type.render,!1);case 1:return os(t.type,!0);case 31:return ni("Activity");default:return""}}function _o(t){try{var n="",a=null;do n+=yo(t,a),a=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var yt=Object.prototype.hasOwnProperty,xt=r.unstable_scheduleCallback,or=r.unstable_cancelCallback,Oh=r.unstable_shouldYield,iu=r.unstable_requestPaint,en=r.unstable_now,ls=r.unstable_getCurrentPriorityLevel,vo=r.unstable_ImmediatePriority,Eo=r.unstable_UserBlockingPriority,lr=r.unstable_NormalPriority,xh=r.unstable_LowPriority,ru=r.unstable_IdlePriority,su=r.log,au=r.unstable_setDisableYieldValue,Ln=null,zt=null;function An(t){if(typeof su=="function"&&au(t),zt&&typeof zt.setStrictMode=="function")try{zt.setStrictMode(Ln,t)}catch{}}var ht=Math.clz32?Math.clz32:lu,ou=Math.log,ea=Math.LN2;function lu(t){return t>>>=0,t===0?32:31-(ou(t)/ea|0)|0}var ii=256,us=262144,_t=4194304;function ri(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function si(t,n,a){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=ri(o):(y&=E,y!==0?h=ri(y):a||(a=E&~t,a!==0&&(h=ri(a))))):(E=o&~f,E!==0?h=ri(E):y!==0?h=ri(y):a||(a=o&~t,a!==0&&(h=ri(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function zn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Vh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uu(){var t=_t;return _t<<=1,(_t&62914560)===0&&(_t=4194304),t}function ai(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function cs(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Mh(t,n,a,o,h,f){var y=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,C=t.expirationTimes,L=t.hiddenUpdates;for(a=y&~a;0<a;){var F=31-ht(a),Y=1<<F;E[F]=0,C[F]=-1;var z=L[F];if(z!==null)for(L[F]=null,F=0;F<z.length;F++){var q=z[F];q!==null&&(q.lane&=-536870913)}a&=~Y}o!==0&&hs(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function hs(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-ht(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|a&261930}function To(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var o=31-ht(a),h=1<<o;h&n|t[o]&n&&(t[o]|=n),a&=~h}}function bo(t,n){var a=n&-n;return a=(a&42)!==0?1:fs(a),(a&(t.suspendedLanes|n))!==0?0:a}function fs(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Mi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function cu(){var t=te.p;return t!==0?t:(t=window.event,t===void 0?32:z_(t.type))}function jn(t,n){var a=te.p;try{return te.p=t,n()}finally{te.p=a}}var Bn=Math.random().toString(36).slice(2),vt="__reactFiber$"+Bn,Pt="__reactProps$"+Bn,oi="__reactContainer$"+Bn,ta="__reactEvents$"+Bn,Ph="__reactListeners$"+Bn,hu="__reactHandles$"+Bn,fu="__reactResources$"+Bn,li="__reactMarker$"+Bn;function na(t){delete t[vt],delete t[Pt],delete t[ta],delete t[Ph],delete t[hu]}function ui(t){var n=t[vt];if(n)return n;for(var a=t.parentNode;a;){if(n=a[oi]||a[vt]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=A_(t);t!==null;){if(a=t[vt])return a;t=A_(t)}return n}t=a,a=t.parentNode}return null}function Sn(t){if(t=t[vt]||t[oi]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function dn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function ci(t){var n=t[fu];return n||(n=t[fu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Et(t){t[li]=!0}var Ao=new Set,So={};function hi(t,n){fi(t,n),fi(t+"Capture",n)}function fi(t,n){for(So[t]=n,t=0;t<n.length;t++)Ao.add(n[t])}var wo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ro={},Io={};function du(t){return yt.call(Io,t)?!0:yt.call(Ro,t)?!1:wo.test(t)?Io[t]=!0:(Ro[t]=!0,!1)}function ia(t,n,a){if(du(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function mn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Tt(t,n,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+o)}}function kt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ur(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Co(t,n,a){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(y){a=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(y){a=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Ge(t){if(!t._valueTracker){var n=ur(t)?"checked":"value";t._valueTracker=Co(t,n,""+t[n])}}function ds(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return t&&(o=ur(t)?t.checked?"true":"false":t.value),t=o,t!==a?(n.setValue(t),!0):!1}function di(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ms=/[\n"\\]/g;function sn(t){return t.replace(ms,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ra(t,n,a,o,h,f,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+kt(n)):t.value!==""+kt(n)&&(t.value=""+kt(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?No(t,y,kt(n)):a!=null?No(t,y,kt(a)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+kt(E):t.removeAttribute("name")}function mu(t,n,a,o,h,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Ge(t);return}a=a!=null?""+kt(a):"",n=n!=null?""+kt(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=E?t.checked:!!o,t.defaultChecked=!!o,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y),Ge(t)}function No(t,n,a){n==="number"&&di(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function cr(t,n,a,o){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&o&&(t[a].defaultSelected=!0)}else{for(a=""+kt(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function pu(t,n,a){if(n!=null&&(n=""+kt(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+kt(a):""}function hr(t,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(s(92));if(Dt(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=kt(n),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o),Ge(t)}function an(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var gu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Do(t,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,a):typeof a!="number"||a===0||gu.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Oo(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&Do(t,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Do(t,f,n[f])}function sa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),fr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function aa(t){return fr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function qn(){}var xo=null;function wn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var dr=null,mi=null;function ps(t){var n=Sn(t);if(n&&(t=n.stateNode)){var a=t[Pt]||null;e:switch(t=n.stateNode,n.type){case"input":if(ra(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+sn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==t&&o.form===t.form){var h=o[Pt]||null;if(!h)throw Error(s(90));ra(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===t.form&&ds(o)}break e;case"textarea":pu(t,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&cr(t,!!a.multiple,n,!1)}}}var oa=!1;function mr(t,n,a){if(oa)return t(n,a);oa=!0;try{var o=t(n);return o}finally{if(oa=!1,(dr!==null||mi!==null)&&(cc(),dr&&(n=dr,t=mi,mi=dr=null,ps(n),t)))for(n=0;n<t.length;n++)ps(t[n])}}function Hn(t,n){var a=t.stateNode;if(a===null)return null;var o=a[Pt]||null;if(o===null)return null;a=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var Rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gs=!1;if(Rn)try{var Ye={};Object.defineProperty(Ye,"passive",{get:function(){gs=!0}}),window.addEventListener("test",Ye,Ye),window.removeEventListener("test",Ye,Ye)}catch{gs=!1}var pi=null,Vo=null,ys=null;function Mo(){if(ys)return ys;var t,n=Vo,a=n.length,o,h="value"in pi?pi.value:pi.textContent,f=h.length;for(t=0;t<a&&n[t]===h[t];t++);var y=a-t;for(o=1;o<=y&&n[a-o]===h[f-o];o++);return ys=h.slice(t,1<o?1-o:void 0)}function _s(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Pi(){return!0}function Fn(){return!1}function jt(t){function n(a,o,h,f,y){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Pi:Fn,this.isPropagationStopped=Fn,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Pi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Pi)},persist:function(){},isPersistent:Pi}),n}var ki={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gi=jt(ki),pr=A({},ki,{view:0,detail:0}),Po=jt(pr),gr,la,yi,ua=A({},pr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==yi&&(yi&&t.type==="mousemove"?(gr=t.screenX-yi.screenX,la=t.screenY-yi.screenY):la=gr=0,yi=t),gr)},movementY:function(t){return"movementY"in t?t.movementY:la}}),ko=jt(ua),vs=A({},ua,{dataTransfer:0}),_u=jt(vs),vu=A({},pr,{relatedTarget:0}),Es=jt(vu),Uo=A({},ki,{animationName:0,elapsedTime:0,pseudoElement:0}),Eu=jt(Uo),ca=A({},ki,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Tu=jt(ca),bu=A({},ki,{data:0}),_i=jt(bu),Au={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Su={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ru(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=wu[t])?!!n[t]:!1}function yr(){return Ru}var tn=A({},pr,{key:function(t){if(t.key){var n=Au[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=_s(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Su[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yr,charCode:function(t){return t.type==="keypress"?_s(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?_s(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Iu=jt(tn),Cu=A({},ua,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ui=jt(Cu),u=A({},pr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yr}),m=jt(u),v=A({},ki,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=jt(v),k=A({},ua,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),B=jt(k),ee=A({},ki,{newState:0,oldState:0}),Te=jt(ee),ft=[9,13,27,32],Be=Rn&&"CompositionEvent"in window,at=null;Rn&&"documentMode"in document&&(at=document.documentMode);var In=Rn&&"TextEvent"in window&&!at,vi=Rn&&(!Be||at&&8<at&&11>=at),Gn=" ",Qn=!1;function Ts(t,n){switch(t){case"keyup":return ft.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ha(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var fa=!1;function vb(t,n){switch(t){case"compositionend":return ha(n);case"keypress":return n.which!==32?null:(Qn=!0,Gn);case"textInput":return t=n.data,t===Gn&&Qn?null:t;default:return null}}function Eb(t,n){if(fa)return t==="compositionend"||!Be&&Ts(t,n)?(t=Mo(),ys=Vo=pi=null,fa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return vi&&n.locale!=="ko"?null:n.data;default:return null}}var Tb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rp(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Tb[t.type]:n==="textarea"}function Ip(t,n,a,o){dr?mi?mi.push(o):mi=[o]:dr=o,n=yc(n,"onChange"),0<n.length&&(a=new gi("onChange","change",null,a,o),t.push({event:a,listeners:n}))}var Lo=null,zo=null;function bb(t){u_(t,0)}function Nu(t){var n=dn(t);if(ds(n))return t}function Cp(t,n){if(t==="change")return n}var Np=!1;if(Rn){var kh;if(Rn){var Uh="oninput"in document;if(!Uh){var Dp=document.createElement("div");Dp.setAttribute("oninput","return;"),Uh=typeof Dp.oninput=="function"}kh=Uh}else kh=!1;Np=kh&&(!document.documentMode||9<document.documentMode)}function Op(){Lo&&(Lo.detachEvent("onpropertychange",xp),zo=Lo=null)}function xp(t){if(t.propertyName==="value"&&Nu(zo)){var n=[];Ip(n,zo,t,wn(t)),mr(bb,n)}}function Ab(t,n,a){t==="focusin"?(Op(),Lo=n,zo=a,Lo.attachEvent("onpropertychange",xp)):t==="focusout"&&Op()}function Sb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Nu(zo)}function wb(t,n){if(t==="click")return Nu(n)}function Rb(t,n){if(t==="input"||t==="change")return Nu(n)}function Ib(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var pn=typeof Object.is=="function"?Object.is:Ib;function jo(t,n){if(pn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!yt.call(n,h)||!pn(t[h],n[h]))return!1}return!0}function Vp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Mp(t,n){var a=Vp(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=n&&o>=n)return{node:a,offset:n-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Vp(a)}}function Pp(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Pp(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function kp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=di(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=di(t.document)}return n}function Lh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var Cb=Rn&&"documentMode"in document&&11>=document.documentMode,da=null,zh=null,Bo=null,jh=!1;function Up(t,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;jh||da==null||da!==di(o)||(o=da,"selectionStart"in o&&Lh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Bo&&jo(Bo,o)||(Bo=o,o=yc(zh,"onSelect"),0<o.length&&(n=new gi("onSelect","select",null,n,a),t.push({event:n,listeners:o}),n.target=da)))}function bs(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var ma={animationend:bs("Animation","AnimationEnd"),animationiteration:bs("Animation","AnimationIteration"),animationstart:bs("Animation","AnimationStart"),transitionrun:bs("Transition","TransitionRun"),transitionstart:bs("Transition","TransitionStart"),transitioncancel:bs("Transition","TransitionCancel"),transitionend:bs("Transition","TransitionEnd")},Bh={},Lp={};Rn&&(Lp=document.createElement("div").style,"AnimationEvent"in window||(delete ma.animationend.animation,delete ma.animationiteration.animation,delete ma.animationstart.animation),"TransitionEvent"in window||delete ma.transitionend.transition);function As(t){if(Bh[t])return Bh[t];if(!ma[t])return t;var n=ma[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Lp)return Bh[t]=n[a];return t}var zp=As("animationend"),jp=As("animationiteration"),Bp=As("animationstart"),Nb=As("transitionrun"),Db=As("transitionstart"),Ob=As("transitioncancel"),qp=As("transitionend"),Hp=new Map,qh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qh.push("scrollEnd");function Kn(t,n){Hp.set(t,n),hi(n,[t])}var Du=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Cn=[],pa=0,Hh=0;function Ou(){for(var t=pa,n=Hh=pa=0;n<t;){var a=Cn[n];Cn[n++]=null;var o=Cn[n];Cn[n++]=null;var h=Cn[n];Cn[n++]=null;var f=Cn[n];if(Cn[n++]=null,o!==null&&h!==null){var y=o.pending;y===null?h.next=h:(h.next=y.next,y.next=h),o.pending=h}f!==0&&Fp(a,h,f)}}function xu(t,n,a,o){Cn[pa++]=t,Cn[pa++]=n,Cn[pa++]=a,Cn[pa++]=o,Hh|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Fh(t,n,a,o){return xu(t,n,a,o),Vu(t)}function Ss(t,n){return xu(t,null,null,n),Vu(t)}function Fp(t,n,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-ht(a),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=a|536870912),f):null}function Vu(t){if(50<ul)throw ul=0,ed=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var ga={};function xb(t,n,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(t,n,a,o){return new xb(t,n,a,o)}function Gh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Li(t,n){var a=t.alternate;return a===null?(a=gn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Gp(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Mu(t,n,a,o,h,f){var y=0;if(o=t,typeof t=="function")Gh(t)&&(y=1);else if(typeof t=="string")y=UA(t,a,ae.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=gn(31,a,n,h),t.elementType=R,t.lanes=f,t;case J:return ws(a.children,h,f,n);case K:y=8,h|=24;break;case ie:return t=gn(12,a,n,h|2),t.elementType=ie,t.lanes=f,t;case Je:return t=gn(13,a,n,h),t.elementType=Je,t.lanes=f,t;case Me:return t=gn(19,a,n,h),t.elementType=Me,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ce:y=10;break e;case de:y=9;break e;case we:y=11;break e;case w:y=14;break e;case S:y=16,o=null;break e}y=29,a=Error(s(130,t===null?"null":typeof t,"")),o=null}return n=gn(y,a,n,h),n.elementType=t,n.type=o,n.lanes=f,n}function ws(t,n,a,o){return t=gn(7,t,o,n),t.lanes=a,t}function Qh(t,n,a){return t=gn(6,t,null,n),t.lanes=a,t}function Qp(t){var n=gn(18,null,null,0);return n.stateNode=t,n}function Kh(t,n,a){return n=gn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Kp=new WeakMap;function Nn(t,n){if(typeof t=="object"&&t!==null){var a=Kp.get(t);return a!==void 0?a:(n={value:t,source:n,stack:_o(n)},Kp.set(t,n),n)}return{value:t,source:n,stack:_o(n)}}var ya=[],_a=0,Pu=null,qo=0,Dn=[],On=0,_r=null,Ei=1,Ti="";function zi(t,n){ya[_a++]=qo,ya[_a++]=Pu,Pu=t,qo=n}function Yp(t,n,a){Dn[On++]=Ei,Dn[On++]=Ti,Dn[On++]=_r,_r=t;var o=Ei;t=Ti;var h=32-ht(o)-1;o&=~(1<<h),a+=1;var f=32-ht(n)+h;if(30<f){var y=h-h%5;f=(o&(1<<y)-1).toString(32),o>>=y,h-=y,Ei=1<<32-ht(n)+h|a<<h|o,Ti=f+t}else Ei=1<<f|a<<h|o,Ti=t}function Yh(t){t.return!==null&&(zi(t,1),Yp(t,1,0))}function Xh(t){for(;t===Pu;)Pu=ya[--_a],ya[_a]=null,qo=ya[--_a],ya[_a]=null;for(;t===_r;)_r=Dn[--On],Dn[On]=null,Ti=Dn[--On],Dn[On]=null,Ei=Dn[--On],Dn[On]=null}function Xp(t,n){Dn[On++]=Ei,Dn[On++]=Ti,Dn[On++]=_r,Ei=n.id,Ti=n.overflow,_r=t}var Bt=null,tt=null,Pe=!1,vr=null,xn=!1,$h=Error(s(519));function Er(t){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ho(Nn(n,t)),$h}function $p(t){var n=t.stateNode,a=t.type,o=t.memoizedProps;switch(n[vt]=t,n[Pt]=o,a){case"dialog":Ie("cancel",n),Ie("close",n);break;case"iframe":case"object":case"embed":Ie("load",n);break;case"video":case"audio":for(a=0;a<hl.length;a++)Ie(hl[a],n);break;case"source":Ie("error",n);break;case"img":case"image":case"link":Ie("error",n),Ie("load",n);break;case"details":Ie("toggle",n);break;case"input":Ie("invalid",n),mu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ie("invalid",n);break;case"textarea":Ie("invalid",n),hr(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||d_(n.textContent,a)?(o.popover!=null&&(Ie("beforetoggle",n),Ie("toggle",n)),o.onScroll!=null&&Ie("scroll",n),o.onScrollEnd!=null&&Ie("scrollend",n),o.onClick!=null&&(n.onclick=qn),n=!0):n=!1,n||Er(t,!0)}function Zp(t){for(Bt=t.return;Bt;)switch(Bt.tag){case 5:case 31:case 13:xn=!1;return;case 27:case 3:xn=!0;return;default:Bt=Bt.return}}function va(t){if(t!==Bt)return!1;if(!Pe)return Zp(t),Pe=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||pd(t.type,t.memoizedProps)),a=!a),a&&tt&&Er(t),Zp(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));tt=b_(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));tt=b_(t)}else n===27?(n=tt,Mr(t.type)?(t=Ed,Ed=null,tt=t):tt=n):tt=Bt?Mn(t.stateNode.nextSibling):null;return!0}function Rs(){tt=Bt=null,Pe=!1}function Zh(){var t=vr;return t!==null&&(cn===null?cn=t:cn.push.apply(cn,t),vr=null),t}function Ho(t){vr===null?vr=[t]:vr.push(t)}var Jh=O(null),Is=null,ji=null;function Tr(t,n,a){ne(Jh,n._currentValue),n._currentValue=a}function Bi(t){t._currentValue=Jh.current,$(Jh)}function Wh(t,n,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===a)break;t=t.return}}function ef(t,n,a,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var y=h.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=h;for(var C=0;C<n.length;C++)if(E.context===n[C]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),Wh(f.return,a,t),o||(y=null);break e}f=E.next}}else if(h.tag===18){if(y=h.return,y===null)throw Error(s(341));y.lanes|=a,f=y.alternate,f!==null&&(f.lanes|=a),Wh(y,a,t),y=null}else y=h.child;if(y!==null)y.return=h;else for(y=h;y!==null;){if(y===t){y=null;break}if(h=y.sibling,h!==null){h.return=y.return,y=h;break}y=y.return}h=y}}function Ea(t,n,a,o){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var y=h.alternate;if(y===null)throw Error(s(387));if(y=y.memoizedProps,y!==null){var E=h.type;pn(h.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(h===ke.current){if(y=h.alternate,y===null)throw Error(s(387));y.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(gl):t=[gl])}h=h.return}t!==null&&ef(n,t,a,o),n.flags|=262144}function ku(t){for(t=t.firstContext;t!==null;){if(!pn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Cs(t){Is=t,ji=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qt(t){return Jp(Is,t)}function Uu(t,n){return Is===null&&Cs(t),Jp(t,n)}function Jp(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},ji===null){if(t===null)throw Error(s(308));ji=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else ji=ji.next=n;return a}var Vb=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},Mb=r.unstable_scheduleCallback,Pb=r.unstable_NormalPriority,bt={$$typeof:ce,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function tf(){return{controller:new Vb,data:new Map,refCount:0}}function Fo(t){t.refCount--,t.refCount===0&&Mb(Pb,function(){t.controller.abort()})}var Go=null,nf=0,Ta=0,ba=null;function kb(t,n){if(Go===null){var a=Go=[];nf=0,Ta=ad(),ba={status:"pending",value:void 0,then:function(o){a.push(o)}}}return nf++,n.then(Wp,Wp),n}function Wp(){if(--nf===0&&Go!==null){ba!==null&&(ba.status="fulfilled");var t=Go;Go=null,Ta=0,ba=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function Ub(t,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var eg=G.S;G.S=function(t,n){Uy=en(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&kb(t,n),eg!==null&&eg(t,n)};var Ns=O(null);function rf(){var t=Ns.current;return t!==null?t:We.pooledCache}function Lu(t,n){n===null?ne(Ns,Ns.current):ne(Ns,n.pool)}function tg(){var t=rf();return t===null?null:{parent:bt._currentValue,pool:t}}var Aa=Error(s(460)),sf=Error(s(474)),zu=Error(s(542)),ju={then:function(){}};function ng(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ig(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(qn,qn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,sg(t),t;default:if(typeof n.status=="string")n.then(qn,qn);else{if(t=We,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,sg(t),t}throw Os=n,Aa}}function Ds(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Os=a,Aa):a}}var Os=null;function rg(){if(Os===null)throw Error(s(459));var t=Os;return Os=null,t}function sg(t){if(t===Aa||t===zu)throw Error(s(483))}var Sa=null,Qo=0;function Bu(t){var n=Qo;return Qo+=1,Sa===null&&(Sa=[]),ig(Sa,t,n)}function Ko(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function qu(t,n){throw n.$$typeof===x?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function ag(t){function n(M,D){if(t){var U=M.deletions;U===null?(M.deletions=[D],M.flags|=16):U.push(D)}}function a(M,D){if(!t)return null;for(;D!==null;)n(M,D),D=D.sibling;return null}function o(M){for(var D=new Map;M!==null;)M.key!==null?D.set(M.key,M):D.set(M.index,M),M=M.sibling;return D}function h(M,D){return M=Li(M,D),M.index=0,M.sibling=null,M}function f(M,D,U){return M.index=U,t?(U=M.alternate,U!==null?(U=U.index,U<D?(M.flags|=67108866,D):U):(M.flags|=67108866,D)):(M.flags|=1048576,D)}function y(M){return t&&M.alternate===null&&(M.flags|=67108866),M}function E(M,D,U,Q){return D===null||D.tag!==6?(D=Qh(U,M.mode,Q),D.return=M,D):(D=h(D,U),D.return=M,D)}function C(M,D,U,Q){var he=U.type;return he===J?F(M,D,U.props.children,Q,U.key):D!==null&&(D.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===S&&Ds(he)===D.type)?(D=h(D,U.props),Ko(D,U),D.return=M,D):(D=Mu(U.type,U.key,U.props,null,M.mode,Q),Ko(D,U),D.return=M,D)}function L(M,D,U,Q){return D===null||D.tag!==4||D.stateNode.containerInfo!==U.containerInfo||D.stateNode.implementation!==U.implementation?(D=Kh(U,M.mode,Q),D.return=M,D):(D=h(D,U.children||[]),D.return=M,D)}function F(M,D,U,Q,he){return D===null||D.tag!==7?(D=ws(U,M.mode,Q,he),D.return=M,D):(D=h(D,U),D.return=M,D)}function Y(M,D,U){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Qh(""+D,M.mode,U),D.return=M,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case H:return U=Mu(D.type,D.key,D.props,null,M.mode,U),Ko(U,D),U.return=M,U;case W:return D=Kh(D,M.mode,U),D.return=M,D;case S:return D=Ds(D),Y(M,D,U)}if(Dt(D)||P(D))return D=ws(D,M.mode,U,null),D.return=M,D;if(typeof D.then=="function")return Y(M,Bu(D),U);if(D.$$typeof===ce)return Y(M,Uu(M,D),U);qu(M,D)}return null}function z(M,D,U,Q){var he=D!==null?D.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return he!==null?null:E(M,D,""+U,Q);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case H:return U.key===he?C(M,D,U,Q):null;case W:return U.key===he?L(M,D,U,Q):null;case S:return U=Ds(U),z(M,D,U,Q)}if(Dt(U)||P(U))return he!==null?null:F(M,D,U,Q,null);if(typeof U.then=="function")return z(M,D,Bu(U),Q);if(U.$$typeof===ce)return z(M,D,Uu(M,U),Q);qu(M,U)}return null}function q(M,D,U,Q,he){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return M=M.get(U)||null,E(D,M,""+Q,he);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case H:return M=M.get(Q.key===null?U:Q.key)||null,C(D,M,Q,he);case W:return M=M.get(Q.key===null?U:Q.key)||null,L(D,M,Q,he);case S:return Q=Ds(Q),q(M,D,U,Q,he)}if(Dt(Q)||P(Q))return M=M.get(U)||null,F(D,M,Q,he,null);if(typeof Q.then=="function")return q(M,D,U,Bu(Q),he);if(Q.$$typeof===ce)return q(M,D,U,Uu(D,Q),he);qu(D,Q)}return null}function le(M,D,U,Q){for(var he=null,ze=null,ue=D,Se=D=0,De=null;ue!==null&&Se<U.length;Se++){ue.index>Se?(De=ue,ue=null):De=ue.sibling;var je=z(M,ue,U[Se],Q);if(je===null){ue===null&&(ue=De);break}t&&ue&&je.alternate===null&&n(M,ue),D=f(je,D,Se),ze===null?he=je:ze.sibling=je,ze=je,ue=De}if(Se===U.length)return a(M,ue),Pe&&zi(M,Se),he;if(ue===null){for(;Se<U.length;Se++)ue=Y(M,U[Se],Q),ue!==null&&(D=f(ue,D,Se),ze===null?he=ue:ze.sibling=ue,ze=ue);return Pe&&zi(M,Se),he}for(ue=o(ue);Se<U.length;Se++)De=q(ue,M,Se,U[Se],Q),De!==null&&(t&&De.alternate!==null&&ue.delete(De.key===null?Se:De.key),D=f(De,D,Se),ze===null?he=De:ze.sibling=De,ze=De);return t&&ue.forEach(function(zr){return n(M,zr)}),Pe&&zi(M,Se),he}function pe(M,D,U,Q){if(U==null)throw Error(s(151));for(var he=null,ze=null,ue=D,Se=D=0,De=null,je=U.next();ue!==null&&!je.done;Se++,je=U.next()){ue.index>Se?(De=ue,ue=null):De=ue.sibling;var zr=z(M,ue,je.value,Q);if(zr===null){ue===null&&(ue=De);break}t&&ue&&zr.alternate===null&&n(M,ue),D=f(zr,D,Se),ze===null?he=zr:ze.sibling=zr,ze=zr,ue=De}if(je.done)return a(M,ue),Pe&&zi(M,Se),he;if(ue===null){for(;!je.done;Se++,je=U.next())je=Y(M,je.value,Q),je!==null&&(D=f(je,D,Se),ze===null?he=je:ze.sibling=je,ze=je);return Pe&&zi(M,Se),he}for(ue=o(ue);!je.done;Se++,je=U.next())je=q(ue,M,Se,je.value,Q),je!==null&&(t&&je.alternate!==null&&ue.delete(je.key===null?Se:je.key),D=f(je,D,Se),ze===null?he=je:ze.sibling=je,ze=je);return t&&ue.forEach(function(YA){return n(M,YA)}),Pe&&zi(M,Se),he}function Ze(M,D,U,Q){if(typeof U=="object"&&U!==null&&U.type===J&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case H:e:{for(var he=U.key;D!==null;){if(D.key===he){if(he=U.type,he===J){if(D.tag===7){a(M,D.sibling),Q=h(D,U.props.children),Q.return=M,M=Q;break e}}else if(D.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===S&&Ds(he)===D.type){a(M,D.sibling),Q=h(D,U.props),Ko(Q,U),Q.return=M,M=Q;break e}a(M,D);break}else n(M,D);D=D.sibling}U.type===J?(Q=ws(U.props.children,M.mode,Q,U.key),Q.return=M,M=Q):(Q=Mu(U.type,U.key,U.props,null,M.mode,Q),Ko(Q,U),Q.return=M,M=Q)}return y(M);case W:e:{for(he=U.key;D!==null;){if(D.key===he)if(D.tag===4&&D.stateNode.containerInfo===U.containerInfo&&D.stateNode.implementation===U.implementation){a(M,D.sibling),Q=h(D,U.children||[]),Q.return=M,M=Q;break e}else{a(M,D);break}else n(M,D);D=D.sibling}Q=Kh(U,M.mode,Q),Q.return=M,M=Q}return y(M);case S:return U=Ds(U),Ze(M,D,U,Q)}if(Dt(U))return le(M,D,U,Q);if(P(U)){if(he=P(U),typeof he!="function")throw Error(s(150));return U=he.call(U),pe(M,D,U,Q)}if(typeof U.then=="function")return Ze(M,D,Bu(U),Q);if(U.$$typeof===ce)return Ze(M,D,Uu(M,U),Q);qu(M,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,D!==null&&D.tag===6?(a(M,D.sibling),Q=h(D,U),Q.return=M,M=Q):(a(M,D),Q=Qh(U,M.mode,Q),Q.return=M,M=Q),y(M)):a(M,D)}return function(M,D,U,Q){try{Qo=0;var he=Ze(M,D,U,Q);return Sa=null,he}catch(ue){if(ue===Aa||ue===zu)throw ue;var ze=gn(29,ue,null,M.mode);return ze.lanes=Q,ze.return=M,ze}finally{}}}var xs=ag(!0),og=ag(!1),br=!1;function af(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function of(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ar(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Sr(t,n,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(qe&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Vu(t),Fp(t,null,a),n}return xu(t,o,n,a),Vu(t)}function Yo(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,To(t,a)}}function lf(t,n){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=y:f=f.next=y,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var uf=!1;function Xo(){if(uf){var t=ba;if(t!==null)throw t}}function $o(t,n,a,o){uf=!1;var h=t.updateQueue;br=!1;var f=h.firstBaseUpdate,y=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var C=E,L=C.next;C.next=null,y===null?f=L:y.next=L,y=C;var F=t.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==y&&(E===null?F.firstBaseUpdate=L:E.next=L,F.lastBaseUpdate=C))}if(f!==null){var Y=h.baseState;y=0,F=L=C=null,E=f;do{var z=E.lane&-536870913,q=z!==E.lane;if(q?(Ne&z)===z:(o&z)===z){z!==0&&z===Ta&&(uf=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var le=t,pe=E;z=n;var Ze=a;switch(pe.tag){case 1:if(le=pe.payload,typeof le=="function"){Y=le.call(Ze,Y,z);break e}Y=le;break e;case 3:le.flags=le.flags&-65537|128;case 0:if(le=pe.payload,z=typeof le=="function"?le.call(Ze,Y,z):le,z==null)break e;Y=A({},Y,z);break e;case 2:br=!0}}z=E.callback,z!==null&&(t.flags|=64,q&&(t.flags|=8192),q=h.callbacks,q===null?h.callbacks=[z]:q.push(z))}else q={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(L=F=q,C=Y):F=F.next=q,y|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);F===null&&(C=Y),h.baseState=C,h.firstBaseUpdate=L,h.lastBaseUpdate=F,f===null&&(h.shared.lanes=0),Nr|=y,t.lanes=y,t.memoizedState=Y}}function lg(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function ug(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)lg(a[t],n)}var wa=O(null),Hu=O(0);function cg(t,n){t=$i,ne(Hu,t),ne(wa,n),$i=t|n.baseLanes}function cf(){ne(Hu,$i),ne(wa,wa.current)}function hf(){$i=Hu.current,$(wa),$(Hu)}var yn=O(null),Vn=null;function wr(t){var n=t.alternate;ne(dt,dt.current&1),ne(yn,t),Vn===null&&(n===null||wa.current!==null||n.memoizedState!==null)&&(Vn=t)}function ff(t){ne(dt,dt.current),ne(yn,t),Vn===null&&(Vn=t)}function hg(t){t.tag===22?(ne(dt,dt.current),ne(yn,t),Vn===null&&(Vn=t)):Rr()}function Rr(){ne(dt,dt.current),ne(yn,yn.current)}function _n(t){$(yn),Vn===t&&(Vn=null),$(dt)}var dt=O(0);function Fu(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||_d(a)||vd(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var qi=0,be=null,Xe=null,At=null,Gu=!1,Ra=!1,Vs=!1,Qu=0,Zo=0,Ia=null,Lb=0;function ut(){throw Error(s(321))}function df(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!pn(t[a],n[a]))return!1;return!0}function mf(t,n,a,o,h,f){return qi=f,be=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=t===null||t.memoizedState===null?Yg:Nf,Vs=!1,f=a(o,h),Vs=!1,Ra&&(f=dg(n,a,o,h)),fg(t),f}function fg(t){G.H=el;var n=Xe!==null&&Xe.next!==null;if(qi=0,At=Xe=be=null,Gu=!1,Zo=0,Ia=null,n)throw Error(s(300));t===null||St||(t=t.dependencies,t!==null&&ku(t)&&(St=!0))}function dg(t,n,a,o){be=t;var h=0;do{if(Ra&&(Ia=null),Zo=0,Ra=!1,25<=h)throw Error(s(301));if(h+=1,At=Xe=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=Xg,f=n(a,o)}while(Ra);return f}function zb(){var t=G.H,n=t.useState()[0];return n=typeof n.then=="function"?Jo(n):n,t=t.useState()[0],(Xe!==null?Xe.memoizedState:null)!==t&&(be.flags|=1024),n}function pf(){var t=Qu!==0;return Qu=0,t}function gf(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function yf(t){if(Gu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Gu=!1}qi=0,At=Xe=be=null,Ra=!1,Zo=Qu=0,Ia=null}function nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?be.memoizedState=At=t:At=At.next=t,At}function mt(){if(Xe===null){var t=be.alternate;t=t!==null?t.memoizedState:null}else t=Xe.next;var n=At===null?be.memoizedState:At.next;if(n!==null)At=n,Xe=t;else{if(t===null)throw be.alternate===null?Error(s(467)):Error(s(310));Xe=t,t={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},At===null?be.memoizedState=At=t:At=At.next=t}return At}function Ku(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Jo(t){var n=Zo;return Zo+=1,Ia===null&&(Ia=[]),t=ig(Ia,t,n),n=be,(At===null?n.memoizedState:At.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?Yg:Nf),t}function Yu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Jo(t);if(t.$$typeof===ce)return qt(t)}throw Error(s(438,String(t)))}function _f(t){var n=null,a=be.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=be.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Ku(),be.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),o=0;o<t;o++)a[o]=V;return n.index++,a}function Hi(t,n){return typeof n=="function"?n(t):n}function Xu(t){var n=mt();return vf(n,Xe,t)}function vf(t,n,a){var o=t.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var y=h.next;h.next=f.next,f.next=y}n.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var E=y=null,C=null,L=n,F=!1;do{var Y=L.lane&-536870913;if(Y!==L.lane?(Ne&Y)===Y:(qi&Y)===Y){var z=L.revertLane;if(z===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),Y===Ta&&(F=!0);else if((qi&z)===z){L=L.next,z===Ta&&(F=!0);continue}else Y={lane:0,revertLane:L.revertLane,gesture:null,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},C===null?(E=C=Y,y=f):C=C.next=Y,be.lanes|=z,Nr|=z;Y=L.action,Vs&&a(f,Y),f=L.hasEagerState?L.eagerState:a(f,Y)}else z={lane:Y,revertLane:L.revertLane,gesture:L.gesture,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},C===null?(E=C=z,y=f):C=C.next=z,be.lanes|=Y,Nr|=Y;L=L.next}while(L!==null&&L!==n);if(C===null?y=f:C.next=E,!pn(f,t.memoizedState)&&(St=!0,F&&(a=ba,a!==null)))throw a;t.memoizedState=f,t.baseState=y,t.baseQueue=C,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Ef(t){var n=mt(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var o=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var y=h=h.next;do f=t(f,y.action),y=y.next;while(y!==h);pn(f,n.memoizedState)||(St=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,o]}function mg(t,n,a){var o=be,h=mt(),f=Pe;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=n();var y=!pn((Xe||h).memoizedState,a);if(y&&(h.memoizedState=a,St=!0),h=h.queue,Af(yg.bind(null,o,h,t),[t]),h.getSnapshot!==n||y||At!==null&&At.memoizedState.tag&1){if(o.flags|=2048,Ca(9,{destroy:void 0},gg.bind(null,o,h,a,n),null),We===null)throw Error(s(349));f||(qi&127)!==0||pg(o,n,a)}return a}function pg(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=be.updateQueue,n===null?(n=Ku(),be.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function gg(t,n,a,o){n.value=a,n.getSnapshot=o,_g(n)&&vg(t)}function yg(t,n,a){return a(function(){_g(n)&&vg(t)})}function _g(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!pn(t,a)}catch{return!0}}function vg(t){var n=Ss(t,2);n!==null&&hn(n,t,2)}function Tf(t){var n=nn();if(typeof t=="function"){var a=t;if(t=a(),Vs){An(!0);try{a()}finally{An(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:t},n}function Eg(t,n,a,o){return t.baseState=a,vf(t,Xe,typeof o=="function"?o:Hi)}function jb(t,n,a,o,h){if(Ju(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};G.T!==null?a(!0):f.isTransition=!1,o(f),a=n.pending,a===null?(f.next=n.pending=f,Tg(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Tg(t,n){var a=n.action,o=n.payload,h=t.state;if(n.isTransition){var f=G.T,y={};G.T=y;try{var E=a(h,o),C=G.S;C!==null&&C(y,E),bg(t,n,E)}catch(L){bf(t,n,L)}finally{f!==null&&y.types!==null&&(f.types=y.types),G.T=f}}else try{f=a(h,o),bg(t,n,f)}catch(L){bf(t,n,L)}}function bg(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Ag(t,n,o)},function(o){return bf(t,n,o)}):Ag(t,n,a)}function Ag(t,n,a){n.status="fulfilled",n.value=a,Sg(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Tg(t,a)))}function bf(t,n,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,Sg(n),n=n.next;while(n!==o)}t.action=null}function Sg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function wg(t,n){return n}function Rg(t,n){if(Pe){var a=We.formState;if(a!==null){e:{var o=be;if(Pe){if(tt){t:{for(var h=tt,f=xn;h.nodeType!==8;){if(!f){h=null;break t}if(h=Mn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){tt=Mn(h.nextSibling),o=h.data==="F!";break e}}Er(o)}o=!1}o&&(n=a[0])}}return a=nn(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wg,lastRenderedState:n},a.queue=o,a=Gg.bind(null,be,o),o.dispatch=a,o=Tf(!1),f=Cf.bind(null,be,!1,o.queue),o=nn(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,a=jb.bind(null,be,h,f,a),h.dispatch=a,o.memoizedState=t,[n,a,!1]}function Ig(t){var n=mt();return Cg(n,Xe,t)}function Cg(t,n,a){if(n=vf(t,n,wg)[0],t=Xu(Hi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Jo(n)}catch(y){throw y===Aa?zu:y}else o=n;n=mt();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(be.flags|=2048,Ca(9,{destroy:void 0},Bb.bind(null,h,a),null)),[o,f,t]}function Bb(t,n){t.action=n}function Ng(t){var n=mt(),a=Xe;if(a!==null)return Cg(n,a,t);mt(),n=n.memoizedState,a=mt();var o=a.queue.dispatch;return a.memoizedState=t,[n,o,!1]}function Ca(t,n,a,o){return t={tag:t,create:a,deps:o,inst:n,next:null},n=be.updateQueue,n===null&&(n=Ku(),be.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,n.lastEffect=t),t}function Dg(){return mt().memoizedState}function $u(t,n,a,o){var h=nn();be.flags|=t,h.memoizedState=Ca(1|n,{destroy:void 0},a,o===void 0?null:o)}function Zu(t,n,a,o){var h=mt();o=o===void 0?null:o;var f=h.memoizedState.inst;Xe!==null&&o!==null&&df(o,Xe.memoizedState.deps)?h.memoizedState=Ca(n,f,a,o):(be.flags|=t,h.memoizedState=Ca(1|n,f,a,o))}function Og(t,n){$u(8390656,8,t,n)}function Af(t,n){Zu(2048,8,t,n)}function qb(t){be.flags|=4;var n=be.updateQueue;if(n===null)n=Ku(),be.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function xg(t){var n=mt().memoizedState;return qb({ref:n,nextImpl:t}),function(){if((qe&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function Vg(t,n){return Zu(4,2,t,n)}function Mg(t,n){return Zu(4,4,t,n)}function Pg(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function kg(t,n,a){a=a!=null?a.concat([t]):null,Zu(4,4,Pg.bind(null,n,t),a)}function Sf(){}function Ug(t,n){var a=mt();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&df(n,o[1])?o[0]:(a.memoizedState=[t,n],t)}function Lg(t,n){var a=mt();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&df(n,o[1]))return o[0];if(o=t(),Vs){An(!0);try{t()}finally{An(!1)}}return a.memoizedState=[o,n],o}function wf(t,n,a){return a===void 0||(qi&1073741824)!==0&&(Ne&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=zy(),be.lanes|=t,Nr|=t,a)}function zg(t,n,a,o){return pn(a,n)?a:wa.current!==null?(t=wf(t,a,o),pn(t,n)||(St=!0),t):(qi&42)===0||(qi&1073741824)!==0&&(Ne&261930)===0?(St=!0,t.memoizedState=a):(t=zy(),be.lanes|=t,Nr|=t,n)}function jg(t,n,a,o,h){var f=te.p;te.p=f!==0&&8>f?f:8;var y=G.T,E={};G.T=E,Cf(t,!1,n,a);try{var C=h(),L=G.S;if(L!==null&&L(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var F=Ub(C,o);Wo(t,n,F,Tn(t))}else Wo(t,n,o,Tn(t))}catch(Y){Wo(t,n,{then:function(){},status:"rejected",reason:Y},Tn())}finally{te.p=f,y!==null&&E.types!==null&&(y.types=E.types),G.T=y}}function Hb(){}function Rf(t,n,a,o){if(t.tag!==5)throw Error(s(476));var h=Bg(t).queue;jg(t,h,n,me,a===null?Hb:function(){return qg(t),a(o)})}function Bg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:me},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function qg(t){var n=Bg(t);n.next===null&&(n=t.alternate.memoizedState),Wo(t,n.next.queue,{},Tn())}function If(){return qt(gl)}function Hg(){return mt().memoizedState}function Fg(){return mt().memoizedState}function Fb(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=Tn();t=Ar(a);var o=Sr(n,t,a);o!==null&&(hn(o,n,a),Yo(o,n,a)),n={cache:tf()},t.payload=n;return}n=n.return}}function Gb(t,n,a){var o=Tn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Ju(t)?Qg(n,a):(a=Fh(t,n,a,o),a!==null&&(hn(a,t,o),Kg(a,n,o)))}function Gg(t,n,a){var o=Tn();Wo(t,n,a,o)}function Wo(t,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ju(t))Qg(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,a);if(h.hasEagerState=!0,h.eagerState=E,pn(E,y))return xu(t,n,h,0),We===null&&Ou(),!1}catch{}finally{}if(a=Fh(t,n,h,o),a!==null)return hn(a,t,o),Kg(a,n,o),!0}return!1}function Cf(t,n,a,o){if(o={lane:2,revertLane:ad(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Ju(t)){if(n)throw Error(s(479))}else n=Fh(t,a,o,2),n!==null&&hn(n,t,2)}function Ju(t){var n=t.alternate;return t===be||n!==null&&n===be}function Qg(t,n){Ra=Gu=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function Kg(t,n,a){if((a&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,To(t,a)}}var el={readContext:qt,use:Yu,useCallback:ut,useContext:ut,useEffect:ut,useImperativeHandle:ut,useLayoutEffect:ut,useInsertionEffect:ut,useMemo:ut,useReducer:ut,useRef:ut,useState:ut,useDebugValue:ut,useDeferredValue:ut,useTransition:ut,useSyncExternalStore:ut,useId:ut,useHostTransitionStatus:ut,useFormState:ut,useActionState:ut,useOptimistic:ut,useMemoCache:ut,useCacheRefresh:ut};el.useEffectEvent=ut;var Yg={readContext:qt,use:Yu,useCallback:function(t,n){return nn().memoizedState=[t,n===void 0?null:n],t},useContext:qt,useEffect:Og,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,$u(4194308,4,Pg.bind(null,n,t),a)},useLayoutEffect:function(t,n){return $u(4194308,4,t,n)},useInsertionEffect:function(t,n){$u(4,2,t,n)},useMemo:function(t,n){var a=nn();n=n===void 0?null:n;var o=t();if(Vs){An(!0);try{t()}finally{An(!1)}}return a.memoizedState=[o,n],o},useReducer:function(t,n,a){var o=nn();if(a!==void 0){var h=a(n);if(Vs){An(!0);try{a(n)}finally{An(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=Gb.bind(null,be,t),[o.memoizedState,t]},useRef:function(t){var n=nn();return t={current:t},n.memoizedState=t},useState:function(t){t=Tf(t);var n=t.queue,a=Gg.bind(null,be,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Sf,useDeferredValue:function(t,n){var a=nn();return wf(a,t,n)},useTransition:function(){var t=Tf(!1);return t=jg.bind(null,be,t.queue,!0,!1),nn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var o=be,h=nn();if(Pe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),We===null)throw Error(s(349));(Ne&127)!==0||pg(o,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,Og(yg.bind(null,o,f,t),[t]),o.flags|=2048,Ca(9,{destroy:void 0},gg.bind(null,o,f,a,n),null),a},useId:function(){var t=nn(),n=We.identifierPrefix;if(Pe){var a=Ti,o=Ei;a=(o&~(1<<32-ht(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Qu++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=Lb++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:If,useFormState:Rg,useActionState:Rg,useOptimistic:function(t){var n=nn();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Cf.bind(null,be,!0,a),a.dispatch=n,[t,n]},useMemoCache:_f,useCacheRefresh:function(){return nn().memoizedState=Fb.bind(null,be)},useEffectEvent:function(t){var n=nn(),a={impl:t};return n.memoizedState=a,function(){if((qe&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Nf={readContext:qt,use:Yu,useCallback:Ug,useContext:qt,useEffect:Af,useImperativeHandle:kg,useInsertionEffect:Vg,useLayoutEffect:Mg,useMemo:Lg,useReducer:Xu,useRef:Dg,useState:function(){return Xu(Hi)},useDebugValue:Sf,useDeferredValue:function(t,n){var a=mt();return zg(a,Xe.memoizedState,t,n)},useTransition:function(){var t=Xu(Hi)[0],n=mt().memoizedState;return[typeof t=="boolean"?t:Jo(t),n]},useSyncExternalStore:mg,useId:Hg,useHostTransitionStatus:If,useFormState:Ig,useActionState:Ig,useOptimistic:function(t,n){var a=mt();return Eg(a,Xe,t,n)},useMemoCache:_f,useCacheRefresh:Fg};Nf.useEffectEvent=xg;var Xg={readContext:qt,use:Yu,useCallback:Ug,useContext:qt,useEffect:Af,useImperativeHandle:kg,useInsertionEffect:Vg,useLayoutEffect:Mg,useMemo:Lg,useReducer:Ef,useRef:Dg,useState:function(){return Ef(Hi)},useDebugValue:Sf,useDeferredValue:function(t,n){var a=mt();return Xe===null?wf(a,t,n):zg(a,Xe.memoizedState,t,n)},useTransition:function(){var t=Ef(Hi)[0],n=mt().memoizedState;return[typeof t=="boolean"?t:Jo(t),n]},useSyncExternalStore:mg,useId:Hg,useHostTransitionStatus:If,useFormState:Ng,useActionState:Ng,useOptimistic:function(t,n){var a=mt();return Xe!==null?Eg(a,Xe,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:_f,useCacheRefresh:Fg};Xg.useEffectEvent=xg;function Df(t,n,a,o){n=t.memoizedState,a=a(o,n),a=a==null?n:A({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Of={enqueueSetState:function(t,n,a){t=t._reactInternals;var o=Tn(),h=Ar(o);h.payload=n,a!=null&&(h.callback=a),n=Sr(t,h,o),n!==null&&(hn(n,t,o),Yo(n,t,o))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var o=Tn(),h=Ar(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Sr(t,h,o),n!==null&&(hn(n,t,o),Yo(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=Tn(),o=Ar(a);o.tag=2,n!=null&&(o.callback=n),n=Sr(t,o,a),n!==null&&(hn(n,t,a),Yo(n,t,a))}};function $g(t,n,a,o,h,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,y):n.prototype&&n.prototype.isPureReactComponent?!jo(a,o)||!jo(h,f):!0}function Zg(t,n,a,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==t&&Of.enqueueReplaceState(n,n.state,null)}function Ms(t,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(t=t.defaultProps){a===n&&(a=A({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function Jg(t){Du(t)}function Wg(t){console.error(t)}function ey(t){Du(t)}function Wu(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function ty(t,n,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function xf(t,n,a){return a=Ar(a),a.tag=3,a.payload={element:null},a.callback=function(){Wu(t,n)},a}function ny(t){return t=Ar(t),t.tag=3,t}function iy(t,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){ty(n,a,o)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){ty(n,a,o),typeof h!="function"&&(Dr===null?Dr=new Set([this]):Dr.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function Qb(t,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&Ea(n,a,h,!0),a=yn.current,a!==null){switch(a.tag){case 31:case 13:return Vn===null?hc():a.alternate===null&&ct===0&&(ct=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===ju?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),id(t,o,h)),!1;case 22:return a.flags|=65536,o===ju?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),id(t,o,h)),!1}throw Error(s(435,a.tag))}return id(t,o,h),hc(),!1}if(Pe)return n=yn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==$h&&(t=Error(s(422),{cause:o}),Ho(Nn(t,a)))):(o!==$h&&(n=Error(s(423),{cause:o}),Ho(Nn(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=Nn(o,a),h=xf(t.stateNode,o,h),lf(t,h),ct!==4&&(ct=2)),!1;var f=Error(s(520),{cause:o});if(f=Nn(f,a),ll===null?ll=[f]:ll.push(f),ct!==4&&(ct=2),n===null)return!0;o=Nn(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=xf(a.stateNode,o,t),lf(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Dr===null||!Dr.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=ny(h),iy(h,t,a,o),lf(a,h),!1}a=a.return}while(a!==null);return!1}var Vf=Error(s(461)),St=!1;function Ht(t,n,a,o){n.child=t===null?og(n,null,a,o):xs(n,t.child,a,o)}function ry(t,n,a,o,h){a=a.render;var f=n.ref;if("ref"in o){var y={};for(var E in o)E!=="ref"&&(y[E]=o[E])}else y=o;return Cs(n),o=mf(t,n,a,y,f,h),E=pf(),t!==null&&!St?(gf(t,n,h),Fi(t,n,h)):(Pe&&E&&Yh(n),n.flags|=1,Ht(t,n,o,h),n.child)}function sy(t,n,a,o,h){if(t===null){var f=a.type;return typeof f=="function"&&!Gh(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,ay(t,n,f,o,h)):(t=Mu(a.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Bf(t,h)){var y=f.memoizedProps;if(a=a.compare,a=a!==null?a:jo,a(y,o)&&t.ref===n.ref)return Fi(t,n,h)}return n.flags|=1,t=Li(f,o),t.ref=n.ref,t.return=n,n.child=t}function ay(t,n,a,o,h){if(t!==null){var f=t.memoizedProps;if(jo(f,o)&&t.ref===n.ref)if(St=!1,n.pendingProps=o=f,Bf(t,h))(t.flags&131072)!==0&&(St=!0);else return n.lanes=t.lanes,Fi(t,n,h)}return Mf(t,n,a,o,h)}function oy(t,n,a,o){var h=o.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(o=n.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return ly(t,n,f,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Lu(n,f!==null?f.cachePool:null),f!==null?cg(n,f):cf(),hg(n);else return o=n.lanes=536870912,ly(t,n,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(Lu(n,f.cachePool),cg(n,f),Rr(),n.memoizedState=null):(t!==null&&Lu(n,null),cf(),Rr());return Ht(t,n,h,a),n.child}function tl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function ly(t,n,a,o,h){var f=rf();return f=f===null?null:{parent:bt._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&Lu(n,null),cf(),hg(n),t!==null&&Ea(t,n,o,!0),n.childLanes=h,null}function ec(t,n){return n=nc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function uy(t,n,a){return xs(n,t.child,null,a),t=ec(n,n.pendingProps),t.flags|=2,_n(n),n.memoizedState=null,t}function Kb(t,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Pe){if(o.mode==="hidden")return t=ec(n,o),n.lanes=536870912,tl(null,t);if(ff(n),(t=tt)?(t=T_(t,xn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:_r!==null?{id:Ei,overflow:Ti}:null,retryLane:536870912,hydrationErrors:null},a=Qp(t),a.return=n,n.child=a,Bt=n,tt=null)):t=null,t===null)throw Er(n);return n.lanes=536870912,null}return ec(n,o)}var f=t.memoizedState;if(f!==null){var y=f.dehydrated;if(ff(n),h)if(n.flags&256)n.flags&=-257,n=uy(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(s(558));else if(St||Ea(t,n,a,!1),h=(a&t.childLanes)!==0,St||h){if(o=We,o!==null&&(y=bo(o,a),y!==0&&y!==f.retryLane))throw f.retryLane=y,Ss(t,y),hn(o,t,y),Vf;hc(),n=uy(t,n,a)}else t=f.treeContext,tt=Mn(y.nextSibling),Bt=n,Pe=!0,vr=null,xn=!1,t!==null&&Xp(n,t),n=ec(n,o),n.flags|=4096;return n}return t=Li(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function tc(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Mf(t,n,a,o,h){return Cs(n),a=mf(t,n,a,o,void 0,h),o=pf(),t!==null&&!St?(gf(t,n,h),Fi(t,n,h)):(Pe&&o&&Yh(n),n.flags|=1,Ht(t,n,a,h),n.child)}function cy(t,n,a,o,h,f){return Cs(n),n.updateQueue=null,a=dg(n,o,a,h),fg(t),o=pf(),t!==null&&!St?(gf(t,n,f),Fi(t,n,f)):(Pe&&o&&Yh(n),n.flags|=1,Ht(t,n,a,f),n.child)}function hy(t,n,a,o,h){if(Cs(n),n.stateNode===null){var f=ga,y=a.contextType;typeof y=="object"&&y!==null&&(f=qt(y)),f=new a(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Of,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},af(n),y=a.contextType,f.context=typeof y=="object"&&y!==null?qt(y):ga,f.state=n.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(Df(n,a,y,o),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&Of.enqueueReplaceState(f,f.state,null),$o(n,o,f,h),Xo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,C=Ms(a,E);f.props=C;var L=f.context,F=a.contextType;y=ga,typeof F=="object"&&F!==null&&(y=qt(F));var Y=a.getDerivedStateFromProps;F=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||L!==y)&&Zg(n,f,o,y),br=!1;var z=n.memoizedState;f.state=z,$o(n,o,f,h),Xo(),L=n.memoizedState,E||z!==L||br?(typeof Y=="function"&&(Df(n,a,Y,o),L=n.memoizedState),(C=br||$g(n,a,C,o,z,L,y))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=L),f.props=o,f.state=L,f.context=y,o=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,of(t,n),y=n.memoizedProps,F=Ms(a,y),f.props=F,Y=n.pendingProps,z=f.context,L=a.contextType,C=ga,typeof L=="object"&&L!==null&&(C=qt(L)),E=a.getDerivedStateFromProps,(L=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==Y||z!==C)&&Zg(n,f,o,C),br=!1,z=n.memoizedState,f.state=z,$o(n,o,f,h),Xo();var q=n.memoizedState;y!==Y||z!==q||br||t!==null&&t.dependencies!==null&&ku(t.dependencies)?(typeof E=="function"&&(Df(n,a,E,o),q=n.memoizedState),(F=br||$g(n,a,F,o,z,q,C)||t!==null&&t.dependencies!==null&&ku(t.dependencies))?(L||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=C,o=F):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),o=!1)}return f=o,tc(t,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&o?(n.child=xs(n,t.child,null,h),n.child=xs(n,null,a,h)):Ht(t,n,a,h),n.memoizedState=f.state,t=n.child):t=Fi(t,n,h),t}function fy(t,n,a,o){return Rs(),n.flags|=256,Ht(t,n,a,o),n.child}var Pf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function kf(t){return{baseLanes:t,cachePool:tg()}}function Uf(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=En),t}function dy(t,n,a){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(dt.current&2)!==0),y&&(h=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(Pe){if(h?wr(n):Rr(),(t=tt)?(t=T_(t,xn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:_r!==null?{id:Ei,overflow:Ti}:null,retryLane:536870912,hydrationErrors:null},a=Qp(t),a.return=n,n.child=a,Bt=n,tt=null)):t=null,t===null)throw Er(n);return vd(t)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Rr(),h=n.mode,E=nc({mode:"hidden",children:E},h),o=ws(o,h,a,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=kf(a),o.childLanes=Uf(t,y,a),n.memoizedState=Pf,tl(null,o)):(wr(n),Lf(n,E))}var C=t.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(f)n.flags&256?(wr(n),n.flags&=-257,n=zf(t,n,a)):n.memoizedState!==null?(Rr(),n.child=t.child,n.flags|=128,n=null):(Rr(),E=o.fallback,h=n.mode,o=nc({mode:"visible",children:o.children},h),E=ws(E,h,a,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,xs(n,t.child,null,a),o=n.child,o.memoizedState=kf(a),o.childLanes=Uf(t,y,a),n.memoizedState=Pf,n=tl(null,o));else if(wr(n),vd(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var L=y.dgst;y=L,o=Error(s(419)),o.stack="",o.digest=y,Ho({value:o,source:null,stack:null}),n=zf(t,n,a)}else if(St||Ea(t,n,a,!1),y=(a&t.childLanes)!==0,St||y){if(y=We,y!==null&&(o=bo(y,a),o!==0&&o!==C.retryLane))throw C.retryLane=o,Ss(t,o),hn(y,t,o),Vf;_d(E)||hc(),n=zf(t,n,a)}else _d(E)?(n.flags|=192,n.child=t.child,n=null):(t=C.treeContext,tt=Mn(E.nextSibling),Bt=n,Pe=!0,vr=null,xn=!1,t!==null&&Xp(n,t),n=Lf(n,o.children),n.flags|=4096);return n}return h?(Rr(),E=o.fallback,h=n.mode,C=t.child,L=C.sibling,o=Li(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,L!==null?E=Li(L,E):(E=ws(E,h,a,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,tl(null,o),o=n.child,E=t.child.memoizedState,E===null?E=kf(a):(h=E.cachePool,h!==null?(C=bt._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=tg(),E={baseLanes:E.baseLanes|a,cachePool:h}),o.memoizedState=E,o.childLanes=Uf(t,y,a),n.memoizedState=Pf,tl(t.child,o)):(wr(n),a=t.child,t=a.sibling,a=Li(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=a,n.memoizedState=null,a)}function Lf(t,n){return n=nc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function nc(t,n){return t=gn(22,t,null,n),t.lanes=0,t}function zf(t,n,a){return xs(n,t.child,null,a),t=Lf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function my(t,n,a){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),Wh(t.return,n,a)}function jf(t,n,a,o,h,f){var y=t.memoizedState;y===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(y.isBackwards=n,y.rendering=null,y.renderingStartTime=0,y.last=o,y.tail=a,y.tailMode=h,y.treeForkCount=f)}function py(t,n,a){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var y=dt.current,E=(y&2)!==0;if(E?(y=y&1|2,n.flags|=128):y&=1,ne(dt,y),Ht(t,n,o,a),o=Pe?qo:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&my(t,a,n);else if(t.tag===19)my(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&Fu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),jf(n,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Fu(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}jf(n,!0,a,null,f,o);break;case"together":jf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Fi(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),Nr|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(Ea(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=Li(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Li(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Bf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&ku(t)))}function Yb(t,n,a){switch(n.tag){case 3:Ot(n,n.stateNode.containerInfo),Tr(n,bt,t.memoizedState.cache),Rs();break;case 27:case 5:as(n);break;case 4:Ot(n,n.stateNode.containerInfo);break;case 10:Tr(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,ff(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(wr(n),n.flags|=128,null):(a&n.child.childLanes)!==0?dy(t,n,a):(wr(n),t=Fi(t,n,a),t!==null?t.sibling:null);wr(n);break;case 19:var h=(t.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(Ea(t,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return py(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ne(dt,dt.current),o)break;return null;case 22:return n.lanes=0,oy(t,n,a,n.pendingProps);case 24:Tr(n,bt,t.memoizedState.cache)}return Fi(t,n,a)}function gy(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)St=!0;else{if(!Bf(t,a)&&(n.flags&128)===0)return St=!1,Yb(t,n,a);St=(t.flags&131072)!==0}else St=!1,Pe&&(n.flags&1048576)!==0&&Yp(n,qo,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=Ds(n.elementType),n.type=t,typeof t=="function")Gh(t)?(o=Ms(t,o),n.tag=1,n=hy(null,n,t,o,a)):(n.tag=0,n=Mf(null,n,t,o,a));else{if(t!=null){var h=t.$$typeof;if(h===we){n.tag=11,n=ry(null,n,t,o,a);break e}else if(h===w){n.tag=14,n=sy(null,n,t,o,a);break e}}throw n=rt(t)||t,Error(s(306,n,""))}}return n;case 0:return Mf(t,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=Ms(o,n.pendingProps),hy(t,n,o,h,a);case 3:e:{if(Ot(n,n.stateNode.containerInfo),t===null)throw Error(s(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,of(t,n),$o(n,o,null,a);var y=n.memoizedState;if(o=y.cache,Tr(n,bt,o),o!==f.cache&&ef(n,[bt],a,!0),Xo(),o=y.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=fy(t,n,o,a);break e}else if(o!==h){h=Nn(Error(s(424)),n),Ho(h),n=fy(t,n,o,a);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(tt=Mn(t.firstChild),Bt=n,Pe=!0,vr=null,xn=!0,a=og(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Rs(),o===h){n=Fi(t,n,a);break e}Ht(t,n,o,a)}n=n.child}return n;case 26:return tc(t,n),t===null?(a=I_(n.type,null,n.pendingProps,null))?n.memoizedState=a:Pe||(a=n.type,t=n.pendingProps,o=_c(Ae.current).createElement(a),o[vt]=n,o[Pt]=t,Ft(o,a,t),Et(o),n.stateNode=o):n.memoizedState=I_(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return as(n),t===null&&Pe&&(o=n.stateNode=S_(n.type,n.pendingProps,Ae.current),Bt=n,xn=!0,h=tt,Mr(n.type)?(Ed=h,tt=Mn(o.firstChild)):tt=h),Ht(t,n,n.pendingProps.children,a),tc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Pe&&((h=o=tt)&&(o=SA(o,n.type,n.pendingProps,xn),o!==null?(n.stateNode=o,Bt=n,tt=Mn(o.firstChild),xn=!1,h=!0):h=!1),h||Er(n)),as(n),h=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,o=f.children,pd(h,f)?o=null:y!==null&&pd(h,y)&&(n.flags|=32),n.memoizedState!==null&&(h=mf(t,n,zb,null,null,a),gl._currentValue=h),tc(t,n),Ht(t,n,o,a),n.child;case 6:return t===null&&Pe&&((t=a=tt)&&(a=wA(a,n.pendingProps,xn),a!==null?(n.stateNode=a,Bt=n,tt=null,t=!0):t=!1),t||Er(n)),null;case 13:return dy(t,n,a);case 4:return Ot(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=xs(n,null,o,a):Ht(t,n,o,a),n.child;case 11:return ry(t,n,n.type,n.pendingProps,a);case 7:return Ht(t,n,n.pendingProps,a),n.child;case 8:return Ht(t,n,n.pendingProps.children,a),n.child;case 12:return Ht(t,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,Tr(n,n.type,o.value),Ht(t,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Cs(n),h=qt(h),o=o(h),n.flags|=1,Ht(t,n,o,a),n.child;case 14:return sy(t,n,n.type,n.pendingProps,a);case 15:return ay(t,n,n.type,n.pendingProps,a);case 19:return py(t,n,a);case 31:return Kb(t,n,a);case 22:return oy(t,n,a,n.pendingProps);case 24:return Cs(n),o=qt(bt),t===null?(h=rf(),h===null&&(h=We,f=tf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:o,cache:h},af(n),Tr(n,bt,h)):((t.lanes&a)!==0&&(of(t,n),$o(n,null,null,a),Xo()),h=t.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Tr(n,bt,o)):(o=f.cache,Tr(n,bt,o),o!==h.cache&&ef(n,[bt],a,!0))),Ht(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Gi(t){t.flags|=4}function qf(t,n,a,o,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Hy())t.flags|=8192;else throw Os=ju,sf}else t.flags&=-16777217}function yy(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!x_(n))if(Hy())t.flags|=8192;else throw Os=ju,sf}function ic(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?uu():536870912,t.lanes|=n,xa|=n)}function nl(t,n){if(!Pe)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function nt(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=a,n}function Xb(t,n,a){var o=n.pendingProps;switch(Xh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(n),null;case 1:return nt(n),null;case 3:return a=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Bi(bt),st(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(va(n)?Gi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Zh())),nt(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(Gi(n),f!==null?(nt(n),yy(n,f)):(nt(n),qf(n,h,null,o,a))):f?f!==t.memoizedState?(Gi(n),nt(n),yy(n,f)):(nt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&Gi(n),nt(n),qf(n,h,t,o,a)),null;case 27:if(Zs(n),a=Ae.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&Gi(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return nt(n),null}t=ae.current,va(n)?$p(n):(t=S_(h,o,a),n.stateNode=t,Gi(n))}return nt(n),null;case 5:if(Zs(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&Gi(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return nt(n),null}if(f=ae.current,va(n))$p(n);else{var y=_c(Ae.current);switch(f){case 1:f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=y.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?y.createElement("select",{is:o.is}):y.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?y.createElement(h,{is:o.is}):y.createElement(h)}}f[vt]=n,f[Pt]=o;e:for(y=n.child;y!==null;){if(y.tag===5||y.tag===6)f.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===n)break e;for(;y.sibling===null;){if(y.return===null||y.return===n)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}n.stateNode=f;e:switch(Ft(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Gi(n)}}return nt(n),qf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&Gi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(s(166));if(t=Ae.current,va(n)){if(t=n.stateNode,a=n.memoizedProps,o=null,h=Bt,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[vt]=n,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||d_(t.nodeValue,a)),t||Er(n,!0)}else t=_c(t).createTextNode(o),t[vt]=n,n.stateNode=t}return nt(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(o=va(n),a!==null){if(t===null){if(!o)throw Error(s(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[vt]=n}else Rs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;nt(n),t=!1}else a=Zh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(_n(n),n):(_n(n),null);if((n.flags&128)!==0)throw Error(s(558))}return nt(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=va(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[vt]=n}else Rs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;nt(n),h=!1}else h=Zh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(_n(n),n):(_n(n),null)}return _n(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,t=t!==null&&t.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),ic(n,n.updateQueue),nt(n),null);case 4:return st(),t===null&&cd(n.stateNode.containerInfo),nt(n),null;case 10:return Bi(n.type),nt(n),null;case 19:if($(dt),o=n.memoizedState,o===null)return nt(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)nl(o,!1);else{if(ct!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Fu(t),f!==null){for(n.flags|=128,nl(o,!1),t=f.updateQueue,n.updateQueue=t,ic(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)Gp(a,t),a=a.sibling;return ne(dt,dt.current&1|2),Pe&&zi(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&en()>lc&&(n.flags|=128,h=!0,nl(o,!1),n.lanes=4194304)}else{if(!h)if(t=Fu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,ic(n,t),nl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Pe)return nt(n),null}else 2*en()-o.renderingStartTime>lc&&a!==536870912&&(n.flags|=128,h=!0,nl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(t=o.last,t!==null?t.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=en(),t.sibling=null,a=dt.current,ne(dt,h?a&1|2:a&1),Pe&&zi(n,o.treeForkCount),t):(nt(n),null);case 22:case 23:return _n(n),hf(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(nt(n),n.subtreeFlags&6&&(n.flags|=8192)):nt(n),a=n.updateQueue,a!==null&&ic(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),t!==null&&$(Ns),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Bi(bt),nt(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function $b(t,n){switch(Xh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Bi(bt),st(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Zs(n),null;case 31:if(n.memoizedState!==null){if(_n(n),n.alternate===null)throw Error(s(340));Rs()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(_n(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));Rs()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return $(dt),null;case 4:return st(),null;case 10:return Bi(n.type),null;case 22:case 23:return _n(n),hf(),t!==null&&$(Ns),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Bi(bt),null;case 25:return null;default:return null}}function _y(t,n){switch(Xh(n),n.tag){case 3:Bi(bt),st();break;case 26:case 27:case 5:Zs(n);break;case 4:st();break;case 31:n.memoizedState!==null&&_n(n);break;case 13:_n(n);break;case 19:$(dt);break;case 10:Bi(n.type);break;case 22:case 23:_n(n),hf(),t!==null&&$(Ns);break;case 24:Bi(bt)}}function il(t,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&t)===t){o=void 0;var f=a.create,y=a.inst;o=f(),y.destroy=o}a=a.next}while(a!==h)}}catch(E){Ke(n,n.return,E)}}function Ir(t,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var y=o.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,h=n;var C=a,L=E;try{L()}catch(F){Ke(h,C,F)}}}o=o.next}while(o!==f)}}catch(F){Ke(n,n.return,F)}}function vy(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{ug(n,a)}catch(o){Ke(t,t.return,o)}}}function Ey(t,n,a){a.props=Ms(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){Ke(t,n,o)}}function rl(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(h){Ke(t,n,h)}}function bi(t,n){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Ke(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Ke(t,n,h)}else a.current=null}function Ty(t){var n=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Ke(t,t.return,h)}}function Hf(t,n,a){try{var o=t.stateNode;_A(o,t.type,a,n),o[Pt]=n}catch(h){Ke(t,t.return,h)}}function by(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Mr(t.type)||t.tag===4}function Ff(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||by(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Mr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Gf(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=qn));else if(o!==4&&(o===27&&Mr(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Gf(t,n,a),t=t.sibling;t!==null;)Gf(t,n,a),t=t.sibling}function rc(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(o!==4&&(o===27&&Mr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(rc(t,n,a),t=t.sibling;t!==null;)rc(t,n,a),t=t.sibling}function Ay(t){var n=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Ft(n,o,a),n[vt]=t,n[Pt]=a}catch(f){Ke(t,t.return,f)}}var Qi=!1,wt=!1,Qf=!1,Sy=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function Zb(t,n){if(t=t.containerInfo,dd=wc,t=kp(t),Lh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var y=0,E=-1,C=-1,L=0,F=0,Y=t,z=null;t:for(;;){for(var q;Y!==a||h!==0&&Y.nodeType!==3||(E=y+h),Y!==f||o!==0&&Y.nodeType!==3||(C=y+o),Y.nodeType===3&&(y+=Y.nodeValue.length),(q=Y.firstChild)!==null;)z=Y,Y=q;for(;;){if(Y===t)break t;if(z===a&&++L===h&&(E=y),z===f&&++F===o&&(C=y),(q=Y.nextSibling)!==null)break;Y=z,z=Y.parentNode}Y=q}a=E===-1||C===-1?null:{start:E,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(md={focusedElem:t,selectionRange:a},wc=!1,Ut=n;Ut!==null;)if(n=Ut,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Ut=t;else for(;Ut!==null;){switch(n=Ut,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var le=Ms(a.type,h);t=o.getSnapshotBeforeUpdate(le,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(pe){Ke(a,a.return,pe)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)yd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":yd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Ut=t;break}Ut=n.return}}function wy(t,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Yi(t,a),o&4&&il(5,a);break;case 1:if(Yi(t,a),o&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(y){Ke(a,a.return,y)}else{var h=Ms(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){Ke(a,a.return,y)}}o&64&&vy(a),o&512&&rl(a,a.return);break;case 3:if(Yi(t,a),o&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{ug(t,n)}catch(y){Ke(a,a.return,y)}}break;case 27:n===null&&o&4&&Ay(a);case 26:case 5:Yi(t,a),n===null&&o&4&&Ty(a),o&512&&rl(a,a.return);break;case 12:Yi(t,a);break;case 31:Yi(t,a),o&4&&Cy(t,a);break;case 13:Yi(t,a),o&4&&Ny(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=aA.bind(null,a),RA(t,a))));break;case 22:if(o=a.memoizedState!==null||Qi,!o){n=n!==null&&n.memoizedState!==null||wt,h=Qi;var f=wt;Qi=o,(wt=n)&&!f?Xi(t,a,(a.subtreeFlags&8772)!==0):Yi(t,a),Qi=h,wt=f}break;case 30:break;default:Yi(t,a)}}function Ry(t){var n=t.alternate;n!==null&&(t.alternate=null,Ry(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&na(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ot=null,on=!1;function Ki(t,n,a){for(a=a.child;a!==null;)Iy(t,n,a),a=a.sibling}function Iy(t,n,a){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(Ln,a)}catch{}switch(a.tag){case 26:wt||bi(a,n),Ki(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:wt||bi(a,n);var o=ot,h=on;Mr(a.type)&&(ot=a.stateNode,on=!1),Ki(t,n,a),dl(a.stateNode),ot=o,on=h;break;case 5:wt||bi(a,n);case 6:if(o=ot,h=on,ot=null,Ki(t,n,a),ot=o,on=h,ot!==null)if(on)try{(ot.nodeType===9?ot.body:ot.nodeName==="HTML"?ot.ownerDocument.body:ot).removeChild(a.stateNode)}catch(f){Ke(a,n,f)}else try{ot.removeChild(a.stateNode)}catch(f){Ke(a,n,f)}break;case 18:ot!==null&&(on?(t=ot,v_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),ja(t)):v_(ot,a.stateNode));break;case 4:o=ot,h=on,ot=a.stateNode.containerInfo,on=!0,Ki(t,n,a),ot=o,on=h;break;case 0:case 11:case 14:case 15:Ir(2,a,n),wt||Ir(4,a,n),Ki(t,n,a);break;case 1:wt||(bi(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Ey(a,n,o)),Ki(t,n,a);break;case 21:Ki(t,n,a);break;case 22:wt=(o=wt)||a.memoizedState!==null,Ki(t,n,a),wt=o;break;default:Ki(t,n,a)}}function Cy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{ja(t)}catch(a){Ke(n,n.return,a)}}}function Ny(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ja(t)}catch(a){Ke(n,n.return,a)}}function Jb(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Sy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Sy),n;default:throw Error(s(435,t.tag))}}function sc(t,n){var a=Jb(t);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=oA.bind(null,t,o);o.then(h,h)}})}function ln(t,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=t,y=n,E=y;e:for(;E!==null;){switch(E.tag){case 27:if(Mr(E.type)){ot=E.stateNode,on=!1;break e}break;case 5:ot=E.stateNode,on=!1;break e;case 3:case 4:ot=E.stateNode.containerInfo,on=!0;break e}E=E.return}if(ot===null)throw Error(s(160));Iy(f,y,h),ot=null,on=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Dy(n,t),n=n.sibling}var Yn=null;function Dy(t,n){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ln(n,t),un(t),o&4&&(Ir(3,t,t.return),il(3,t),Ir(5,t,t.return));break;case 1:ln(n,t),un(t),o&512&&(wt||a===null||bi(a,a.return)),o&64&&Qi&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Yn;if(ln(n,t),un(t),o&512&&(wt||a===null||bi(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[li]||f[vt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Ft(f,o,a),f[vt]=t,Et(f),o=f;break e;case"link":var y=D_("link","href",h).get(o+(a.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(E,1);break t}}f=h.createElement(o),Ft(f,o,a),h.head.appendChild(f);break;case"meta":if(y=D_("meta","content",h).get(o+(a.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(E,1);break t}}f=h.createElement(o),Ft(f,o,a),h.head.appendChild(f);break;default:throw Error(s(468,o))}f[vt]=t,Et(f),o=f}t.stateNode=o}else O_(h,t.type,t.stateNode);else t.stateNode=N_(h,o,t.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?O_(h,t.type,t.stateNode):N_(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Hf(t,t.memoizedProps,a.memoizedProps)}break;case 27:ln(n,t),un(t),o&512&&(wt||a===null||bi(a,a.return)),a!==null&&o&4&&Hf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(ln(n,t),un(t),o&512&&(wt||a===null||bi(a,a.return)),t.flags&32){h=t.stateNode;try{an(h,"")}catch(le){Ke(t,t.return,le)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,Hf(t,h,a!==null?a.memoizedProps:h)),o&1024&&(Qf=!0);break;case 6:if(ln(n,t),un(t),o&4){if(t.stateNode===null)throw Error(s(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(le){Ke(t,t.return,le)}}break;case 3:if(Tc=null,h=Yn,Yn=vc(n.containerInfo),ln(n,t),Yn=h,un(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{ja(n.containerInfo)}catch(le){Ke(t,t.return,le)}Qf&&(Qf=!1,Oy(t));break;case 4:o=Yn,Yn=vc(t.stateNode.containerInfo),ln(n,t),un(t),Yn=o;break;case 12:ln(n,t),un(t);break;case 31:ln(n,t),un(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,sc(t,o)));break;case 13:ln(n,t),un(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(oc=en()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,sc(t,o)));break;case 22:h=t.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,L=Qi,F=wt;if(Qi=L||h,wt=F||C,ln(n,t),wt=F,Qi=L,un(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||C||Qi||wt||Ps(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){C=a=n;try{if(f=C.stateNode,h)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=C.stateNode;var Y=C.memoizedProps.style,z=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(le){Ke(C,C.return,le)}}}else if(n.tag===6){if(a===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(le){Ke(C,C.return,le)}}}else if(n.tag===18){if(a===null){C=n;try{var q=C.stateNode;h?E_(q,!0):E_(C.stateNode,!1)}catch(le){Ke(C,C.return,le)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,sc(t,a))));break;case 19:ln(n,t),un(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,sc(t,o)));break;case 30:break;case 21:break;default:ln(n,t),un(t)}}function un(t){var n=t.flags;if(n&2){try{for(var a,o=t.return;o!==null;){if(by(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,f=Ff(t);rc(t,f,h);break;case 5:var y=a.stateNode;a.flags&32&&(an(y,""),a.flags&=-33);var E=Ff(t);rc(t,E,y);break;case 3:case 4:var C=a.stateNode.containerInfo,L=Ff(t);Gf(t,L,C);break;default:throw Error(s(161))}}catch(F){Ke(t,t.return,F)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Oy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Oy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Yi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)wy(t,n.alternate,n),n=n.sibling}function Ps(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Ir(4,n,n.return),Ps(n);break;case 1:bi(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Ey(n,n.return,a),Ps(n);break;case 27:dl(n.stateNode);case 26:case 5:bi(n,n.return),Ps(n);break;case 22:n.memoizedState===null&&Ps(n);break;case 30:Ps(n);break;default:Ps(n)}t=t.sibling}}function Xi(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:Xi(h,f,a),il(4,f);break;case 1:if(Xi(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(L){Ke(o,o.return,L)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)lg(C[h],E)}catch(L){Ke(o,o.return,L)}}a&&y&64&&vy(f),rl(f,f.return);break;case 27:Ay(f);case 26:case 5:Xi(h,f,a),a&&o===null&&y&4&&Ty(f),rl(f,f.return);break;case 12:Xi(h,f,a);break;case 31:Xi(h,f,a),a&&y&4&&Cy(h,f);break;case 13:Xi(h,f,a),a&&y&4&&Ny(h,f);break;case 22:f.memoizedState===null&&Xi(h,f,a),rl(f,f.return);break;case 30:break;default:Xi(h,f,a)}n=n.sibling}}function Kf(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Fo(a))}function Yf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Fo(t))}function Xn(t,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)xy(t,n,a,o),n=n.sibling}function xy(t,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Xn(t,n,a,o),h&2048&&il(9,n);break;case 1:Xn(t,n,a,o);break;case 3:Xn(t,n,a,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Fo(t)));break;case 12:if(h&2048){Xn(t,n,a,o),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){Ke(n,n.return,C)}}else Xn(t,n,a,o);break;case 31:Xn(t,n,a,o);break;case 13:Xn(t,n,a,o);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?Xn(t,n,a,o):sl(t,n):f._visibility&2?Xn(t,n,a,o):(f._visibility|=2,Na(t,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Kf(y,n);break;case 24:Xn(t,n,a,o),h&2048&&Yf(n.alternate,n);break;default:Xn(t,n,a,o)}}function Na(t,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,y=n,E=a,C=o,L=y.flags;switch(y.tag){case 0:case 11:case 15:Na(f,y,E,C,h),il(8,y);break;case 23:break;case 22:var F=y.stateNode;y.memoizedState!==null?F._visibility&2?Na(f,y,E,C,h):sl(f,y):(F._visibility|=2,Na(f,y,E,C,h)),h&&L&2048&&Kf(y.alternate,y);break;case 24:Na(f,y,E,C,h),h&&L&2048&&Yf(y.alternate,y);break;default:Na(f,y,E,C,h)}n=n.sibling}}function sl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,o=n,h=o.flags;switch(o.tag){case 22:sl(a,o),h&2048&&Kf(o.alternate,o);break;case 24:sl(a,o),h&2048&&Yf(o.alternate,o);break;default:sl(a,o)}n=n.sibling}}var al=8192;function Da(t,n,a){if(t.subtreeFlags&al)for(t=t.child;t!==null;)Vy(t,n,a),t=t.sibling}function Vy(t,n,a){switch(t.tag){case 26:Da(t,n,a),t.flags&al&&t.memoizedState!==null&&LA(a,Yn,t.memoizedState,t.memoizedProps);break;case 5:Da(t,n,a);break;case 3:case 4:var o=Yn;Yn=vc(t.stateNode.containerInfo),Da(t,n,a),Yn=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=al,al=16777216,Da(t,n,a),al=o):Da(t,n,a));break;default:Da(t,n,a)}}function My(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function ol(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Ut=o,ky(o,t)}My(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Py(t),t=t.sibling}function Py(t){switch(t.tag){case 0:case 11:case 15:ol(t),t.flags&2048&&Ir(9,t,t.return);break;case 3:ol(t);break;case 12:ol(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,ac(t)):ol(t);break;default:ol(t)}}function ac(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Ut=o,ky(o,t)}My(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Ir(8,n,n.return),ac(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,ac(n));break;default:ac(n)}t=t.sibling}}function ky(t,n){for(;Ut!==null;){var a=Ut;switch(a.tag){case 0:case 11:case 15:Ir(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Fo(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Ut=o;else e:for(a=t;Ut!==null;){o=Ut;var h=o.sibling,f=o.return;if(Ry(o),o===a){Ut=null;break e}if(h!==null){h.return=f,Ut=h;break e}Ut=f}}}var Wb={getCacheForType:function(t){var n=qt(bt),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return qt(bt).controller.signal}},eA=typeof WeakMap=="function"?WeakMap:Map,qe=0,We=null,Re=null,Ne=0,Qe=0,vn=null,Cr=!1,Oa=!1,Xf=!1,$i=0,ct=0,Nr=0,ks=0,$f=0,En=0,xa=0,ll=null,cn=null,Zf=!1,oc=0,Uy=0,lc=1/0,uc=null,Dr=null,Vt=0,Or=null,Va=null,Zi=0,Jf=0,Wf=null,Ly=null,ul=0,ed=null;function Tn(){return(qe&2)!==0&&Ne!==0?Ne&-Ne:G.T!==null?ad():cu()}function zy(){if(En===0)if((Ne&536870912)===0||Pe){var t=us;us<<=1,(us&3932160)===0&&(us=262144),En=t}else En=536870912;return t=yn.current,t!==null&&(t.flags|=32),En}function hn(t,n,a){(t===We&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)&&(Ma(t,0),xr(t,Ne,En,!1)),cs(t,a),((qe&2)===0||t!==We)&&(t===We&&((qe&2)===0&&(ks|=a),ct===4&&xr(t,Ne,En,!1)),Ai(t))}function jy(t,n,a){if((qe&6)!==0)throw Error(s(327));var o=!a&&(n&127)===0&&(n&t.expiredLanes)===0||zn(t,n),h=o?iA(t,n):nd(t,n,!0),f=o;do{if(h===0){Oa&&!o&&xr(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!tA(a)){h=nd(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;e:{var E=t;h=ll;var C=E.current.memoizedState.isDehydrated;if(C&&(Ma(E,y).flags|=256),y=nd(E,y,!1),y!==2){if(Xf&&!C){E.errorRecoveryDisabledLanes|=f,ks|=f,h=4;break e}f=cn,cn=h,f!==null&&(cn===null?cn=f:cn.push.apply(cn,f))}h=y}if(f=!1,h!==2)continue}}if(h===1){Ma(t,0),xr(t,n,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:xr(o,n,En,!Cr);break e;case 2:cn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=oc+300-en(),10<h)){if(xr(o,n,En,!Cr),si(o,0,!0)!==0)break e;Zi=n,o.timeoutHandle=y_(By.bind(null,o,a,cn,uc,Zf,n,En,ks,xa,Cr,f,"Throttled",-0,0),h);break e}By(o,a,cn,uc,Zf,n,En,ks,xa,Cr,f,null,-0,0)}}break}while(!0);Ai(t)}function By(t,n,a,o,h,f,y,E,C,L,F,Y,z,q){if(t.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:qn},Vy(n,f,Y);var le=(f&62914560)===f?oc-en():(f&4194048)===f?Uy-en():0;if(le=zA(Y,le),le!==null){Zi=f,t.cancelPendingCommit=le(Xy.bind(null,t,n,f,a,o,h,y,E,C,F,Y,null,z,q)),xr(t,f,y,!L);return}}Xy(t,n,f,a,o,h,y,E,C)}function tA(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!pn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function xr(t,n,a,o){n&=~$f,n&=~ks,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var f=31-ht(h),y=1<<f;o[f]=-1,h&=~y}a!==0&&hs(t,a,n)}function cc(){return(qe&6)===0?(cl(0),!1):!0}function td(){if(Re!==null){if(Qe===0)var t=Re.return;else t=Re,ji=Is=null,yf(t),Sa=null,Qo=0,t=Re;for(;t!==null;)_y(t.alternate,t),t=t.return;Re=null}}function Ma(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,TA(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Zi=0,td(),We=t,Re=a=Li(t.current,null),Ne=n,Qe=0,vn=null,Cr=!1,Oa=zn(t,n),Xf=!1,xa=En=$f=ks=Nr=ct=0,cn=ll=null,Zf=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-ht(o),f=1<<h;n|=t[h],o&=~f}return $i=n,Ou(),a}function qy(t,n){be=null,G.H=el,n===Aa||n===zu?(n=rg(),Qe=3):n===sf?(n=rg(),Qe=4):Qe=n===Vf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,vn=n,Re===null&&(ct=1,Wu(t,Nn(n,t.current)))}function Hy(){var t=yn.current;return t===null?!0:(Ne&4194048)===Ne?Vn===null:(Ne&62914560)===Ne||(Ne&536870912)!==0?t===Vn:!1}function Fy(){var t=G.H;return G.H=el,t===null?el:t}function Gy(){var t=G.A;return G.A=Wb,t}function hc(){ct=4,Cr||(Ne&4194048)!==Ne&&yn.current!==null||(Oa=!0),(Nr&134217727)===0&&(ks&134217727)===0||We===null||xr(We,Ne,En,!1)}function nd(t,n,a){var o=qe;qe|=2;var h=Fy(),f=Gy();(We!==t||Ne!==n)&&(uc=null,Ma(t,n)),n=!1;var y=ct;e:do try{if(Qe!==0&&Re!==null){var E=Re,C=vn;switch(Qe){case 8:td(),y=6;break e;case 3:case 2:case 9:case 6:yn.current===null&&(n=!0);var L=Qe;if(Qe=0,vn=null,Pa(t,E,C,L),a&&Oa){y=0;break e}break;default:L=Qe,Qe=0,vn=null,Pa(t,E,C,L)}}nA(),y=ct;break}catch(F){qy(t,F)}while(!0);return n&&t.shellSuspendCounter++,ji=Is=null,qe=o,G.H=h,G.A=f,Re===null&&(We=null,Ne=0,Ou()),y}function nA(){for(;Re!==null;)Qy(Re)}function iA(t,n){var a=qe;qe|=2;var o=Fy(),h=Gy();We!==t||Ne!==n?(uc=null,lc=en()+500,Ma(t,n)):Oa=zn(t,n);e:do try{if(Qe!==0&&Re!==null){n=Re;var f=vn;t:switch(Qe){case 1:Qe=0,vn=null,Pa(t,n,f,1);break;case 2:case 9:if(ng(f)){Qe=0,vn=null,Ky(n);break}n=function(){Qe!==2&&Qe!==9||We!==t||(Qe=7),Ai(t)},f.then(n,n);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:ng(f)?(Qe=0,vn=null,Ky(n)):(Qe=0,vn=null,Pa(t,n,f,7));break;case 5:var y=null;switch(Re.tag){case 26:y=Re.memoizedState;case 5:case 27:var E=Re;if(y?x_(y):E.stateNode.complete){Qe=0,vn=null;var C=E.sibling;if(C!==null)Re=C;else{var L=E.return;L!==null?(Re=L,fc(L)):Re=null}break t}}Qe=0,vn=null,Pa(t,n,f,5);break;case 6:Qe=0,vn=null,Pa(t,n,f,6);break;case 8:td(),ct=6;break e;default:throw Error(s(462))}}rA();break}catch(F){qy(t,F)}while(!0);return ji=Is=null,G.H=o,G.A=h,qe=a,Re!==null?0:(We=null,Ne=0,Ou(),ct)}function rA(){for(;Re!==null&&!Oh();)Qy(Re)}function Qy(t){var n=gy(t.alternate,t,$i);t.memoizedProps=t.pendingProps,n===null?fc(t):Re=n}function Ky(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=cy(a,n,n.pendingProps,n.type,void 0,Ne);break;case 11:n=cy(a,n,n.pendingProps,n.type.render,n.ref,Ne);break;case 5:yf(n);default:_y(a,n),n=Re=Gp(n,$i),n=gy(a,n,$i)}t.memoizedProps=t.pendingProps,n===null?fc(t):Re=n}function Pa(t,n,a,o){ji=Is=null,yf(n),Sa=null,Qo=0;var h=n.return;try{if(Qb(t,h,n,a,Ne)){ct=1,Wu(t,Nn(a,t.current)),Re=null;return}}catch(f){if(h!==null)throw Re=h,f;ct=1,Wu(t,Nn(a,t.current)),Re=null;return}n.flags&32768?(Pe||o===1?t=!0:Oa||(Ne&536870912)!==0?t=!1:(Cr=t=!0,(o===2||o===9||o===3||o===6)&&(o=yn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Yy(n,t)):fc(n)}function fc(t){var n=t;do{if((n.flags&32768)!==0){Yy(n,Cr);return}t=n.return;var a=Xb(n.alternate,n,$i);if(a!==null){Re=a;return}if(n=n.sibling,n!==null){Re=n;return}Re=n=t}while(n!==null);ct===0&&(ct=5)}function Yy(t,n){do{var a=$b(t.alternate,t);if(a!==null){a.flags&=32767,Re=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Re=t;return}Re=t=a}while(t!==null);ct=6,Re=null}function Xy(t,n,a,o,h,f,y,E,C){t.cancelPendingCommit=null;do dc();while(Vt!==0);if((qe&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=Hh,Mh(t,a,f,y,E,C),t===We&&(Re=We=null,Ne=0),Va=n,Or=t,Zi=a,Jf=f,Wf=h,Ly=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,lA(lr,function(){return e_(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=G.T,G.T=null,h=te.p,te.p=2,y=qe,qe|=4;try{Zb(t,n,a)}finally{qe=y,te.p=h,G.T=o}}Vt=1,$y(),Zy(),Jy()}}function $y(){if(Vt===1){Vt=0;var t=Or,n=Va,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var o=te.p;te.p=2;var h=qe;qe|=4;try{Dy(n,t);var f=md,y=kp(t.containerInfo),E=f.focusedElem,C=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&Pp(E.ownerDocument.documentElement,E)){if(C!==null&&Lh(E)){var L=C.start,F=C.end;if(F===void 0&&(F=L),"selectionStart"in E)E.selectionStart=L,E.selectionEnd=Math.min(F,E.value.length);else{var Y=E.ownerDocument||document,z=Y&&Y.defaultView||window;if(z.getSelection){var q=z.getSelection(),le=E.textContent.length,pe=Math.min(C.start,le),Ze=C.end===void 0?pe:Math.min(C.end,le);!q.extend&&pe>Ze&&(y=Ze,Ze=pe,pe=y);var M=Mp(E,pe),D=Mp(E,Ze);if(M&&D&&(q.rangeCount!==1||q.anchorNode!==M.node||q.anchorOffset!==M.offset||q.focusNode!==D.node||q.focusOffset!==D.offset)){var U=Y.createRange();U.setStart(M.node,M.offset),q.removeAllRanges(),pe>Ze?(q.addRange(U),q.extend(D.node,D.offset)):(U.setEnd(D.node,D.offset),q.addRange(U))}}}}for(Y=[],q=E;q=q.parentNode;)q.nodeType===1&&Y.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var Q=Y[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}wc=!!dd,md=dd=null}finally{qe=h,te.p=o,G.T=a}}t.current=n,Vt=2}}function Zy(){if(Vt===2){Vt=0;var t=Or,n=Va,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var o=te.p;te.p=2;var h=qe;qe|=4;try{wy(t,n.alternate,n)}finally{qe=h,te.p=o,G.T=a}}Vt=3}}function Jy(){if(Vt===4||Vt===3){Vt=0,iu();var t=Or,n=Va,a=Zi,o=Ly;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Vt=5:(Vt=0,Va=Or=null,Wy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Dr=null),Mi(a),n=n.stateNode,zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(Ln,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=G.T,h=te.p,te.p=2,G.T=null;try{for(var f=t.onRecoverableError,y=0;y<o.length;y++){var E=o[y];f(E.value,{componentStack:E.stack})}}finally{G.T=n,te.p=h}}(Zi&3)!==0&&dc(),Ai(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===ed?ul++:(ul=0,ed=t):ul=0,cl(0)}}function Wy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Fo(n)))}function dc(){return $y(),Zy(),Jy(),e_()}function e_(){if(Vt!==5)return!1;var t=Or,n=Jf;Jf=0;var a=Mi(Zi),o=G.T,h=te.p;try{te.p=32>a?32:a,G.T=null,a=Wf,Wf=null;var f=Or,y=Zi;if(Vt=0,Va=Or=null,Zi=0,(qe&6)!==0)throw Error(s(331));var E=qe;if(qe|=4,Py(f.current),xy(f,f.current,y,a),qe=E,cl(0,!1),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(Ln,f)}catch{}return!0}finally{te.p=h,G.T=o,Wy(t,n)}}function t_(t,n,a){n=Nn(a,n),n=xf(t.stateNode,n,2),t=Sr(t,n,2),t!==null&&(cs(t,2),Ai(t))}function Ke(t,n,a){if(t.tag===3)t_(t,t,a);else for(;n!==null;){if(n.tag===3){t_(n,t,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Dr===null||!Dr.has(o))){t=Nn(a,t),a=ny(2),o=Sr(n,a,2),o!==null&&(iy(a,o,n,t),cs(o,2),Ai(o));break}}n=n.return}}function id(t,n,a){var o=t.pingCache;if(o===null){o=t.pingCache=new eA;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(Xf=!0,h.add(a),t=sA.bind(null,t,n,a),n.then(t,t))}function sA(t,n,a){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,We===t&&(Ne&a)===a&&(ct===4||ct===3&&(Ne&62914560)===Ne&&300>en()-oc?(qe&2)===0&&Ma(t,0):$f|=a,xa===Ne&&(xa=0)),Ai(t)}function n_(t,n){n===0&&(n=uu()),t=Ss(t,n),t!==null&&(cs(t,n),Ai(t))}function aA(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),n_(t,a)}function oA(t,n){var a=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(n),n_(t,a)}function lA(t,n){return xt(t,n)}var mc=null,ka=null,rd=!1,pc=!1,sd=!1,Vr=0;function Ai(t){t!==ka&&t.next===null&&(ka===null?mc=ka=t:ka=ka.next=t),pc=!0,rd||(rd=!0,cA())}function cl(t,n){if(!sd&&pc){sd=!0;do for(var a=!1,o=mc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var y=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-ht(42|t)+1)-1,f&=h&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,a_(o,f))}else f=Ne,f=si(o,o===We?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||zn(o,f)||(a=!0,a_(o,f));o=o.next}while(a);sd=!1}}function uA(){i_()}function i_(){pc=rd=!1;var t=0;Vr!==0&&EA()&&(t=Vr);for(var n=en(),a=null,o=mc;o!==null;){var h=o.next,f=r_(o,n);f===0?(o.next=null,a===null?mc=h:a.next=h,h===null&&(ka=a)):(a=o,(t!==0||(f&3)!==0)&&(pc=!0)),o=h}Vt!==0&&Vt!==5||cl(t),Vr!==0&&(Vr=0)}function r_(t,n){for(var a=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-ht(f),E=1<<y,C=h[y];C===-1?((E&a)===0||(E&o)!==0)&&(h[y]=Vh(E,n)):C<=n&&(t.expiredLanes|=E),f&=~E}if(n=We,a=Ne,a=si(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===n&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&or(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||zn(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(o!==null&&or(o),Mi(a)){case 2:case 8:a=Eo;break;case 32:a=lr;break;case 268435456:a=ru;break;default:a=lr}return o=s_.bind(null,t),a=xt(a,o),t.callbackPriority=n,t.callbackNode=a,n}return o!==null&&o!==null&&or(o),t.callbackPriority=2,t.callbackNode=null,2}function s_(t,n){if(Vt!==0&&Vt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(dc()&&t.callbackNode!==a)return null;var o=Ne;return o=si(t,t===We?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(jy(t,o,n),r_(t,en()),t.callbackNode!=null&&t.callbackNode===a?s_.bind(null,t):null)}function a_(t,n){if(dc())return null;jy(t,n,!0)}function cA(){bA(function(){(qe&6)!==0?xt(vo,uA):i_()})}function ad(){if(Vr===0){var t=Ta;t===0&&(t=ii,ii<<=1,(ii&261888)===0&&(ii=256)),Vr=t}return Vr}function o_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:aa(""+t)}function l_(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function hA(t,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var f=o_((h[Pt]||null).action),y=o.submitter;y&&(n=(n=y[Pt]||null)?o_(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new gi("action","action",null,o,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Vr!==0){var C=y?l_(h,y):new FormData(h);Rf(a,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(E.preventDefault(),C=y?l_(h,y):new FormData(h),Rf(a,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var od=0;od<qh.length;od++){var ld=qh[od],fA=ld.toLowerCase(),dA=ld[0].toUpperCase()+ld.slice(1);Kn(fA,"on"+dA)}Kn(zp,"onAnimationEnd"),Kn(jp,"onAnimationIteration"),Kn(Bp,"onAnimationStart"),Kn("dblclick","onDoubleClick"),Kn("focusin","onFocus"),Kn("focusout","onBlur"),Kn(Nb,"onTransitionRun"),Kn(Db,"onTransitionStart"),Kn(Ob,"onTransitionCancel"),Kn(qp,"onTransitionEnd"),fi("onMouseEnter",["mouseout","mouseover"]),fi("onMouseLeave",["mouseout","mouseover"]),fi("onPointerEnter",["pointerout","pointerover"]),fi("onPointerLeave",["pointerout","pointerover"]),hi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),hi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),hi("onBeforeInput",["compositionend","keypress","textInput","paste"]),hi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),hi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),hi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hl));function u_(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],h=o.event;o=o.listeners;e:{var f=void 0;if(n)for(var y=o.length-1;0<=y;y--){var E=o[y],C=E.instance,L=E.currentTarget;if(E=E.listener,C!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=L;try{f(h)}catch(F){Du(F)}h.currentTarget=null,f=C}else for(y=0;y<o.length;y++){if(E=o[y],C=E.instance,L=E.currentTarget,E=E.listener,C!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=L;try{f(h)}catch(F){Du(F)}h.currentTarget=null,f=C}}}}function Ie(t,n){var a=n[ta];a===void 0&&(a=n[ta]=new Set);var o=t+"__bubble";a.has(o)||(c_(n,t,2,!1),a.add(o))}function ud(t,n,a){var o=0;n&&(o|=4),c_(a,t,o,n)}var gc="_reactListening"+Math.random().toString(36).slice(2);function cd(t){if(!t[gc]){t[gc]=!0,Ao.forEach(function(a){a!=="selectionchange"&&(mA.has(a)||ud(a,!1,t),ud(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[gc]||(n[gc]=!0,ud("selectionchange",!1,n))}}function c_(t,n,a,o){switch(z_(n)){case 2:var h=qA;break;case 8:h=HA;break;default:h=wd}a=h.bind(null,n,a,t),h=void 0,!gs||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function hd(t,n,a,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var y=o.tag;if(y===3||y===4){var E=o.stateNode.containerInfo;if(E===h)break;if(y===4)for(y=o.return;y!==null;){var C=y.tag;if((C===3||C===4)&&y.stateNode.containerInfo===h)return;y=y.return}for(;E!==null;){if(y=ui(E),y===null)return;if(C=y.tag,C===5||C===6||C===26||C===27){o=f=y;continue e}E=E.parentNode}}o=o.return}mr(function(){var L=f,F=wn(a),Y=[];e:{var z=Hp.get(t);if(z!==void 0){var q=gi,le=t;switch(t){case"keypress":if(_s(a)===0)break e;case"keydown":case"keyup":q=Iu;break;case"focusin":le="focus",q=Es;break;case"focusout":le="blur",q=Es;break;case"beforeblur":case"afterblur":q=Es;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=ko;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=_u;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case zp:case jp:case Bp:q=Eu;break;case qp:q=b;break;case"scroll":case"scrollend":q=Po;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=Tu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Ui;break;case"toggle":case"beforetoggle":q=Te}var pe=(n&4)!==0,Ze=!pe&&(t==="scroll"||t==="scrollend"),M=pe?z!==null?z+"Capture":null:z;pe=[];for(var D=L,U;D!==null;){var Q=D;if(U=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||U===null||M===null||(Q=Hn(D,M),Q!=null&&pe.push(fl(D,Q,U))),Ze)break;D=D.return}0<pe.length&&(z=new q(z,le,null,a,F),Y.push({event:z,listeners:pe}))}}if((n&7)===0){e:{if(z=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",z&&a!==xo&&(le=a.relatedTarget||a.fromElement)&&(ui(le)||le[oi]))break e;if((q||z)&&(z=F.window===F?F:(z=F.ownerDocument)?z.defaultView||z.parentWindow:window,q?(le=a.relatedTarget||a.toElement,q=L,le=le?ui(le):null,le!==null&&(Ze=c(le),pe=le.tag,le!==Ze||pe!==5&&pe!==27&&pe!==6)&&(le=null)):(q=null,le=L),q!==le)){if(pe=ko,Q="onMouseLeave",M="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(pe=Ui,Q="onPointerLeave",M="onPointerEnter",D="pointer"),Ze=q==null?z:dn(q),U=le==null?z:dn(le),z=new pe(Q,D+"leave",q,a,F),z.target=Ze,z.relatedTarget=U,Q=null,ui(F)===L&&(pe=new pe(M,D+"enter",le,a,F),pe.target=U,pe.relatedTarget=Ze,Q=pe),Ze=Q,q&&le)t:{for(pe=pA,M=q,D=le,U=0,Q=M;Q;Q=pe(Q))U++;Q=0;for(var he=D;he;he=pe(he))Q++;for(;0<U-Q;)M=pe(M),U--;for(;0<Q-U;)D=pe(D),Q--;for(;U--;){if(M===D||D!==null&&M===D.alternate){pe=M;break t}M=pe(M),D=pe(D)}pe=null}else pe=null;q!==null&&h_(Y,z,q,pe,!1),le!==null&&Ze!==null&&h_(Y,Ze,le,pe,!0)}}e:{if(z=L?dn(L):window,q=z.nodeName&&z.nodeName.toLowerCase(),q==="select"||q==="input"&&z.type==="file")var ze=Cp;else if(Rp(z))if(Np)ze=Rb;else{ze=Sb;var ue=Ab}else q=z.nodeName,!q||q.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?L&&sa(L.elementType)&&(ze=Cp):ze=wb;if(ze&&(ze=ze(t,L))){Ip(Y,ze,a,F);break e}ue&&ue(t,z,L),t==="focusout"&&L&&z.type==="number"&&L.memoizedProps.value!=null&&No(z,"number",z.value)}switch(ue=L?dn(L):window,t){case"focusin":(Rp(ue)||ue.contentEditable==="true")&&(da=ue,zh=L,Bo=null);break;case"focusout":Bo=zh=da=null;break;case"mousedown":jh=!0;break;case"contextmenu":case"mouseup":case"dragend":jh=!1,Up(Y,a,F);break;case"selectionchange":if(Cb)break;case"keydown":case"keyup":Up(Y,a,F)}var Se;if(Be)e:{switch(t){case"compositionstart":var De="onCompositionStart";break e;case"compositionend":De="onCompositionEnd";break e;case"compositionupdate":De="onCompositionUpdate";break e}De=void 0}else fa?Ts(t,a)&&(De="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(De="onCompositionStart");De&&(vi&&a.locale!=="ko"&&(fa||De!=="onCompositionStart"?De==="onCompositionEnd"&&fa&&(Se=Mo()):(pi=F,Vo="value"in pi?pi.value:pi.textContent,fa=!0)),ue=yc(L,De),0<ue.length&&(De=new _i(De,t,null,a,F),Y.push({event:De,listeners:ue}),Se?De.data=Se:(Se=ha(a),Se!==null&&(De.data=Se)))),(Se=In?vb(t,a):Eb(t,a))&&(De=yc(L,"onBeforeInput"),0<De.length&&(ue=new _i("onBeforeInput","beforeinput",null,a,F),Y.push({event:ue,listeners:De}),ue.data=Se)),hA(Y,t,L,a,F)}u_(Y,n)})}function fl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function yc(t,n){for(var a=n+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Hn(t,a),h!=null&&o.unshift(fl(t,h,f)),h=Hn(t,n),h!=null&&o.push(fl(t,h,f))),t.tag===3)return o;t=t.return}return[]}function pA(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function h_(t,n,a,o,h){for(var f=n._reactName,y=[];a!==null&&a!==o;){var E=a,C=E.alternate,L=E.stateNode;if(E=E.tag,C!==null&&C===o)break;E!==5&&E!==26&&E!==27||L===null||(C=L,h?(L=Hn(a,f),L!=null&&y.unshift(fl(a,L,C))):h||(L=Hn(a,f),L!=null&&y.push(fl(a,L,C)))),a=a.return}y.length!==0&&t.push({event:n,listeners:y})}var gA=/\r\n?/g,yA=/\u0000|\uFFFD/g;function f_(t){return(typeof t=="string"?t:""+t).replace(gA,`
`).replace(yA,"")}function d_(t,n){return n=f_(n),f_(t)===n}function $e(t,n,a,o,h,f){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||an(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&an(t,""+o);break;case"className":mn(t,"class",o);break;case"tabIndex":mn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":mn(t,a,o);break;case"style":Oo(t,o,f);break;case"data":if(n!=="object"){mn(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=aa(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&$e(t,n,"name",h.name,h,null),$e(t,n,"formEncType",h.formEncType,h,null),$e(t,n,"formMethod",h.formMethod,h,null),$e(t,n,"formTarget",h.formTarget,h,null)):($e(t,n,"encType",h.encType,h,null),$e(t,n,"method",h.method,h,null),$e(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=aa(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=qn);break;case"onScroll":o!=null&&Ie("scroll",t);break;case"onScrollEnd":o!=null&&Ie("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=aa(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":Ie("beforetoggle",t),Ie("toggle",t),ia(t,"popover",o);break;case"xlinkActuate":Tt(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Tt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Tt(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Tt(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Tt(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Tt(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Tt(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Tt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Tt(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ia(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=yu.get(a)||a,ia(t,a,o))}}function fd(t,n,a,o,h,f){switch(a){case"style":Oo(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof o=="string"?an(t,o):(typeof o=="number"||typeof o=="bigint")&&an(t,""+o);break;case"onScroll":o!=null&&Ie("scroll",t);break;case"onScrollEnd":o!=null&&Ie("scrollend",t);break;case"onClick":o!=null&&(t.onclick=qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!So.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=t[Pt]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,o,h);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):ia(t,a,o)}}}function Ft(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ie("error",t),Ie("load",t);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var y=a[f];if(y!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:$e(t,n,f,y,a,null)}}h&&$e(t,n,"srcSet",a.srcSet,a,null),o&&$e(t,n,"src",a.src,a,null);return;case"input":Ie("invalid",t);var E=f=y=h=null,C=null,L=null;for(o in a)if(a.hasOwnProperty(o)){var F=a[o];if(F!=null)switch(o){case"name":h=F;break;case"type":y=F;break;case"checked":C=F;break;case"defaultChecked":L=F;break;case"value":f=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,n));break;default:$e(t,n,o,F,a,null)}}mu(t,f,E,C,L,y,h,!1);return;case"select":Ie("invalid",t),o=y=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":o=E;default:$e(t,n,h,E,a,null)}n=f,a=y,t.multiple=!!o,n!=null?cr(t,!!o,n,!1):a!=null&&cr(t,!!o,a,!0);return;case"textarea":Ie("invalid",t),f=h=o=null;for(y in a)if(a.hasOwnProperty(y)&&(E=a[y],E!=null))switch(y){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:$e(t,n,y,E,a,null)}hr(t,o,h,f);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(o=a[C],o!=null))switch(C){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:$e(t,n,C,o,a,null)}return;case"dialog":Ie("beforetoggle",t),Ie("toggle",t),Ie("cancel",t),Ie("close",t);break;case"iframe":case"object":Ie("load",t);break;case"video":case"audio":for(o=0;o<hl.length;o++)Ie(hl[o],t);break;case"image":Ie("error",t),Ie("load",t);break;case"details":Ie("toggle",t);break;case"embed":case"source":case"link":Ie("error",t),Ie("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in a)if(a.hasOwnProperty(L)&&(o=a[L],o!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:$e(t,n,L,o,a,null)}return;default:if(sa(n)){for(F in a)a.hasOwnProperty(F)&&(o=a[F],o!==void 0&&fd(t,n,F,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&$e(t,n,E,o,a,null))}function _A(t,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,y=null,E=null,C=null,L=null,F=null;for(q in a){var Y=a[q];if(a.hasOwnProperty(q)&&Y!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":C=Y;default:o.hasOwnProperty(q)||$e(t,n,q,null,o,Y)}}for(var z in o){var q=o[z];if(Y=a[z],o.hasOwnProperty(z)&&(q!=null||Y!=null))switch(z){case"type":f=q;break;case"name":h=q;break;case"checked":L=q;break;case"defaultChecked":F=q;break;case"value":y=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,n));break;default:q!==Y&&$e(t,n,z,q,o,Y)}}ra(t,y,E,C,L,F,f,h);return;case"select":q=y=E=z=null;for(f in a)if(C=a[f],a.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":q=C;default:o.hasOwnProperty(f)||$e(t,n,f,null,o,C)}for(h in o)if(f=o[h],C=a[h],o.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==C&&$e(t,n,h,f,o,C)}n=E,a=y,o=q,z!=null?cr(t,!!a,z,!1):!!o!=!!a&&(n!=null?cr(t,!!a,n,!0):cr(t,!!a,a?[]:"",!1));return;case"textarea":q=z=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:$e(t,n,E,null,o,h)}for(y in o)if(h=o[y],f=a[y],o.hasOwnProperty(y)&&(h!=null||f!=null))switch(y){case"value":z=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&$e(t,n,y,h,o,f)}pu(t,z,q);return;case"option":for(var le in a)if(z=a[le],a.hasOwnProperty(le)&&z!=null&&!o.hasOwnProperty(le))switch(le){case"selected":t.selected=!1;break;default:$e(t,n,le,null,o,z)}for(C in o)if(z=o[C],q=a[C],o.hasOwnProperty(C)&&z!==q&&(z!=null||q!=null))switch(C){case"selected":t.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:$e(t,n,C,z,o,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pe in a)z=a[pe],a.hasOwnProperty(pe)&&z!=null&&!o.hasOwnProperty(pe)&&$e(t,n,pe,null,o,z);for(L in o)if(z=o[L],q=a[L],o.hasOwnProperty(L)&&z!==q&&(z!=null||q!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,n));break;default:$e(t,n,L,z,o,q)}return;default:if(sa(n)){for(var Ze in a)z=a[Ze],a.hasOwnProperty(Ze)&&z!==void 0&&!o.hasOwnProperty(Ze)&&fd(t,n,Ze,void 0,o,z);for(F in o)z=o[F],q=a[F],!o.hasOwnProperty(F)||z===q||z===void 0&&q===void 0||fd(t,n,F,z,o,q);return}}for(var M in a)z=a[M],a.hasOwnProperty(M)&&z!=null&&!o.hasOwnProperty(M)&&$e(t,n,M,null,o,z);for(Y in o)z=o[Y],q=a[Y],!o.hasOwnProperty(Y)||z===q||z==null&&q==null||$e(t,n,Y,z,o,q)}function m_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function vA(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,y=h.initiatorType,E=h.duration;if(f&&E&&m_(y)){for(y=0,E=h.responseEnd,o+=1;o<a.length;o++){var C=a[o],L=C.startTime;if(L>E)break;var F=C.transferSize,Y=C.initiatorType;F&&m_(Y)&&(C=C.responseEnd,y+=F*(C<E?1:(E-L)/(C-L)))}if(--o,n+=8*(f+y)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var dd=null,md=null;function _c(t){return t.nodeType===9?t:t.ownerDocument}function p_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function g_(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function pd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var gd=null;function EA(){var t=window.event;return t&&t.type==="popstate"?t===gd?!1:(gd=t,!0):(gd=null,!1)}var y_=typeof setTimeout=="function"?setTimeout:void 0,TA=typeof clearTimeout=="function"?clearTimeout:void 0,__=typeof Promise=="function"?Promise:void 0,bA=typeof queueMicrotask=="function"?queueMicrotask:typeof __<"u"?function(t){return __.resolve(null).then(t).catch(AA)}:y_;function AA(t){setTimeout(function(){throw t})}function Mr(t){return t==="head"}function v_(t,n){var a=n,o=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){t.removeChild(h),ja(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")dl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,dl(a);for(var f=a.firstChild;f;){var y=f.nextSibling,E=f.nodeName;f[li]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=y}}else a==="body"&&dl(t.ownerDocument.body);a=h}while(a);ja(n)}function E_(t,n){var a=t;t=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=o}while(a)}function yd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":yd(a),na(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function SA(t,n,a,o){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[li])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Mn(t.nextSibling),t===null)break}return null}function wA(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Mn(t.nextSibling),t===null))return null;return t}function T_(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Mn(t.nextSibling),t===null))return null;return t}function _d(t){return t.data==="$?"||t.data==="$~"}function vd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function RA(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Mn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Ed=null;function b_(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return Mn(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function A_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function S_(t,n,a){switch(n=_c(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function dl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);na(t)}var Pn=new Map,w_=new Set;function vc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ji=te.d;te.d={f:IA,r:CA,D:NA,C:DA,L:OA,m:xA,X:MA,S:VA,M:PA};function IA(){var t=Ji.f(),n=cc();return t||n}function CA(t){var n=Sn(t);n!==null&&n.tag===5&&n.type==="form"?qg(n):Ji.r(t)}var Ua=typeof document>"u"?null:document;function R_(t,n,a){var o=Ua;if(o&&typeof n=="string"&&n){var h=sn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),w_.has(h)||(w_.add(h),t={rel:t,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Ft(n,"link",t),Et(n),o.head.appendChild(n)))}}function NA(t){Ji.D(t),R_("dns-prefetch",t,null)}function DA(t,n){Ji.C(t,n),R_("preconnect",t,n)}function OA(t,n,a){Ji.L(t,n,a);var o=Ua;if(o&&t&&n){var h='link[rel="preload"][as="'+sn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+sn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+sn(a.imageSizes)+'"]')):h+='[href="'+sn(t)+'"]';var f=h;switch(n){case"style":f=La(t);break;case"script":f=za(t)}Pn.has(f)||(t=A({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Pn.set(f,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(ml(f))||n==="script"&&o.querySelector(pl(f))||(n=o.createElement("link"),Ft(n,"link",t),Et(n),o.head.appendChild(n)))}}function xA(t,n){Ji.m(t,n);var a=Ua;if(a&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+sn(o)+'"][href="'+sn(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=za(t)}if(!Pn.has(f)&&(t=A({rel:"modulepreload",href:t},n),Pn.set(f,t),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(pl(f)))return}o=a.createElement("link"),Ft(o,"link",t),Et(o),a.head.appendChild(o)}}}function VA(t,n,a){Ji.S(t,n,a);var o=Ua;if(o&&t){var h=ci(o).hoistableStyles,f=La(t);n=n||"default";var y=h.get(f);if(!y){var E={loading:0,preload:null};if(y=o.querySelector(ml(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Pn.get(f))&&Td(t,a);var C=y=o.createElement("link");Et(C),Ft(C,"link",t),C._p=new Promise(function(L,F){C.onload=L,C.onerror=F}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Ec(y,n,o)}y={type:"stylesheet",instance:y,count:1,state:E},h.set(f,y)}}}function MA(t,n){Ji.X(t,n);var a=Ua;if(a&&t){var o=ci(a).hoistableScripts,h=za(t),f=o.get(h);f||(f=a.querySelector(pl(h)),f||(t=A({src:t,async:!0},n),(n=Pn.get(h))&&bd(t,n),f=a.createElement("script"),Et(f),Ft(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function PA(t,n){Ji.M(t,n);var a=Ua;if(a&&t){var o=ci(a).hoistableScripts,h=za(t),f=o.get(h);f||(f=a.querySelector(pl(h)),f||(t=A({src:t,async:!0,type:"module"},n),(n=Pn.get(h))&&bd(t,n),f=a.createElement("script"),Et(f),Ft(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function I_(t,n,a,o){var h=(h=Ae.current)?vc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=La(a.href),a=ci(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=La(a.href);var f=ci(h).hoistableStyles,y=f.get(t);if(y||(h=h.ownerDocument||h,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=h.querySelector(ml(t)))&&!f._p&&(y.instance=f,y.state.loading=5),Pn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Pn.set(t,a),f||kA(h,t,a,y.state))),n&&o===null)throw Error(s(528,""));return y}if(n&&o!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=za(a),a=ci(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function La(t){return'href="'+sn(t)+'"'}function ml(t){return'link[rel="stylesheet"]['+t+"]"}function C_(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function kA(t,n,a,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Ft(n,"link",a),Et(n),t.head.appendChild(n))}function za(t){return'[src="'+sn(t)+'"]'}function pl(t){return"script[async]"+t}function N_(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+sn(a.href)+'"]');if(o)return n.instance=o,Et(o),o;var h=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Et(o),Ft(o,"style",h),Ec(o,a.precedence,t),n.instance=o;case"stylesheet":h=La(a.href);var f=t.querySelector(ml(h));if(f)return n.state.loading|=4,n.instance=f,Et(f),f;o=C_(a),(h=Pn.get(h))&&Td(o,h),f=(t.ownerDocument||t).createElement("link"),Et(f);var y=f;return y._p=new Promise(function(E,C){y.onload=E,y.onerror=C}),Ft(f,"link",o),n.state.loading|=4,Ec(f,a.precedence,t),n.instance=f;case"script":return f=za(a.src),(h=t.querySelector(pl(f)))?(n.instance=h,Et(h),h):(o=a,(h=Pn.get(f))&&(o=A({},a),bd(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),Et(h),Ft(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Ec(o,a.precedence,t));return n.instance}function Ec(t,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,y=0;y<o.length;y++){var E=o[y];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Td(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function bd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Tc=null;function D_(t,n,a){if(Tc===null){var o=new Map,h=Tc=new Map;h.set(a,o)}else h=Tc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[li]||f[vt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var E=o.get(y);E?E.push(f):o.set(y,[f])}}return o}function O_(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function UA(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function x_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function LA(t,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=La(o.href),f=n.querySelector(ml(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=bc.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=f,Et(f);return}f=n.ownerDocument||n,o=C_(o),(h=Pn.get(h))&&Td(o,h),f=f.createElement("link"),Et(f);var y=f;y._p=new Promise(function(E,C){y.onload=E,y.onerror=C}),Ft(f,"link",o),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=bc.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var Ad=0;function zA(t,n){return t.stylesheets&&t.count===0&&Sc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var o=setTimeout(function(){if(t.stylesheets&&Sc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Ad===0&&(Ad=62500*vA());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Sc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Ad?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function bc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Sc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ac=null;function Sc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ac=new Map,n.forEach(jA,t),Ac=null,bc.call(t))}function jA(t,n){if(!(n.state.loading&4)){var a=Ac.get(t);if(a)var o=a.get(null);else{a=new Map,Ac.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var y=h[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),o=y)}o&&a.set(null,o)}h=n.instance,y=h.getAttribute("data-precedence"),f=a.get(y)||o,f===o&&a.set(null,h),a.set(y,h),this.count++,o=bc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var gl={$$typeof:ce,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function BA(t,n,a,o,h,f,y,E,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ai(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ai(0),this.hiddenUpdates=ai(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function V_(t,n,a,o,h,f,y,E,C,L,F,Y){return t=new BA(t,n,a,y,C,L,F,Y,E),n=1,f===!0&&(n|=24),f=gn(3,null,null,n),t.current=f,f.stateNode=t,n=tf(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:n},af(f),t}function M_(t){return t?(t=ga,t):ga}function P_(t,n,a,o,h,f){h=M_(h),o.context===null?o.context=h:o.pendingContext=h,o=Ar(n),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=Sr(t,o,n),a!==null&&(hn(a,t,n),Yo(a,t,n))}function k_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Sd(t,n){k_(t,n),(t=t.alternate)&&k_(t,n)}function U_(t){if(t.tag===13||t.tag===31){var n=Ss(t,67108864);n!==null&&hn(n,t,67108864),Sd(t,67108864)}}function L_(t){if(t.tag===13||t.tag===31){var n=Tn();n=fs(n);var a=Ss(t,n);a!==null&&hn(a,t,n),Sd(t,n)}}var wc=!0;function qA(t,n,a,o){var h=G.T;G.T=null;var f=te.p;try{te.p=2,wd(t,n,a,o)}finally{te.p=f,G.T=h}}function HA(t,n,a,o){var h=G.T;G.T=null;var f=te.p;try{te.p=8,wd(t,n,a,o)}finally{te.p=f,G.T=h}}function wd(t,n,a,o){if(wc){var h=Rd(o);if(h===null)hd(t,n,o,Rc,a),j_(t,o);else if(GA(h,t,n,a,o))o.stopPropagation();else if(j_(t,o),n&4&&-1<FA.indexOf(t)){for(;h!==null;){var f=Sn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=ri(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var C=1<<31-ht(y);E.entanglements[1]|=C,y&=~C}Ai(f),(qe&6)===0&&(lc=en()+500,cl(0))}}break;case 31:case 13:E=Ss(f,2),E!==null&&hn(E,f,2),cc(),Sd(f,2)}if(f=Rd(o),f===null&&hd(t,n,o,Rc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else hd(t,n,o,null,a)}}function Rd(t){return t=wn(t),Id(t)}var Rc=null;function Id(t){if(Rc=null,t=ui(t),t!==null){var n=c(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=p(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Rc=t,null}function z_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ls()){case vo:return 2;case Eo:return 8;case lr:case xh:return 32;case ru:return 268435456;default:return 32}default:return 32}}var Cd=!1,Pr=null,kr=null,Ur=null,yl=new Map,_l=new Map,Lr=[],FA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function j_(t,n){switch(t){case"focusin":case"focusout":Pr=null;break;case"dragenter":case"dragleave":kr=null;break;case"mouseover":case"mouseout":Ur=null;break;case"pointerover":case"pointerout":yl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":_l.delete(n.pointerId)}}function vl(t,n,a,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Sn(n),n!==null&&U_(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function GA(t,n,a,o,h){switch(n){case"focusin":return Pr=vl(Pr,t,n,a,o,h),!0;case"dragenter":return kr=vl(kr,t,n,a,o,h),!0;case"mouseover":return Ur=vl(Ur,t,n,a,o,h),!0;case"pointerover":var f=h.pointerId;return yl.set(f,vl(yl.get(f)||null,t,n,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,_l.set(f,vl(_l.get(f)||null,t,n,a,o,h)),!0}return!1}function B_(t){var n=ui(t.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,jn(t.priority,function(){L_(a)});return}}else if(n===31){if(n=p(a),n!==null){t.blockedOn=n,jn(t.priority,function(){L_(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ic(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Rd(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);xo=o,a.target.dispatchEvent(o),xo=null}else return n=Sn(a),n!==null&&U_(n),t.blockedOn=a,!1;n.shift()}return!0}function q_(t,n,a){Ic(t)&&a.delete(n)}function QA(){Cd=!1,Pr!==null&&Ic(Pr)&&(Pr=null),kr!==null&&Ic(kr)&&(kr=null),Ur!==null&&Ic(Ur)&&(Ur=null),yl.forEach(q_),_l.forEach(q_)}function Cc(t,n){t.blockedOn===n&&(t.blockedOn=null,Cd||(Cd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,QA)))}var Nc=null;function H_(t){Nc!==t&&(Nc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Nc===t&&(Nc=null);for(var n=0;n<t.length;n+=3){var a=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if(Id(o||a)===null)continue;break}var f=Sn(a);f!==null&&(t.splice(n,3),n-=3,Rf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function ja(t){function n(C){return Cc(C,t)}Pr!==null&&Cc(Pr,t),kr!==null&&Cc(kr,t),Ur!==null&&Cc(Ur,t),yl.forEach(n),_l.forEach(n);for(var a=0;a<Lr.length;a++){var o=Lr[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Lr.length&&(a=Lr[0],a.blockedOn===null);)B_(a),a.blockedOn===null&&Lr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],y=h[Pt]||null;if(typeof f=="function")y||H_(a);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,y=f[Pt]||null)E=y.formAction;else if(Id(h)!==null)continue}else E=y.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),H_(a)}}}function F_(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(y){return h=y})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Nd(t){this._internalRoot=t}Dc.prototype.render=Nd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,o=Tn();P_(a,o,t,n,null,null)},Dc.prototype.unmount=Nd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;P_(t.current,2,null,t,null,null),cc(),n[oi]=null}};function Dc(t){this._internalRoot=t}Dc.prototype.unstable_scheduleHydration=function(t){if(t){var n=cu();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Lr.length&&n!==0&&n<Lr[a].priority;a++);Lr.splice(a,0,t),a===0&&B_(t)}};var G_=e.version;if(G_!=="19.2.3")throw Error(s(527,G_,"19.2.3"));te.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=_(n),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var KA={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Oc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Oc.isDisabled&&Oc.supportsFiber)try{Ln=Oc.inject(KA),zt=Oc}catch{}}return Tl.createRoot=function(t,n){if(!l(t))throw Error(s(299));var a=!1,o="",h=Jg,f=Wg,y=ey;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError)),n=V_(t,1,!1,null,null,a,o,null,h,f,y,F_),t[oi]=n.current,cd(t),new Nd(n)},Tl.hydrateRoot=function(t,n,a){if(!l(t))throw Error(s(299));var o=!1,h="",f=Jg,y=Wg,E=ey,C=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),n=V_(t,1,!0,n,a??null,o,h,C,f,y,E,F_),n.context=M_(null),a=n.current,o=Tn(),o=fs(o),h=Ar(o),h.callback=null,Sr(a,h,o),a=o,n.current.lanes=a,cs(n,a),Ai(n),t[oi]=n.current,cd(t),new Dc(n)},Tl.version="19.2.3",Tl}var tv;function i1(){if(tv)return xd.exports;tv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),xd.exports=n1(),xd.exports}var r1=i1();const s1=()=>{};var nv={};const L0=function(r){const e=[];let i=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},a1=function(r){const e=[];let i=0,s=0;for(;i<r.length;){const l=r[i++];if(l<128)e[s++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];e[s++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],p=r[i++],g=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const c=r[i++],d=r[i++];e[s++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return e.join("")},z0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,p=d?r[l+1]:0,g=l+2<r.length,_=g?r[l+2]:0,T=c>>2,A=(c&3)<<4|p>>4;let x=(p&15)<<2|_>>6,H=_&63;g||(H=64,d||(x=64)),s.push(i[T],i[A],i[x],i[H])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(L0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):a1(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],p=l<r.length?i[r.charAt(l)]:0;++l;const _=l<r.length?i[r.charAt(l)]:64;++l;const A=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||p==null||_==null||A==null)throw new o1;const x=c<<2|p>>4;if(s.push(x),_!==64){const H=p<<4&240|_>>2;if(s.push(H),A!==64){const W=_<<6&192|A;s.push(W)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class o1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const l1=function(r){const e=L0(r);return z0.encodeByteArray(e,!0)},Yc=function(r){return l1(r).replace(/\./g,"")},j0=function(r){try{return z0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function u1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const c1=()=>u1().__FIREBASE_DEFAULTS__,h1=()=>{if(typeof process>"u"||typeof nv>"u")return;const r=nv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},f1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&j0(r[1]);return e&&JSON.parse(e)},dh=()=>{try{return s1()||c1()||h1()||f1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},B0=r=>dh()?.emulatorHosts?.[r],d1=r=>{const e=B0(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},q0=()=>dh()?.config,H0=r=>dh()?.[`_${r}`];class m1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}function oo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function F0(r){return(await fetch(r,{credentials:"include"})).ok}function p1(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Yc(JSON.stringify(i)),Yc(JSON.stringify(d)),""].join(".")}const Il={};function g1(){const r={prod:[],emulator:[]};for(const e of Object.keys(Il))Il[e]?r.emulator.push(e):r.prod.push(e);return r}function y1(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let iv=!1;function G0(r,e){if(typeof window>"u"||typeof document>"u"||!oo(window.location.host)||Il[r]===e||Il[r]||iv)return;Il[r]=e;function i(x){return`__firebase__banner__${x}`}const s="__firebase__banner",c=g1().prod.length>0;function d(){const x=document.getElementById(s);x&&x.remove()}function p(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function g(x,H){x.setAttribute("width","24"),x.setAttribute("id",H),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function _(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{iv=!0,d()},x}function T(x,H){x.setAttribute("id",H),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function A(){const x=y1(s),H=i("text"),W=document.getElementById(H)||document.createElement("span"),J=i("learnmore"),K=document.getElementById(J)||document.createElement("a"),ie=i("preprendIcon"),de=document.getElementById(ie)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const ce=x.element;p(ce),T(K,J);const we=_();g(de,ie),ce.append(de,W,K,we),document.body.appendChild(ce)}c?(W.innerText="Preview backend disconnected.",de.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(de.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",H)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function Jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jt())}function v1(){const r=dh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function E1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function T1(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function b1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function A1(){const r=Jt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function S1(){return!v1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function w1(){try{return typeof indexedDB=="object"}catch{return!1}}function R1(){return new Promise((r,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(i){e(i)}})}const I1="FirebaseError";class ar extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=I1,Object.setPrototypeOf(this,ar.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Kl.prototype.create)}}class Kl{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},l=`${this.service}/${e}`,c=this.errors[e],d=c?C1(c,s):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new ar(l,p,s)}}function C1(r,e){return r.replace(N1,(i,s)=>{const l=e[s];return l!=null?String(l):`<${s}?>`})}const N1=/\{\$([^}]+)}/g;function D1(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function js(r,e){if(r===e)return!0;const i=Object.keys(r),s=Object.keys(e);for(const l of i){if(!s.includes(l))return!1;const c=r[l],d=e[l];if(rv(c)&&rv(d)){if(!js(c,d))return!1}else if(c!==d)return!1}for(const l of s)if(!i.includes(l))return!1;return!0}function rv(r){return r!==null&&typeof r=="object"}function lo(r){const e=[];for(const[i,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function O1(r,e){const i=new x1(r,e);return i.subscribe.bind(i)}class x1{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,s){let l;if(e===void 0&&i===void 0&&s===void 0)throw new Error("Missing Observer.");V1(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:s},l.next===void 0&&(l.next=kd),l.error===void 0&&(l.error=kd),l.complete===void 0&&(l.complete=kd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function V1(r,e){if(typeof r!="object"||r===null)return!1;for(const i of e)if(i in r&&typeof r[i]=="function")return!0;return!1}function kd(){}function Wt(r){return r&&r._delegate?r._delegate:r}class Bs{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Us="[DEFAULT]";class M1{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new m1;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(k1(e))try{this.getOrInitializeService({instanceIdentifier:Us})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});s.resolve(c)}catch{}}}}clearInstance(e=Us){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Us){return this.instances.has(e)}getOptions(e=Us){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);s===p&&d.resolve(l)}return l}onInit(e,i){const s=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(s)??new Set;l.add(e),this.onInitCallbacks.set(s,l);const c=this.instances.get(s);return c&&e(c,s),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const l of s)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:P1(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Us){return this.component?this.component.multipleInstances?e:Us:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function P1(r){return r===Us?void 0:r}function k1(r){return r.instantiationMode==="EAGER"}class U1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new M1(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Oe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Oe||(Oe={}));const L1={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},z1=Oe.INFO,j1={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},B1=(r,e,...i)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),l=j1[e];if(l)console[l](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Nm{constructor(e){this.name=e,this._logLevel=z1,this._logHandler=B1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?L1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const q1=(r,e)=>e.some(i=>r instanceof i);let sv,av;function H1(){return sv||(sv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function F1(){return av||(av=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Q0=new WeakMap,Jd=new WeakMap,K0=new WeakMap,Ud=new WeakMap,Dm=new WeakMap;function G1(r){const e=new Promise((i,s)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(Qr(r.result)),l()},d=()=>{s(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Q0.set(i,r)}).catch(()=>{}),Dm.set(e,r),e}function Q1(r){if(Jd.has(r))return;const e=new Promise((i,s)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Jd.set(r,e)}let Wd={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return Jd.get(r);if(e==="objectStoreNames")return r.objectStoreNames||K0.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Qr(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function K1(r){Wd=r(Wd)}function Y1(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=r.call(Ld(this),e,...i);return K0.set(s,e.sort?e.sort():[e]),Qr(s)}:F1().includes(r)?function(...e){return r.apply(Ld(this),e),Qr(Q0.get(this))}:function(...e){return Qr(r.apply(Ld(this),e))}}function X1(r){return typeof r=="function"?Y1(r):(r instanceof IDBTransaction&&Q1(r),q1(r,H1())?new Proxy(r,Wd):r)}function Qr(r){if(r instanceof IDBRequest)return G1(r);if(Ud.has(r))return Ud.get(r);const e=X1(r);return e!==r&&(Ud.set(r,e),Dm.set(e,r)),e}const Ld=r=>Dm.get(r);function $1(r,e,{blocked:i,upgrade:s,blocking:l,terminated:c}={}){const d=indexedDB.open(r,e),p=Qr(d);return s&&d.addEventListener("upgradeneeded",g=>{s(Qr(d.result),g.oldVersion,g.newVersion,Qr(d.transaction),g)}),i&&d.addEventListener("blocked",g=>i(g.oldVersion,g.newVersion,g)),p.then(g=>{c&&g.addEventListener("close",()=>c()),l&&g.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const Z1=["get","getKey","getAll","getAllKeys","count"],J1=["put","add","delete","clear"],zd=new Map;function ov(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(zd.get(e))return zd.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,l=J1.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(l||Z1.includes(i)))return;const c=async function(d,...p){const g=this.transaction(d,l?"readwrite":"readonly");let _=g.store;return s&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),l&&g.done]))[0]};return zd.set(e,c),c}K1(r=>({...r,get:(e,i,s)=>ov(e,i)||r.get(e,i,s),has:(e,i)=>!!ov(e,i)||r.has(e,i)}));class W1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(eS(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function eS(r){return r.getComponent()?.type==="VERSION"}const em="@firebase/app",lv="0.14.6";const tr=new Nm("@firebase/app"),tS="@firebase/app-compat",nS="@firebase/analytics-compat",iS="@firebase/analytics",rS="@firebase/app-check-compat",sS="@firebase/app-check",aS="@firebase/auth",oS="@firebase/auth-compat",lS="@firebase/database",uS="@firebase/data-connect",cS="@firebase/database-compat",hS="@firebase/functions",fS="@firebase/functions-compat",dS="@firebase/installations",mS="@firebase/installations-compat",pS="@firebase/messaging",gS="@firebase/messaging-compat",yS="@firebase/performance",_S="@firebase/performance-compat",vS="@firebase/remote-config",ES="@firebase/remote-config-compat",TS="@firebase/storage",bS="@firebase/storage-compat",AS="@firebase/firestore",SS="@firebase/ai",wS="@firebase/firestore-compat",RS="firebase",IS="12.6.0";const tm="[DEFAULT]",CS={[em]:"fire-core",[tS]:"fire-core-compat",[iS]:"fire-analytics",[nS]:"fire-analytics-compat",[sS]:"fire-app-check",[rS]:"fire-app-check-compat",[aS]:"fire-auth",[oS]:"fire-auth-compat",[lS]:"fire-rtdb",[uS]:"fire-data-connect",[cS]:"fire-rtdb-compat",[hS]:"fire-fn",[fS]:"fire-fn-compat",[dS]:"fire-iid",[mS]:"fire-iid-compat",[pS]:"fire-fcm",[gS]:"fire-fcm-compat",[yS]:"fire-perf",[_S]:"fire-perf-compat",[vS]:"fire-rc",[ES]:"fire-rc-compat",[TS]:"fire-gcs",[bS]:"fire-gcs-compat",[AS]:"fire-fst",[wS]:"fire-fst-compat",[SS]:"fire-vertex","fire-js":"fire-js",[RS]:"fire-js-all"};const Xc=new Map,NS=new Map,nm=new Map;function uv(r,e){try{r.container.addComponent(e)}catch(i){tr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function Wa(r){const e=r.name;if(nm.has(e))return tr.debug(`There were multiple attempts to register component ${e}.`),!1;nm.set(e,r);for(const i of Xc.values())uv(i,r);for(const i of NS.values())uv(i,r);return!0}function Om(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function $n(r){return r==null?!1:r.settings!==void 0}const DS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Kr=new Kl("app","Firebase",DS);class OS{constructor(e,i,s){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Bs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Kr.create("app-deleted",{appName:this._name})}}const uo=IS;function Y0(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const s={name:tm,automaticDataCollectionEnabled:!0,...e},l=s.name;if(typeof l!="string"||!l)throw Kr.create("bad-app-name",{appName:String(l)});if(i||(i=q0()),!i)throw Kr.create("no-options");const c=Xc.get(l);if(c){if(js(i,c.options)&&js(s,c.config))return c;throw Kr.create("duplicate-app",{appName:l})}const d=new U1(l);for(const g of nm.values())d.addComponent(g);const p=new OS(i,s,d);return Xc.set(l,p),p}function X0(r=tm){const e=Xc.get(r);if(!e&&r===tm&&q0())return Y0();if(!e)throw Kr.create("no-app",{appName:r});return e}function Yr(r,e,i){let s=CS[r]??r;i&&(s+=`-${i}`);const l=s.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${s}" with version "${e}":`];l&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),tr.warn(d.join(" "));return}Wa(new Bs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const xS="firebase-heartbeat-database",VS=1,Ul="firebase-heartbeat-store";let jd=null;function $0(){return jd||(jd=$1(xS,VS,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Ul)}catch(i){console.warn(i)}}}}).catch(r=>{throw Kr.create("idb-open",{originalErrorMessage:r.message})})),jd}async function MS(r){try{const i=(await $0()).transaction(Ul),s=await i.objectStore(Ul).get(Z0(r));return await i.done,s}catch(e){if(e instanceof ar)tr.warn(e.message);else{const i=Kr.create("idb-get",{originalErrorMessage:e?.message});tr.warn(i.message)}}}async function cv(r,e){try{const s=(await $0()).transaction(Ul,"readwrite");await s.objectStore(Ul).put(e,Z0(r)),await s.done}catch(i){if(i instanceof ar)tr.warn(i.message);else{const s=Kr.create("idb-set",{originalErrorMessage:i?.message});tr.warn(s.message)}}}function Z0(r){return`${r.name}!${r.options.appId}`}const PS=1024,kS=30;class US{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new zS(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=hv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>kS){const l=jS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){tr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=hv(),{heartbeatsToSend:i,unsentEntries:s}=LS(this._heartbeatsCache.heartbeats),l=Yc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return tr.warn(e),""}}}function hv(){return new Date().toISOString().substring(0,10)}function LS(r,e=PS){const i=[];let s=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),fv(i)>e){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),fv(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class zS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return w1()?R1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await MS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return cv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return cv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function fv(r){return Yc(JSON.stringify({version:2,heartbeats:r})).length}function jS(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,e=s);return e}function BS(r){Wa(new Bs("platform-logger",e=>new W1(e),"PRIVATE")),Wa(new Bs("heartbeat",e=>new US(e),"PRIVATE")),Yr(em,lv,r),Yr(em,lv,"esm2020"),Yr("fire-js","")}BS("");var qS="firebase",HS="12.6.0";Yr(qS,HS,"app");function J0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const FS=J0,W0=new Kl("auth","Firebase",J0());const $c=new Nm("@firebase/auth");function GS(r,...e){$c.logLevel<=Oe.WARN&&$c.warn(`Auth (${uo}): ${r}`,...e)}function Lc(r,...e){$c.logLevel<=Oe.ERROR&&$c.error(`Auth (${uo}): ${r}`,...e)}function nr(r,...e){throw xm(r,...e)}function bn(r,...e){return xm(r,...e)}function eE(r,e,i){const s={...FS(),[e]:i};return new Kl("auth","Firebase",s).create(e,{appName:r.name})}function Xr(r){return eE(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function xm(r,...e){if(typeof r!="string"){const i=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(i,...s)}return W0.create(r,...e)}function oe(r,e,...i){if(!r)throw xm(e,...i)}function Wi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Lc(e),new Error(e)}function ir(r,e){r||Wi(e)}function im(){return typeof self<"u"&&self.location?.href||""}function tE(){return dv()==="http:"||dv()==="https:"}function dv(){return typeof self<"u"&&self.location?.protocol||null}function QS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(tE()||T1()||"connection"in navigator)?navigator.onLine:!0}function KS(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Yl{constructor(e,i){this.shortDelay=e,this.longDelay=i,ir(i>e,"Short delay should be less than long delay!"),this.isMobile=_1()||b1()}get(){return QS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Vm(r,e){ir(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class nE{static initialize(e,i,s){this.fetchImpl=e,i&&(this.headersImpl=i),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Wi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Wi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Wi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const YS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const XS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],$S=new Yl(3e4,6e4);function Vi(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function ti(r,e,i,s,l={}){return iE(r,l,async()=>{let c={},d={};s&&(e==="GET"?d=s:c={body:JSON.stringify(s)});const p=lo({key:r.config.apiKey,...d}).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const _={method:e,headers:g,...c};return E1()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&oo(r.emulatorConfig.host)&&(_.credentials="include"),nE.fetch()(await rE(r,r.config.apiHost,i,p),_)})}async function iE(r,e,i){r._canInitEmulator=!1;const s={...YS,...e};try{const l=new JS(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw bl(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[g,_]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw bl(r,"credential-already-in-use",d);if(g==="EMAIL_EXISTS")throw bl(r,"email-already-in-use",d);if(g==="USER_DISABLED")throw bl(r,"user-disabled",d);const T=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw eE(r,T,_);nr(r,T)}}catch(l){if(l instanceof ar)throw l;nr(r,"network-request-failed",{message:String(l)})}}async function mh(r,e,i,s,l={}){const c=await ti(r,e,i,s,l);return"mfaPendingCredential"in c&&nr(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function rE(r,e,i,s){const l=`${e}${i}?${s}`,c=r,d=c.config.emulator?Vm(r.config,l):`${r.config.apiScheme}://${l}`;return XS.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function ZS(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class JS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,s)=>{this.timer=setTimeout(()=>s(bn(this.auth,"network-request-failed")),$S.get())})}}function bl(r,e,i){const s={appName:r.name};i.email&&(s.email=i.email),i.phoneNumber&&(s.phoneNumber=i.phoneNumber);const l=bn(r,e,s);return l.customData._tokenResponse=i,l}function mv(r){return r!==void 0&&r.getResponse!==void 0}function pv(r){return r!==void 0&&r.enterprise!==void 0}class sE{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===e)return ZS(i.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function WS(r){return(await ti(r,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function aE(r,e){return ti(r,"GET","/v2/recaptchaConfig",Vi(r,e))}async function ew(r,e){return ti(r,"POST","/v1/accounts:delete",e)}async function Zc(r,e){return ti(r,"POST","/v1/accounts:lookup",e)}function Cl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function tw(r,e=!1){const i=Wt(r),s=await i.getIdToken(e),l=Mm(s);oe(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:s,authTime:Cl(Bd(l.auth_time)),issuedAtTime:Cl(Bd(l.iat)),expirationTime:Cl(Bd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Bd(r){return Number(r)*1e3}function Mm(r){const[e,i,s]=r.split(".");if(e===void 0||i===void 0||s===void 0)return Lc("JWT malformed, contained fewer than 3 sections"),null;try{const l=j0(i);return l?JSON.parse(l):(Lc("Failed to decode base64 JWT payload"),null)}catch(l){return Lc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function gv(r){const e=Mm(r);return oe(e,"internal-error"),oe(typeof e.exp<"u","internal-error"),oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Ll(r,e,i=!1){if(i)return e;try{return await e}catch(s){throw s instanceof ar&&nw(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function nw({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class iw{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class rm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Cl(this.lastLoginAt),this.creationTime=Cl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Jc(r){const e=r.auth,i=await r.getIdToken(),s=await Ll(r,Zc(e,{idToken:i}));oe(s?.users.length,e,"internal-error");const l=s.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?oE(l.providerUserInfo):[],d=sw(r.providerData,c),p=r.isAnonymous,g=!(r.email&&l.passwordHash)&&!d?.length,_=p?g:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new rm(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(r,T)}async function rw(r){const e=Wt(r);await Jc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function sw(r,e){return[...r.filter(s=>!e.some(l=>l.providerId===s.providerId)),...e]}function oE(r){return r.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function aw(r,e){const i=await iE(r,{},async()=>{const s=lo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await rE(r,l,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:s};return r.emulatorConfig&&oo(r.emulatorConfig.host)&&(g.credentials="include"),nE.fetch()(d,g)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function ow(r,e){return ti(r,"POST","/v2/accounts:revokeToken",Vi(r,e))}class Ka{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){oe(e.idToken,"internal-error"),oe(typeof e.idToken<"u","internal-error"),oe(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):gv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){oe(e.length!==0,"internal-error");const i=gv(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:s,refreshToken:l,expiresIn:c}=await aw(e,i);this.updateTokensAndExpiration(s,l,Number(c))}updateTokensAndExpiration(e,i,s){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,i){const{refreshToken:s,accessToken:l,expirationTime:c}=i,d=new Ka;return s&&(oe(typeof s=="string","internal-error",{appName:e}),d.refreshToken=s),l&&(oe(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),c&&(oe(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ka,this.toJSON())}_performRefresh(){return Wi("not implemented")}}function jr(r,e){oe(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Zn{constructor({uid:e,auth:i,stsTokenManager:s,...l}){this.providerId="firebase",this.proactiveRefresh=new iw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new rm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const i=await Ll(this,this.stsTokenManager.getToken(this.auth,e));return oe(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return tw(this,e)}reload(){return rw(this)}_assign(e){this!==e&&(oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new Zn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),i&&await Jc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if($n(this.auth.app))return Promise.reject(Xr(this.auth));const e=await this.getIdToken();return await Ll(this,ew(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const s=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,g=i._redirectEventId??void 0,_=i.createdAt??void 0,T=i.lastLoginAt??void 0,{uid:A,emailVerified:x,isAnonymous:H,providerData:W,stsTokenManager:J}=i;oe(A&&J,e,"internal-error");const K=Ka.fromJSON(this.name,J);oe(typeof A=="string",e,"internal-error"),jr(s,e.name),jr(l,e.name),oe(typeof x=="boolean",e,"internal-error"),oe(typeof H=="boolean",e,"internal-error"),jr(c,e.name),jr(d,e.name),jr(p,e.name),jr(g,e.name),jr(_,e.name),jr(T,e.name);const ie=new Zn({uid:A,auth:e,email:l,emailVerified:x,displayName:s,isAnonymous:H,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:K,createdAt:_,lastLoginAt:T});return W&&Array.isArray(W)&&(ie.providerData=W.map(de=>({...de}))),g&&(ie._redirectEventId=g),ie}static async _fromIdTokenResponse(e,i,s=!1){const l=new Ka;l.updateFromServerResponse(i);const c=new Zn({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:s});return await Jc(c),c}static async _fromGetAccountInfoResponse(e,i,s){const l=i.users[0];oe(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?oE(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new Ka;p.updateFromIdToken(s);const g=new Zn({uid:l.localId,auth:e,stsTokenManager:p,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new rm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(g,_),g}}const yv=new Map;function er(r){ir(r instanceof Function,"Expected a class definition");let e=yv.get(r);return e?(ir(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,yv.set(r,e),e)}class lE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}lE.type="NONE";const _v=lE;function zc(r,e,i){return`firebase:${r}:${e}:${i}`}class Ya{constructor(e,i,s){this.persistence=e,this.auth=i,this.userKey=s;const{config:l,name:c}=this.auth;this.fullUserKey=zc(this.userKey,l.apiKey,c),this.fullPersistenceKey=zc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await Zc(this.auth,{idToken:e}).catch(()=>{});return i?Zn._fromGetAccountInfoResponse(this.auth,i,e):null}return Zn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,s="authUser"){if(!i.length)return new Ya(er(_v),e,s);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||er(_v);const d=zc(s,e.config.apiKey,e.name);let p=null;for(const _ of i)try{const T=await _._get(d);if(T){let A;if(typeof T=="string"){const x=await Zc(e,{idToken:T}).catch(()=>{});if(!x)break;A=await Zn._fromGetAccountInfoResponse(e,x,T)}else A=Zn._fromJSON(e,T);_!==c&&(p=A),c=_;break}}catch{}const g=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new Ya(c,e,s):(c=g[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new Ya(c,e,s))}}function vv(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(fE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(uE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(mE(e))return"Blackberry";if(pE(e))return"Webos";if(cE(e))return"Safari";if((e.includes("chrome/")||hE(e))&&!e.includes("edge/"))return"Chrome";if(dE(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(i);if(s?.length===2)return s[1]}return"Other"}function uE(r=Jt()){return/firefox\//i.test(r)}function cE(r=Jt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function hE(r=Jt()){return/crios\//i.test(r)}function fE(r=Jt()){return/iemobile/i.test(r)}function dE(r=Jt()){return/android/i.test(r)}function mE(r=Jt()){return/blackberry/i.test(r)}function pE(r=Jt()){return/webos/i.test(r)}function Pm(r=Jt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function lw(r=Jt()){return Pm(r)&&!!window.navigator?.standalone}function uw(){return A1()&&document.documentMode===10}function gE(r=Jt()){return Pm(r)||dE(r)||pE(r)||mE(r)||/windows phone/i.test(r)||fE(r)}function yE(r,e=[]){let i;switch(r){case"Browser":i=vv(Jt());break;case"Worker":i=`${vv(Jt())}-${r}`;break;default:i=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${uo}/${s}`}class cw{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const s=c=>new Promise((d,p)=>{try{const g=e(c);d(g)}catch(g){p(g)}});s.onAbort=i,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const s of this.queue)await s(e),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function hw(r,e={}){return ti(r,"GET","/v2/passwordPolicy",Vi(r,e))}const fw=6;class dw{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??fw,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(i.meetsMinPasswordLength=e.length>=s),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let s;for(let l=0;l<e.length;l++)s=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,i,s,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class mw{constructor(e,i,s,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ev(this),this.idTokenSubscription=new Ev(this),this.beforeStateQueue=new cw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=W0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=er(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ya.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await Zc(this,{idToken:e}),s=await Zn._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(s)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if($n(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=s?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&p?.user&&(s=p.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await Jc(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=KS()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if($n(this.app))return Promise.reject(Xr(this));const i=e?Wt(e):null;return i&&oe(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return $n(this.app)?Promise.reject(Xr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return $n(this.app)?Promise.reject(Xr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(er(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await hw(this),i=new dw(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Kl("auth","Firebase",e())}onAuthStateChanged(e,i,s){return this.registerStateListener(this.authStateSubscription,e,i,s)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,s){return this.registerStateListener(this.idTokenSubscription,e,i,s)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(s.tenantId=this.tenantId),await ow(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const s=await this.getOrInitRedirectPersistenceManager(i);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&er(e)||this._popupRedirectResolver;oe(i,this,"argument-error"),this.redirectPersistenceManager=await Ya.create(this,[er(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,s,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(oe(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const g=e.addObserver(i,s,l);return()=>{d=!0,g()}}else{const g=e.addObserver(i);return()=>{d=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=yE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if($n(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&GS(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ss(r){return Wt(r)}class Ev{constructor(e){this.auth=e,this.observer=null,this.addObserver=O1(i=>this.observer=i)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Xl={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function pw(r){Xl=r}function km(r){return Xl.loadJS(r)}function gw(){return Xl.recaptchaV2Script}function yw(){return Xl.recaptchaEnterpriseScript}function _w(){return Xl.gapiScript}function _E(r){return`__${r}${Math.floor(Math.random()*1e6)}`}const vw=500,Ew=6e4,xc=1e12;class Tw{constructor(e){this.auth=e,this.counter=xc,this._widgets=new Map}render(e,i){const s=this.counter;return this._widgets.set(s,new Sw(e,this.auth.name,i||{})),this.counter++,s}reset(e){const i=e||xc;this._widgets.get(i)?.delete(),this._widgets.delete(i)}getResponse(e){const i=e||xc;return this._widgets.get(i)?.getResponse()||""}async execute(e){const i=e||xc;return this._widgets.get(i)?.execute(),""}}class bw{constructor(){this.enterprise=new Aw}ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}class Aw{ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}class Sw{constructor(e,i,s){this.params=s,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const l=typeof e=="string"?document.getElementById(e):e;oe(l,"argument-error",{appName:i}),this.container=l,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=ww(50);const{callback:e,"expired-callback":i}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,i)try{i()}catch{}this.isVisible&&this.execute()},Ew)},vw))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function ww(r){const e=[],i="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let s=0;s<r;s++)e.push(i.charAt(Math.floor(Math.random()*i.length)));return e.join("")}const Rw="recaptcha-enterprise",Nl="NO_RECAPTCHA";class vE{constructor(e){this.type=Rw,this.auth=ss(e)}async verify(e="verify",i=!1){async function s(c){if(!i){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,p)=>{aE(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const _=new sE(g);return c.tenantId==null?c._agentRecaptchaConfig=_:c._tenantRecaptchaConfigs[c.tenantId]=_,d(_.siteKey)}}).catch(g=>{p(g)})})}function l(c,d,p){const g=window.grecaptcha;pv(g)?g.enterprise.ready(()=>{g.enterprise.execute(c,{action:e}).then(_=>{d(_)}).catch(()=>{d(Nl)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new bw().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{s(this.auth).then(p=>{if(!i&&pv(window.grecaptcha))l(p,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let g=yw();g.length!==0&&(g+=p),km(g).then(()=>{l(p,c,d)}).catch(_=>{d(_)})}}).catch(p=>{d(p)})})}}async function qd(r,e,i,s=!1,l=!1){const c=new vE(r);let d;if(l)d=Nl;else try{d=await c.verify(i)}catch{d=await c.verify(i,!0)}const p={...e};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const g=p.phoneEnrollmentInfo.phoneNumber,_=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const g=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return s?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Hd(r,e,i,s,l){if(r._getRecaptchaConfig()?.isProviderEnabled("PHONE_PROVIDER")){const c=await qd(r,e,i);return s(r,c).catch(async d=>{if(r._getRecaptchaConfig()?.getProviderEnforcementState("PHONE_PROVIDER")==="AUDIT"&&(d.code==="auth/missing-recaptcha-token"||d.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${i} flow.`);const p=await qd(r,e,i,!1,!0);return s(r,p)}return Promise.reject(d)})}else{const c=await qd(r,e,i,!1,!0);return s(r,c)}}async function Iw(r){const e=ss(r),i=await aE(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),s=new sE(i);e.tenantId==null?e._agentRecaptchaConfig=s:e._tenantRecaptchaConfigs[e.tenantId]=s,s.isAnyProviderEnabled()&&new vE(e).verify()}function Cw(r,e){const i=Om(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(js(c,e??{}))return l;nr(l,"already-initialized")}return i.initialize({options:e})}function Nw(r,e){const i=e?.persistence||[],s=(Array.isArray(i)?i:[i]).map(er);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function Dw(r,e,i){const s=ss(r);oe(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const l=!1,c=EE(e),{host:d,port:p}=Ow(e),g=p===null?"":`:${p}`,_={url:`${c}//${d}${g}/`},T=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){oe(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),oe(js(_,s.config.emulator)&&js(T,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=_,s.emulatorConfig=T,s.settings.appVerificationDisabledForTesting=!0,oo(d)?(F0(`${c}//${d}${g}`),G0("Auth",!0)):xw()}function EE(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function Ow(r){const e=EE(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!i)return{host:"",port:null};const s=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const c=l[1];return{host:c,port:Tv(s.substr(c.length+1))}}else{const[c,d]=s.split(":");return{host:c,port:Tv(d)}}}function Tv(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function xw(){function r(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class Um{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return Wi("not implemented")}_getIdTokenResponse(e){return Wi("not implemented")}_linkToIdToken(e,i){return Wi("not implemented")}_getReauthenticationResolver(e){return Wi("not implemented")}}async function Xa(r,e){return mh(r,"POST","/v1/accounts:signInWithIdp",Vi(r,e))}const Vw="http://localhost";class qs extends Um{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new qs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):nr("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:l,...c}=i;if(!s||!l)return null;const d=new qs(s,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return Xa(e,i)}_linkToIdToken(e,i){const s=this.buildRequest();return s.idToken=i,Xa(e,s)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,Xa(e,i)}buildRequest(){const e={requestUri:Vw,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=lo(i)}return e}}async function bv(r,e){return ti(r,"POST","/v1/accounts:sendVerificationCode",Vi(r,e))}async function Mw(r,e){return mh(r,"POST","/v1/accounts:signInWithPhoneNumber",Vi(r,e))}async function Pw(r,e){const i=await mh(r,"POST","/v1/accounts:signInWithPhoneNumber",Vi(r,e));if(i.temporaryProof)throw bl(r,"account-exists-with-different-credential",i);return i}const kw={USER_NOT_FOUND:"user-not-found"};async function Uw(r,e){const i={...e,operation:"REAUTH"};return mh(r,"POST","/v1/accounts:signInWithPhoneNumber",Vi(r,i),kw)}class Dl extends Um{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,i){return new Dl({verificationId:e,verificationCode:i})}static _fromTokenResponse(e,i){return new Dl({phoneNumber:e,temporaryProof:i})}_getIdTokenResponse(e){return Mw(e,this._makeVerificationRequest())}_linkToIdToken(e,i){return Pw(e,{idToken:i,...this._makeVerificationRequest()})}_getReauthenticationResolver(e){return Uw(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:i,verificationId:s,verificationCode:l}=this.params;return e&&i?{temporaryProof:e,phoneNumber:i}:{sessionInfo:s,code:l}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:i,verificationCode:s,phoneNumber:l,temporaryProof:c}=e;return!s&&!i&&!l&&!c?null:new Dl({verificationId:i,verificationCode:s,phoneNumber:l,temporaryProof:c})}}class TE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class $l extends TE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Br extends $l{constructor(){super("facebook.com")}static credential(e){return qs._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Br.credentialFromTaggedObject(e)}static credentialFromError(e){return Br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Br.credential(e.oauthAccessToken)}catch{return null}}}Br.FACEBOOK_SIGN_IN_METHOD="facebook.com";Br.PROVIDER_ID="facebook.com";class qr extends $l{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return qs._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return qr.credentialFromTaggedObject(e)}static credentialFromError(e){return qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:s}=e;if(!i&&!s)return null;try{return qr.credential(i,s)}catch{return null}}}qr.GOOGLE_SIGN_IN_METHOD="google.com";qr.PROVIDER_ID="google.com";class Hr extends $l{constructor(){super("github.com")}static credential(e){return qs._fromParams({providerId:Hr.PROVIDER_ID,signInMethod:Hr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hr.credentialFromTaggedObject(e)}static credentialFromError(e){return Hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hr.credential(e.oauthAccessToken)}catch{return null}}}Hr.GITHUB_SIGN_IN_METHOD="github.com";Hr.PROVIDER_ID="github.com";class Fr extends $l{constructor(){super("twitter.com")}static credential(e,i){return qs._fromParams({providerId:Fr.PROVIDER_ID,signInMethod:Fr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return Fr.credentialFromTaggedObject(e)}static credentialFromError(e){return Fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:s}=e;if(!i||!s)return null;try{return Fr.credential(i,s)}catch{return null}}}Fr.TWITTER_SIGN_IN_METHOD="twitter.com";Fr.PROVIDER_ID="twitter.com";class eo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,s,l=!1){const c=await Zn._fromIdTokenResponse(e,s,l),d=Av(s);return new eo({user:c,providerId:d,_tokenResponse:s,operationType:i})}static async _forOperation(e,i,s){await e._updateTokensIfNecessary(s,!0);const l=Av(s);return new eo({user:e,providerId:l,_tokenResponse:s,operationType:i})}}function Av(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class Wc extends ar{constructor(e,i,s,l){super(i.code,i.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,Wc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,i,s,l){return new Wc(e,i,s,l)}}function bE(r,e,i,s){return(e==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Wc._fromErrorAndOperation(r,c,e,s):c})}async function Lw(r,e,i=!1){const s=await Ll(r,e._linkToIdToken(r.auth,await r.getIdToken()),i);return eo._forOperation(r,"link",s)}async function zw(r,e,i=!1){const{auth:s}=r;if($n(s.app))return Promise.reject(Xr(s));const l="reauthenticate";try{const c=await Ll(r,bE(s,l,e,r),i);oe(c.idToken,s,"internal-error");const d=Mm(c.idToken);oe(d,s,"internal-error");const{sub:p}=d;return oe(r.uid===p,s,"user-mismatch"),eo._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&nr(s,"user-mismatch"),c}}async function AE(r,e,i=!1){if($n(r.app))return Promise.reject(Xr(r));const s="signIn",l=await bE(r,s,e),c=await eo._fromIdTokenResponse(r,s,l);return i||await r._updateCurrentUser(c.user),c}async function jw(r,e){return AE(ss(r),e)}function Bw(r,e,i,s){return Wt(r).onIdTokenChanged(e,i,s)}function qw(r,e,i){return Wt(r).beforeAuthStateChanged(e,i)}function Hw(r,e,i,s){return Wt(r).onAuthStateChanged(e,i,s)}function Fw(r){return Wt(r).signOut()}function Sv(r,e){return ti(r,"POST","/v2/accounts/mfaEnrollment:start",Vi(r,e))}const eh="__sak";class SE{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(eh,"1"),this.storage.removeItem(eh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Gw=1e3,Qw=10;class wE extends SE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=gE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const s=this.storage.getItem(i),l=this.localCache[i];s!==l&&e(i,l,s)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,p,g)=>{this.notifyListeners(d,g)});return}const s=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(s);!i&&this.localCache[s]===d||this.notifyListeners(s,d)},c=this.storage.getItem(s);uw()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,Qw):l()}notifyListeners(e,i){this.localCache[e]=i;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:s}),!0)})},Gw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}wE.type="LOCAL";const Kw=wE;class RE extends SE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}RE.type="SESSION";const IE=RE;function Yw(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class ph{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const s=new ph(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:s,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const p=Array.from(d).map(async _=>_(i.origin,c)),g=await Yw(p);i.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:g})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ph.receivers=[];function Lm(r="",e=10){let i="";for(let s=0;s<e;s++)i+=Math.floor(Math.random()*10);return r+i}class Xw{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,g)=>{const _=Lm("",20);l.port1.start();const T=setTimeout(()=>{g(new Error("unsupported_event"))},s);d={messageChannel:l,onMessage(A){const x=A;if(x.data.eventId===_)switch(x.data.status){case"ack":clearTimeout(T),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(x.data.response);break;default:clearTimeout(T),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function It(){return window}function $w(r){It().location.href=r}function zm(){return typeof It().WorkerGlobalScope<"u"&&typeof It().importScripts=="function"}async function Zw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Jw(){return navigator?.serviceWorker?.controller||null}function Ww(){return zm()?self:null}const CE="firebaseLocalStorageDb",eR=1,th="firebaseLocalStorage",NE="fbase_key";class Zl{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function gh(r,e){return r.transaction([th],e?"readwrite":"readonly").objectStore(th)}function tR(){const r=indexedDB.deleteDatabase(CE);return new Zl(r).toPromise()}function sm(){const r=indexedDB.open(CE,eR);return new Promise((e,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(th,{keyPath:NE})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(th)?e(s):(s.close(),await tR(),e(await sm()))})})}async function wv(r,e,i){const s=gh(r,!0).put({[NE]:e,value:i});return new Zl(s).toPromise()}async function nR(r,e){const i=gh(r,!1).get(e),s=await new Zl(i).toPromise();return s===void 0?null:s.value}function Rv(r,e){const i=gh(r,!0).delete(e);return new Zl(i).toPromise()}const iR=800,rR=3;class DE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await sm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(i++>rR)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return zm()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ph._getInstance(Ww()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Zw(),!this.activeServiceWorker)return;this.sender=new Xw(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Jw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await sm();return await wv(e,eh,"1"),await Rv(e,eh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(s=>wv(s,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(s=>nR(s,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>Rv(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=gh(l,!1).getAll();return new Zl(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],s=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),iR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}DE.type="LOCAL";const sR=DE;function Iv(r,e){return ti(r,"POST","/v2/accounts/mfaSignIn:start",Vi(r,e))}const Fd=_E("rcb"),aR=new Yl(3e4,6e4);class oR{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!It().grecaptcha?.render}load(e,i=""){return oe(lR(i),e,"argument-error"),this.shouldResolveImmediately(i)&&mv(It().grecaptcha)?Promise.resolve(It().grecaptcha):new Promise((s,l)=>{const c=It().setTimeout(()=>{l(bn(e,"network-request-failed"))},aR.get());It()[Fd]=()=>{It().clearTimeout(c),delete It()[Fd];const p=It().grecaptcha;if(!p||!mv(p)){l(bn(e,"internal-error"));return}const g=p.render;p.render=(_,T)=>{const A=g(_,T);return this.counter++,A},this.hostLanguage=i,s(p)};const d=`${gw()}?${lo({onload:Fd,render:"explicit",hl:i})}`;km(d).catch(()=>{clearTimeout(c),l(bn(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){return!!It().grecaptcha?.render&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function lR(r){return r.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(r)}class uR{async load(e){return new Tw(e)}clearedOneInstance(){}}const Ol="recaptcha",cR={theme:"light",type:"image"};class hR{constructor(e,i,s={...cR}){this.parameters=s,this.type=Ol,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ss(e),this.isInvisible=this.parameters.size==="invisible",oe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const l=typeof i=="string"?document.getElementById(i):i;oe(l,this.auth,"argument-error"),this.container=l,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new uR:new oR,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),i=this.getAssertedRecaptcha(),s=i.getResponse(e);return s||new Promise(l=>{const c=d=>{d&&(this.tokenChangeListeners.delete(c),l(d))};this.tokenChangeListeners.add(c),this.isInvisible&&i.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){oe(!this.parameters.sitekey,this.auth,"argument-error"),oe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),oe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return i=>{if(this.tokenChangeListeners.forEach(s=>s(i)),typeof e=="function")e(i);else if(typeof e=="string"){const s=It()[e];typeof s=="function"&&s(i)}}}assertNotDestroyed(){oe(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const i=document.createElement("div");e.appendChild(i),e=i}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){oe(tE()&&!zm(),this.auth,"internal-error"),await fR(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await WS(this.auth);oe(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return oe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}function fR(){let r=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}r=()=>e(),window.addEventListener("load",r)}).catch(e=>{throw r&&window.removeEventListener("load",r),e})}class dR{constructor(e,i){this.verificationId=e,this.onConfirmation=i}confirm(e){const i=Dl._fromVerification(this.verificationId,e);return this.onConfirmation(i)}}async function mR(r,e,i){if($n(r.app))return Promise.reject(Xr(r));const s=ss(r),l=await pR(s,e,Wt(i));return new dR(l,c=>jw(s,c))}async function pR(r,e,i){if(!r._getRecaptchaConfig())try{await Iw(r)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let s;if(typeof e=="string"?s={phoneNumber:e}:s=e,"session"in s){const l=s.session;if("phoneNumber"in s){oe(l.type==="enroll",r,"internal-error");const c={idToken:l.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await Hd(r,c,"mfaSmsEnrollment",async(_,T)=>{if(T.phoneEnrollmentInfo.captchaResponse===Nl){oe(i?.type===Ol,_,"argument-error");const A=await Gd(_,T,i);return Sv(_,A)}return Sv(_,T)},"PHONE_PROVIDER").catch(_=>Promise.reject(_))).phoneSessionInfo.sessionInfo}else{oe(l.type==="signin",r,"internal-error");const c=s.multiFactorHint?.uid||s.multiFactorUid;oe(c,r,"missing-multi-factor-info");const d={mfaPendingCredential:l.credential,mfaEnrollmentId:c,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await Hd(r,d,"mfaSmsSignIn",async(T,A)=>{if(A.phoneSignInInfo.captchaResponse===Nl){oe(i?.type===Ol,T,"argument-error");const x=await Gd(T,A,i);return Iv(T,x)}return Iv(T,A)},"PHONE_PROVIDER").catch(T=>Promise.reject(T))).phoneResponseInfo.sessionInfo}}else{const l={phoneNumber:s.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await Hd(r,l,"sendVerificationCode",async(g,_)=>{if(_.captchaResponse===Nl){oe(i?.type===Ol,g,"argument-error");const T=await Gd(g,_,i);return bv(g,T)}return bv(g,_)},"PHONE_PROVIDER").catch(g=>Promise.reject(g))).sessionInfo}}finally{i?._reset()}}async function Gd(r,e,i){oe(i.type===Ol,r,"argument-error");const s=await i.verify();oe(typeof s=="string",r,"argument-error");const l={...e};if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,d=l.phoneEnrollmentInfo.captchaResponse,p=l.phoneEnrollmentInfo.clientType,g=l.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:s,captchaResponse:d,clientType:p,recaptchaVersion:g}}),l}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.captchaResponse,d=l.phoneSignInInfo.clientType,p=l.phoneSignInInfo.recaptchaVersion;return Object.assign(l,{phoneSignInInfo:{recaptchaToken:s,captchaResponse:c,clientType:d,recaptchaVersion:p}}),l}else return Object.assign(l,{recaptchaToken:s}),l}function gR(r,e){return e?er(e):(oe(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class jm extends Um{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Xa(e,this._buildIdpRequest())}_linkToIdToken(e,i){return Xa(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return Xa(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function yR(r){return AE(r.auth,new jm(r),r.bypassAuthState)}function _R(r){const{auth:e,user:i}=r;return oe(i,e,"internal-error"),zw(i,new jm(r),r.bypassAuthState)}async function vR(r){const{auth:e,user:i}=r;return oe(i,e,"internal-error"),Lw(i,new jm(r),r.bypassAuthState)}class OE{constructor(e,i,s,l,c=!1){this.auth=e,this.resolver=s,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:s,postBody:l,tenantId:c,error:d,type:p}=e;if(d){this.reject(d);return}const g={auth:this.auth,requestUri:i,sessionId:s,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return yR;case"linkViaPopup":case"linkViaRedirect":return vR;case"reauthViaPopup":case"reauthViaRedirect":return _R;default:nr(this.auth,"internal-error")}}resolve(e){ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ER=new Yl(2e3,1e4);class Ga extends OE{constructor(e,i,s,l,c){super(e,i,l,c),this.provider=s,this.authWindow=null,this.pollId=null,Ga.currentPopupAction&&Ga.currentPopupAction.cancel(),Ga.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return oe(e,this.auth,"internal-error"),e}async onExecution(){ir(this.filter.length===1,"Popup operations only handle one event");const e=Lm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(bn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(bn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ga.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(bn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ER.get())};e()}}Ga.currentPopupAction=null;const TR="pendingRedirect",jc=new Map;class bR extends OE{constructor(e,i,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,s),this.eventId=null}async execute(){let e=jc.get(this.auth._key());if(!e){try{const s=await AR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(i){e=()=>Promise.reject(i)}jc.set(this.auth._key(),e)}return this.bypassAuthState||jc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function AR(r,e){const i=RR(e),s=wR(r);if(!await s._isAvailable())return!1;const l=await s._get(i)==="true";return await s._remove(i),l}function SR(r,e){jc.set(r._key(),e)}function wR(r){return er(r._redirectPersistence)}function RR(r){return zc(TR,r.config.apiKey,r.name)}async function IR(r,e,i=!1){if($n(r.app))return Promise.reject(Xr(r));const s=ss(r),l=gR(s,e),d=await new bR(s,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,e)),d}const CR=600*1e3;class NR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(i=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!DR(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!xE(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";i.onError(bn(this.auth,s))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const s=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=CR&&this.cachedEventUids.clear(),this.cachedEventUids.has(Cv(e))}saveEventToCache(e){this.cachedEventUids.add(Cv(e)),this.lastProcessedEventTime=Date.now()}}function Cv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function xE({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function DR(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xE(r);default:return!1}}async function OR(r,e={}){return ti(r,"GET","/v1/projects",e)}const xR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,VR=/^https?/;async function MR(r){if(r.config.emulator)return;const{authorizedDomains:e}=await OR(r);for(const i of e)try{if(PR(i))return}catch{}nr(r,"unauthorized-domain")}function PR(r){const e=im(),{protocol:i,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&s===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===s}if(!VR.test(i))return!1;if(xR.test(r))return s===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}const kR=new Yl(3e4,6e4);function Nv(){const r=It().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function UR(r){return new Promise((e,i)=>{function s(){Nv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Nv(),i(bn(r,"network-request-failed"))},timeout:kR.get()})}if(It().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(It().gapi?.load)s();else{const l=_E("iframefcb");return It()[l]=()=>{gapi.load?s():i(bn(r,"network-request-failed"))},km(`${_w()}?onload=${l}`).catch(c=>i(c))}}).catch(e=>{throw Bc=null,e})}let Bc=null;function LR(r){return Bc=Bc||UR(r),Bc}const zR=new Yl(5e3,15e3),jR="__/auth/iframe",BR="emulator/auth/iframe",qR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},HR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function FR(r){const e=r.config;oe(e.authDomain,r,"auth-domain-config-required");const i=e.emulator?Vm(e,BR):`https://${r.config.authDomain}/${jR}`,s={apiKey:e.apiKey,appName:r.name,v:uo},l=HR.get(r.config.apiHost);l&&(s.eid=l);const c=r._getFrameworks();return c.length&&(s.fw=c.join(",")),`${i}?${lo(s).slice(1)}`}async function GR(r){const e=await LR(r),i=It().gapi;return oe(i,r,"internal-error"),e.open({where:document.body,url:FR(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qR,dontclear:!0},s=>new Promise(async(l,c)=>{await s.restyle({setHideOnLeave:!1});const d=bn(r,"network-request-failed"),p=It().setTimeout(()=>{c(d)},zR.get());function g(){It().clearTimeout(p),l(s)}s.ping(g).then(g,()=>{c(d)})}))}const QR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},KR=500,YR=600,XR="_blank",$R="http://localhost";class Dv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ZR(r,e,i,s=KR,l=YR){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const g={...QR,width:s.toString(),height:l.toString(),top:c,left:d},_=Jt().toLowerCase();i&&(p=hE(_)?XR:i),uE(_)&&(e=e||$R,g.scrollbars="yes");const T=Object.entries(g).reduce((x,[H,W])=>`${x}${H}=${W},`,"");if(lw(_)&&p!=="_self")return JR(e||"",p),new Dv(null);const A=window.open(e||"",p,T);oe(A,r,"popup-blocked");try{A.focus()}catch{}return new Dv(A)}function JR(r,e){const i=document.createElement("a");i.href=r,i.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(s)}const WR="__/auth/handler",eI="emulator/auth/handler",tI=encodeURIComponent("fac");async function Ov(r,e,i,s,l,c){oe(r.config.authDomain,r,"auth-domain-config-required"),oe(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:s,v:uo,eventId:l};if(e instanceof TE){e.setDefaultLanguage(r.languageCode),d.providerId=e.providerId||"",D1(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,A]of Object.entries({}))d[T]=A}if(e instanceof $l){const T=e.getScopes().filter(A=>A!=="");T.length>0&&(d.scopes=T.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const T of Object.keys(p))p[T]===void 0&&delete p[T];const g=await r._getAppCheckToken(),_=g?`#${tI}=${encodeURIComponent(g)}`:"";return`${nI(r)}?${lo(p).slice(1)}${_}`}function nI({config:r}){return r.emulator?Vm(r,eI):`https://${r.authDomain}/${WR}`}const Qd="webStorageSupport";class iI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=IE,this._completeRedirectFn=IR,this._overrideRedirectResult=SR}async _openPopup(e,i,s,l){ir(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await Ov(e,i,s,im(),l);return ZR(e,c,Lm())}async _openRedirect(e,i,s,l){await this._originValidation(e);const c=await Ov(e,i,s,im(),l);return $w(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(ir(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(e);return this.eventManagers[i]={promise:s},s.catch(()=>{delete this.eventManagers[i]}),s}async initAndGetManager(e){const i=await GR(e),s=new NR(e);return i.register("authEvent",l=>(oe(l?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=i,s}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Qd,{type:Qd},l=>{const c=l?.[0]?.[Qd];c!==void 0&&i(!!c),nr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=MR(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return gE()||cE()||Pm()}}const rI=iI;var xv="@firebase/auth",Vv="1.11.1";class sI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function aI(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function oI(r){Wa(new Bs("auth",(e,{options:i})=>{const s=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=s.options;oe(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yE(r)},_=new mw(s,l,c,g);return Nw(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,s)=>{e.getProvider("auth-internal").initialize()})),Wa(new Bs("auth-internal",e=>{const i=ss(e.getProvider("auth").getImmediate());return(s=>new sI(s))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Yr(xv,Vv,aI(r)),Yr(xv,Vv,"esm2020")}const lI=300,uI=H0("authIdTokenMaxAge")||lI;let Mv=null;const cI=r=>async e=>{const i=e&&await e.getIdTokenResult(),s=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(s&&s>uI)return;const l=i?.token;Mv!==l&&(Mv=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function hI(r=X0()){const e=Om(r,"auth");if(e.isInitialized())return e.getImmediate();const i=Cw(r,{popupRedirectResolver:rI,persistence:[sR,Kw,IE]}),s=H0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const d=cI(c.toString());qw(i,d,()=>d(i.currentUser)),Bw(i,p=>d(p))}}const l=B0("auth");return l&&Dw(i,`http://${l}`),i}function fI(){return document.getElementsByTagName("head")?.[0]??document}pw({loadJS(r){return new Promise((e,i)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=l=>{const c=bn("internal-error");c.customData=l,i(c)},s.type="text/javascript",s.charset="UTF-8",fI().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});oI("Browser");var Pv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var $r,VE;(function(){var r;function e(w,S){function R(){}R.prototype=S.prototype,w.F=S.prototype,w.prototype=new R,w.prototype.constructor=w,w.D=function(V,N,P){for(var I=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)I[rt-2]=arguments[rt];return S.prototype[N].apply(V,I)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,i),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(w,S,R){R||(R=0);const V=Array(16);if(typeof S=="string")for(var N=0;N<16;++N)V[N]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(N=0;N<16;++N)V[N]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=w.g[0],R=w.g[1],N=w.g[2];let P=w.g[3],I;I=S+(P^R&(N^P))+V[0]+3614090360&4294967295,S=R+(I<<7&4294967295|I>>>25),I=P+(N^S&(R^N))+V[1]+3905402710&4294967295,P=S+(I<<12&4294967295|I>>>20),I=N+(R^P&(S^R))+V[2]+606105819&4294967295,N=P+(I<<17&4294967295|I>>>15),I=R+(S^N&(P^S))+V[3]+3250441966&4294967295,R=N+(I<<22&4294967295|I>>>10),I=S+(P^R&(N^P))+V[4]+4118548399&4294967295,S=R+(I<<7&4294967295|I>>>25),I=P+(N^S&(R^N))+V[5]+1200080426&4294967295,P=S+(I<<12&4294967295|I>>>20),I=N+(R^P&(S^R))+V[6]+2821735955&4294967295,N=P+(I<<17&4294967295|I>>>15),I=R+(S^N&(P^S))+V[7]+4249261313&4294967295,R=N+(I<<22&4294967295|I>>>10),I=S+(P^R&(N^P))+V[8]+1770035416&4294967295,S=R+(I<<7&4294967295|I>>>25),I=P+(N^S&(R^N))+V[9]+2336552879&4294967295,P=S+(I<<12&4294967295|I>>>20),I=N+(R^P&(S^R))+V[10]+4294925233&4294967295,N=P+(I<<17&4294967295|I>>>15),I=R+(S^N&(P^S))+V[11]+2304563134&4294967295,R=N+(I<<22&4294967295|I>>>10),I=S+(P^R&(N^P))+V[12]+1804603682&4294967295,S=R+(I<<7&4294967295|I>>>25),I=P+(N^S&(R^N))+V[13]+4254626195&4294967295,P=S+(I<<12&4294967295|I>>>20),I=N+(R^P&(S^R))+V[14]+2792965006&4294967295,N=P+(I<<17&4294967295|I>>>15),I=R+(S^N&(P^S))+V[15]+1236535329&4294967295,R=N+(I<<22&4294967295|I>>>10),I=S+(N^P&(R^N))+V[1]+4129170786&4294967295,S=R+(I<<5&4294967295|I>>>27),I=P+(R^N&(S^R))+V[6]+3225465664&4294967295,P=S+(I<<9&4294967295|I>>>23),I=N+(S^R&(P^S))+V[11]+643717713&4294967295,N=P+(I<<14&4294967295|I>>>18),I=R+(P^S&(N^P))+V[0]+3921069994&4294967295,R=N+(I<<20&4294967295|I>>>12),I=S+(N^P&(R^N))+V[5]+3593408605&4294967295,S=R+(I<<5&4294967295|I>>>27),I=P+(R^N&(S^R))+V[10]+38016083&4294967295,P=S+(I<<9&4294967295|I>>>23),I=N+(S^R&(P^S))+V[15]+3634488961&4294967295,N=P+(I<<14&4294967295|I>>>18),I=R+(P^S&(N^P))+V[4]+3889429448&4294967295,R=N+(I<<20&4294967295|I>>>12),I=S+(N^P&(R^N))+V[9]+568446438&4294967295,S=R+(I<<5&4294967295|I>>>27),I=P+(R^N&(S^R))+V[14]+3275163606&4294967295,P=S+(I<<9&4294967295|I>>>23),I=N+(S^R&(P^S))+V[3]+4107603335&4294967295,N=P+(I<<14&4294967295|I>>>18),I=R+(P^S&(N^P))+V[8]+1163531501&4294967295,R=N+(I<<20&4294967295|I>>>12),I=S+(N^P&(R^N))+V[13]+2850285829&4294967295,S=R+(I<<5&4294967295|I>>>27),I=P+(R^N&(S^R))+V[2]+4243563512&4294967295,P=S+(I<<9&4294967295|I>>>23),I=N+(S^R&(P^S))+V[7]+1735328473&4294967295,N=P+(I<<14&4294967295|I>>>18),I=R+(P^S&(N^P))+V[12]+2368359562&4294967295,R=N+(I<<20&4294967295|I>>>12),I=S+(R^N^P)+V[5]+4294588738&4294967295,S=R+(I<<4&4294967295|I>>>28),I=P+(S^R^N)+V[8]+2272392833&4294967295,P=S+(I<<11&4294967295|I>>>21),I=N+(P^S^R)+V[11]+1839030562&4294967295,N=P+(I<<16&4294967295|I>>>16),I=R+(N^P^S)+V[14]+4259657740&4294967295,R=N+(I<<23&4294967295|I>>>9),I=S+(R^N^P)+V[1]+2763975236&4294967295,S=R+(I<<4&4294967295|I>>>28),I=P+(S^R^N)+V[4]+1272893353&4294967295,P=S+(I<<11&4294967295|I>>>21),I=N+(P^S^R)+V[7]+4139469664&4294967295,N=P+(I<<16&4294967295|I>>>16),I=R+(N^P^S)+V[10]+3200236656&4294967295,R=N+(I<<23&4294967295|I>>>9),I=S+(R^N^P)+V[13]+681279174&4294967295,S=R+(I<<4&4294967295|I>>>28),I=P+(S^R^N)+V[0]+3936430074&4294967295,P=S+(I<<11&4294967295|I>>>21),I=N+(P^S^R)+V[3]+3572445317&4294967295,N=P+(I<<16&4294967295|I>>>16),I=R+(N^P^S)+V[6]+76029189&4294967295,R=N+(I<<23&4294967295|I>>>9),I=S+(R^N^P)+V[9]+3654602809&4294967295,S=R+(I<<4&4294967295|I>>>28),I=P+(S^R^N)+V[12]+3873151461&4294967295,P=S+(I<<11&4294967295|I>>>21),I=N+(P^S^R)+V[15]+530742520&4294967295,N=P+(I<<16&4294967295|I>>>16),I=R+(N^P^S)+V[2]+3299628645&4294967295,R=N+(I<<23&4294967295|I>>>9),I=S+(N^(R|~P))+V[0]+4096336452&4294967295,S=R+(I<<6&4294967295|I>>>26),I=P+(R^(S|~N))+V[7]+1126891415&4294967295,P=S+(I<<10&4294967295|I>>>22),I=N+(S^(P|~R))+V[14]+2878612391&4294967295,N=P+(I<<15&4294967295|I>>>17),I=R+(P^(N|~S))+V[5]+4237533241&4294967295,R=N+(I<<21&4294967295|I>>>11),I=S+(N^(R|~P))+V[12]+1700485571&4294967295,S=R+(I<<6&4294967295|I>>>26),I=P+(R^(S|~N))+V[3]+2399980690&4294967295,P=S+(I<<10&4294967295|I>>>22),I=N+(S^(P|~R))+V[10]+4293915773&4294967295,N=P+(I<<15&4294967295|I>>>17),I=R+(P^(N|~S))+V[1]+2240044497&4294967295,R=N+(I<<21&4294967295|I>>>11),I=S+(N^(R|~P))+V[8]+1873313359&4294967295,S=R+(I<<6&4294967295|I>>>26),I=P+(R^(S|~N))+V[15]+4264355552&4294967295,P=S+(I<<10&4294967295|I>>>22),I=N+(S^(P|~R))+V[6]+2734768916&4294967295,N=P+(I<<15&4294967295|I>>>17),I=R+(P^(N|~S))+V[13]+1309151649&4294967295,R=N+(I<<21&4294967295|I>>>11),I=S+(N^(R|~P))+V[4]+4149444226&4294967295,S=R+(I<<6&4294967295|I>>>26),I=P+(R^(S|~N))+V[11]+3174756917&4294967295,P=S+(I<<10&4294967295|I>>>22),I=N+(S^(P|~R))+V[2]+718787259&4294967295,N=P+(I<<15&4294967295|I>>>17),I=R+(P^(N|~S))+V[9]+3951481745&4294967295,w.g[0]=w.g[0]+S&4294967295,w.g[1]=w.g[1]+(N+(I<<21&4294967295|I>>>11))&4294967295,w.g[2]=w.g[2]+N&4294967295,w.g[3]=w.g[3]+P&4294967295}s.prototype.v=function(w,S){S===void 0&&(S=w.length);const R=S-this.blockSize,V=this.C;let N=this.h,P=0;for(;P<S;){if(N==0)for(;P<=R;)l(this,w,P),P+=this.blockSize;if(typeof w=="string"){for(;P<S;)if(V[N++]=w.charCodeAt(P++),N==this.blockSize){l(this,V),N=0;break}}else for(;P<S;)if(V[N++]=w[P++],N==this.blockSize){l(this,V),N=0;break}}this.h=N,this.o+=S},s.prototype.A=function(){var w=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);w[0]=128;for(var S=1;S<w.length-8;++S)w[S]=0;S=this.o*8;for(var R=w.length-8;R<w.length;++R)w[R]=S&255,S/=256;for(this.v(w),w=Array(16),S=0,R=0;R<4;++R)for(let V=0;V<32;V+=8)w[S++]=this.g[R]>>>V&255;return w};function c(w,S){var R=p;return Object.prototype.hasOwnProperty.call(R,w)?R[w]:R[w]=S(w)}function d(w,S){this.h=S;const R=[];let V=!0;for(let N=w.length-1;N>=0;N--){const P=w[N]|0;V&&P==S||(R[N]=P,V=!1)}this.g=R}var p={};function g(w){return-128<=w&&w<128?c(w,function(S){return new d([S|0],S<0?-1:0)}):new d([w|0],w<0?-1:0)}function _(w){if(isNaN(w)||!isFinite(w))return A;if(w<0)return K(_(-w));const S=[];let R=1;for(let V=0;w>=R;V++)S[V]=w/R|0,R*=4294967296;return new d(S,0)}function T(w,S){if(w.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(w.charAt(0)=="-")return K(T(w.substring(1),S));if(w.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=_(Math.pow(S,8));let V=A;for(let P=0;P<w.length;P+=8){var N=Math.min(8,w.length-P);const I=parseInt(w.substring(P,P+N),S);N<8?(N=_(Math.pow(S,N)),V=V.j(N).add(_(I))):(V=V.j(R),V=V.add(_(I)))}return V}var A=g(0),x=g(1),H=g(16777216);r=d.prototype,r.m=function(){if(J(this))return-K(this).m();let w=0,S=1;for(let R=0;R<this.g.length;R++){const V=this.i(R);w+=(V>=0?V:4294967296+V)*S,S*=4294967296}return w},r.toString=function(w){if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(W(this))return"0";if(J(this))return"-"+K(this).toString(w);const S=_(Math.pow(w,6));var R=this;let V="";for(;;){const N=we(R,S).g;R=ie(R,N.j(S));let P=((R.g.length>0?R.g[0]:R.h)>>>0).toString(w);if(R=N,W(R))return P+V;for(;P.length<6;)P="0"+P;V=P+V}},r.i=function(w){return w<0?0:w<this.g.length?this.g[w]:this.h};function W(w){if(w.h!=0)return!1;for(let S=0;S<w.g.length;S++)if(w.g[S]!=0)return!1;return!0}function J(w){return w.h==-1}r.l=function(w){return w=ie(this,w),J(w)?-1:W(w)?0:1};function K(w){const S=w.g.length,R=[];for(let V=0;V<S;V++)R[V]=~w.g[V];return new d(R,~w.h).add(x)}r.abs=function(){return J(this)?K(this):this},r.add=function(w){const S=Math.max(this.g.length,w.g.length),R=[];let V=0;for(let N=0;N<=S;N++){let P=V+(this.i(N)&65535)+(w.i(N)&65535),I=(P>>>16)+(this.i(N)>>>16)+(w.i(N)>>>16);V=I>>>16,P&=65535,I&=65535,R[N]=I<<16|P}return new d(R,R[R.length-1]&-2147483648?-1:0)};function ie(w,S){return w.add(K(S))}r.j=function(w){if(W(this)||W(w))return A;if(J(this))return J(w)?K(this).j(K(w)):K(K(this).j(w));if(J(w))return K(this.j(K(w)));if(this.l(H)<0&&w.l(H)<0)return _(this.m()*w.m());const S=this.g.length+w.g.length,R=[];for(var V=0;V<2*S;V++)R[V]=0;for(V=0;V<this.g.length;V++)for(let N=0;N<w.g.length;N++){const P=this.i(V)>>>16,I=this.i(V)&65535,rt=w.i(N)>>>16,Dt=w.i(N)&65535;R[2*V+2*N]+=I*Dt,de(R,2*V+2*N),R[2*V+2*N+1]+=P*Dt,de(R,2*V+2*N+1),R[2*V+2*N+1]+=I*rt,de(R,2*V+2*N+1),R[2*V+2*N+2]+=P*rt,de(R,2*V+2*N+2)}for(w=0;w<S;w++)R[w]=R[2*w+1]<<16|R[2*w];for(w=S;w<2*S;w++)R[w]=0;return new d(R,0)};function de(w,S){for(;(w[S]&65535)!=w[S];)w[S+1]+=w[S]>>>16,w[S]&=65535,S++}function ce(w,S){this.g=w,this.h=S}function we(w,S){if(W(S))throw Error("division by zero");if(W(w))return new ce(A,A);if(J(w))return S=we(K(w),S),new ce(K(S.g),K(S.h));if(J(S))return S=we(w,K(S)),new ce(K(S.g),S.h);if(w.g.length>30){if(J(w)||J(S))throw Error("slowDivide_ only works with positive integers.");for(var R=x,V=S;V.l(w)<=0;)R=Je(R),V=Je(V);var N=Me(R,1),P=Me(V,1);for(V=Me(V,2),R=Me(R,2);!W(V);){var I=P.add(V);I.l(w)<=0&&(N=N.add(R),P=I),V=Me(V,1),R=Me(R,1)}return S=ie(w,N.j(S)),new ce(N,S)}for(N=A;w.l(S)>=0;){for(R=Math.max(1,Math.floor(w.m()/S.m())),V=Math.ceil(Math.log(R)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),P=_(R),I=P.j(S);J(I)||I.l(w)>0;)R-=V,P=_(R),I=P.j(S);W(P)&&(P=x),N=N.add(P),w=ie(w,I)}return new ce(N,w)}r.B=function(w){return we(this,w).h},r.and=function(w){const S=Math.max(this.g.length,w.g.length),R=[];for(let V=0;V<S;V++)R[V]=this.i(V)&w.i(V);return new d(R,this.h&w.h)},r.or=function(w){const S=Math.max(this.g.length,w.g.length),R=[];for(let V=0;V<S;V++)R[V]=this.i(V)|w.i(V);return new d(R,this.h|w.h)},r.xor=function(w){const S=Math.max(this.g.length,w.g.length),R=[];for(let V=0;V<S;V++)R[V]=this.i(V)^w.i(V);return new d(R,this.h^w.h)};function Je(w){const S=w.g.length+1,R=[];for(let V=0;V<S;V++)R[V]=w.i(V)<<1|w.i(V-1)>>>31;return new d(R,w.h)}function Me(w,S){const R=S>>5;S%=32;const V=w.g.length-R,N=[];for(let P=0;P<V;P++)N[P]=S>0?w.i(P+R)>>>S|w.i(P+R+1)<<32-S:w.i(P+R);return new d(N,w.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,VE=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=T,$r=d}).apply(typeof Pv<"u"?Pv:typeof self<"u"?self:typeof window<"u"?window:{});var Vc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ME,Al,PE,qc,am,kE,UE,LE;(function(){var r,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vc=="object"&&Vc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=i(this);function l(u,m){if(m)e:{var v=s;u=u.split(".");for(var b=0;b<u.length-1;b++){var k=u[b];if(!(k in v))break e;v=v[k]}u=u[u.length-1],b=v[u],m=m(b),m!=b&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],b;for(b in m)Object.prototype.hasOwnProperty.call(m,b)&&v.push([b,m[b]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function g(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=g,_.apply(null,arguments)}function T(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function A(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(b,k,B){for(var ee=Array(arguments.length-2),Te=2;Te<arguments.length;Te++)ee[Te-2]=arguments[Te];return m.prototype[k].apply(b,ee)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function H(u){const m=u.length;if(m>0){const v=Array(m);for(let b=0;b<m;b++)v[b]=u[b];return v}return[]}function W(u,m){for(let b=1;b<arguments.length;b++){const k=arguments[b];var v=typeof k;if(v=v!="object"?v:k?Array.isArray(k)?"array":v:"null",v=="array"||v=="object"&&typeof k.length=="number"){v=u.length||0;const B=k.length||0;u.length=v+B;for(let ee=0;ee<B;ee++)u[v+ee]=k[ee]}else u.push(k)}}class J{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function K(u){d.setTimeout(()=>{throw u},0)}function ie(){var u=w;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class de{constructor(){this.h=this.g=null}add(m,v){const b=ce.get();b.set(m,v),this.h?this.h.next=b:this.g=b,this.h=b}}var ce=new J(()=>new we,u=>u.reset());class we{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Je,Me=!1,w=new de,S=()=>{const u=Promise.resolve(void 0);Je=()=>{u.then(R)}};function R(){for(var u;u=ie();){try{u.h.call(u.g)}catch(v){K(v)}var m=ce;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Me=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function I(u){return/^[\s\xa0]*$/.test(u)}function rt(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A(rt,N),rt.prototype.init=function(u,m){const v=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&rt.Z.h.call(this)},rt.prototype.h=function(){rt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Dt="closure_listenable_"+(Math.random()*1e6|0),G=0;function te(u,m,v,b,k){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!b,this.ha=k,this.key=++G,this.da=this.fa=!1}function me(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Le(u,m,v){for(const b in u)m.call(v,u[b],b,u)}function Fe(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const $="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ne(u,m){let v,b;for(let k=1;k<arguments.length;k++){b=arguments[k];for(v in b)u[v]=b[v];for(let B=0;B<$.length;B++)v=$[B],Object.prototype.hasOwnProperty.call(b,v)&&(u[v]=b[v])}}function ae(u){this.src=u,this.g={},this.h=0}ae.prototype.add=function(u,m,v,b,k){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const ee=Ae(u,m,b,k);return ee>-1?(m=u[ee],v||(m.fa=!1)):(m=new te(m,this.src,B,!!b,k),m.fa=v,u.push(m)),m};function ye(u,m){const v=m.type;if(v in u.g){var b=u.g[v],k=Array.prototype.indexOf.call(b,m,void 0),B;(B=k>=0)&&Array.prototype.splice.call(b,k,1),B&&(me(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Ae(u,m,v,b){for(let k=0;k<u.length;++k){const B=u[k];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==b)return k}return-1}var ke="closure_lm_"+(Math.random()*1e6|0),Ot={};function st(u,m,v,b,k){if(Array.isArray(m)){for(let B=0;B<m.length;B++)st(u,m[B],v,b,k);return null}return v=_o(v),u&&u[Dt]?u.J(m,v,p(b)?!!b.capture:!1,k):as(u,m,v,!1,b,k)}function as(u,m,v,b,k,B){if(!m)throw Error("Invalid event type");const ee=p(k)?!!k.capture:!!k;let Te=os(u);if(Te||(u[ke]=Te=new ae(u)),v=Te.add(m,v,b,ee,B),v.proxy)return v;if(b=Zs(),v.proxy=b,b.src=u,b.listener=v,u.addEventListener)P||(k=ee),k===void 0&&(k=!1),u.addEventListener(m.toString(),b,k);else if(u.attachEvent)u.attachEvent(ni(m.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Zs(){function u(v){return m.call(u.src,u.listener,v)}const m=go;return u}function Js(u,m,v,b,k){if(Array.isArray(m))for(var B=0;B<m.length;B++)Js(u,m[B],v,b,k);else b=p(b)?!!b.capture:!!b,v=_o(v),u&&u[Dt]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=Ae(m,v,b,k),v>-1&&(me(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=os(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Ae(m,v,b,k)),(v=u>-1?m[u]:null)&&Ws(v))}function Ws(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Dt])ye(m.i,u);else{var v=u.type,b=u.proxy;m.removeEventListener?m.removeEventListener(v,b,u.capture):m.detachEvent?m.detachEvent(ni(v),b):m.addListener&&m.removeListener&&m.removeListener(b),(v=os(m))?(ye(v,u),v.h==0&&(v.src=null,m[ke]=null)):me(u)}}}function ni(u){return u in Ot?Ot[u]:Ot[u]="on"+u}function go(u,m){if(u.da)u=!0;else{m=new rt(m,this);const v=u.listener,b=u.ha||u.src;u.fa&&Ws(u),u=v.call(b,m)}return u}function os(u){return u=u[ke],u instanceof ae?u:null}var yo="__closure_events_fn_"+(Math.random()*1e9>>>0);function _o(u){return typeof u=="function"?u:(u[yo]||(u[yo]=function(m){return u.handleEvent(m)}),u[yo])}function yt(){V.call(this),this.i=new ae(this),this.M=this,this.G=null}A(yt,V),yt.prototype[Dt]=!0,yt.prototype.removeEventListener=function(u,m,v,b){Js(this,u,m,v,b)};function xt(u,m){var v,b=u.G;if(b)for(v=[];b;b=b.G)v.push(b);if(u=u.M,b=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var k=m;m=new N(b,u),ne(m,k)}k=!0;let B,ee;if(v)for(ee=v.length-1;ee>=0;ee--)B=m.g=v[ee],k=or(B,b,!0,m)&&k;if(B=m.g=u,k=or(B,b,!0,m)&&k,k=or(B,b,!1,m)&&k,v)for(ee=0;ee<v.length;ee++)B=m.g=v[ee],k=or(B,b,!1,m)&&k}yt.prototype.N=function(){if(yt.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let b=0;b<v.length;b++)me(v[b]);delete u.g[m],u.h--}}this.G=null},yt.prototype.J=function(u,m,v,b){return this.i.add(String(u),m,!1,v,b)},yt.prototype.K=function(u,m,v,b){return this.i.add(String(u),m,!0,v,b)};function or(u,m,v,b){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let k=!0;for(let B=0;B<m.length;++B){const ee=m[B];if(ee&&!ee.da&&ee.capture==v){const Te=ee.listener,ft=ee.ha||ee.src;ee.fa&&ye(u.i,ee),k=Te.call(ft,b)!==!1&&k}}return k&&!b.defaultPrevented}function Oh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function iu(u){u.g=Oh(()=>{u.g=null,u.i&&(u.i=!1,iu(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class en extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:iu(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ls(u){V.call(this),this.h=u,this.g={}}A(ls,V);var vo=[];function Eo(u){Le(u.g,function(m,v){this.g.hasOwnProperty(v)&&Ws(m)},u),u.g={}}ls.prototype.N=function(){ls.Z.N.call(this),Eo(this)},ls.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var lr=d.JSON.stringify,xh=d.JSON.parse,ru=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function su(){}function au(){}var Ln={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function zt(){N.call(this,"d")}A(zt,N);function An(){N.call(this,"c")}A(An,N);var ht={},ou=null;function ea(){return ou=ou||new yt}ht.Ia="serverreachability";function lu(u){N.call(this,ht.Ia,u)}A(lu,N);function ii(u){const m=ea();xt(m,new lu(m))}ht.STAT_EVENT="statevent";function us(u,m){N.call(this,ht.STAT_EVENT,u),this.stat=m}A(us,N);function _t(u){const m=ea();xt(m,new us(m,u))}ht.Ja="timingevent";function ri(u,m){N.call(this,ht.Ja,u),this.size=m}A(ri,N);function si(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function zn(){this.g=!0}zn.prototype.ua=function(){this.g=!1};function Vh(u,m,v,b,k,B){u.info(function(){if(u.g)if(B){var ee="",Te=B.split("&");for(let Be=0;Be<Te.length;Be++){var ft=Te[Be].split("=");if(ft.length>1){const at=ft[0];ft=ft[1];const In=at.split("_");ee=In.length>=2&&In[1]=="type"?ee+(at+"="+ft+"&"):ee+(at+"=redacted&")}}}else ee=null;else ee=B;return"XMLHTTP REQ ("+b+") [attempt "+k+"]: "+m+`
`+v+`
`+ee})}function uu(u,m,v,b,k,B,ee){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+k+"]: "+m+`
`+v+`
`+B+" "+ee})}function ai(u,m,v,b){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Mh(u,v)+(b?" "+b:"")})}function cs(u,m){u.info(function(){return"TIMEOUT: "+m})}zn.prototype.info=function(){};function Mh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var b=v[1];if(Array.isArray(b)&&!(b.length<1)){var k=b[0];if(k!="noop"&&k!="stop"&&k!="close")for(let ee=1;ee<b.length;ee++)b[ee]=""}}}}return lr(B)}catch{return m}}var hs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},To={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},bo;function fs(){}A(fs,su),fs.prototype.g=function(){return new XMLHttpRequest},bo=new fs;function Mi(u){return encodeURIComponent(String(u))}function cu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function jn(u,m,v,b){this.j=u,this.i=m,this.l=v,this.S=b||1,this.V=new ls(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Bn}function Bn(){this.i=null,this.g="",this.h=!1}var vt={},Pt={};function oi(u,m,v){u.M=1,u.A=ds(Tt(m)),u.u=v,u.R=!0,ta(u,null)}function ta(u,m){u.F=Date.now(),li(u),u.B=Tt(u.A);var v=u.B,b=u.S;Array.isArray(b)||(b=[String(b)]),sa(v.i,"t",b),u.C=0,v=u.j.L,u.h=new Bn,u.g=wu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new en(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,b=u.ba;var k="readystatechange";Array.isArray(k)||(k&&(vo[0]=k.toString()),k=vo);for(let B=0;B<k.length;B++){const ee=st(v,k[B],b||m.handleEvent,!1,m.h||m);if(!ee)break;m.g[ee.key]=ee}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ii(),Vh(u.i,u.v,u.B,u.l,u.S,u.u)}jn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Fn(u)==3?m.j():this.Y(u)},jn.prototype.Y=function(u){try{if(u==this.g)e:{const Te=Fn(this.g),ft=this.g.ya(),Be=this.g.ca();if(!(Te<3)&&(Te!=3||this.g&&(this.h.h||this.g.la()||jt(this.g)))){this.K||Te!=4||ft==7||(ft==8||Be<=0?ii(3):ii(2)),ui(this);var m=this.g.ca();this.X=m;var v=Ph(this);if(this.o=m==200,uu(this.i,this.v,this.B,this.l,this.S,Te,m),this.o){if(this.U&&!this.L){t:{if(this.g){var b,k=this.g;if((b=k.g?k.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(b)){var B=b;break t}}B=null}if(u=B)ai(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ci(this,u);else{this.o=!1,this.m=3,_t(12),dn(this),Sn(this);break e}}if(this.R){u=!0;let at;for(;!this.K&&this.C<v.length;)if(at=fu(this,v),at==Pt){Te==4&&(this.m=4,_t(14),u=!1),ai(this.i,this.l,null,"[Incomplete Response]");break}else if(at==vt){this.m=4,_t(15),ai(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else ai(this.i,this.l,at,null),ci(this,at);if(hu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Te!=4||v.length!=0||this.h.h||(this.m=1,_t(16),u=!1),this.o=this.o&&u,!u)ai(this.i,this.l,v,"[Invalid Chunked Response]"),dn(this),Sn(this);else if(v.length>0&&!this.W){this.W=!0;var ee=this.j;ee.g==this&&ee.aa&&!ee.P&&(ee.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Uo(ee),ee.P=!0,_t(11))}}else ai(this.i,this.l,v,null),ci(this,v);Te==4&&dn(this),this.o&&!this.K&&(Te==4?Tu(this.j,this):(this.o=!1,li(this)))}else ki(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,_t(12)):(this.m=0,_t(13)),dn(this),Sn(this)}}}catch{}finally{}};function Ph(u){if(!hu(u))return u.g.la();const m=jt(u.g);if(m==="")return"";let v="";const b=m.length,k=Fn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return dn(u),Sn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<b;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(k&&B==b-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function hu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function fu(u,m){var v=u.C,b=m.indexOf(`
`,v);return b==-1?Pt:(v=Number(m.substring(v,b)),isNaN(v)?vt:(b+=1,b+v>m.length?Pt:(m=m.slice(b,b+v),u.C=b+v,m)))}jn.prototype.cancel=function(){this.K=!0,dn(this)};function li(u){u.T=Date.now()+u.H,na(u,u.H)}function na(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=si(_(u.aa,u),m)}function ui(u){u.D&&(d.clearTimeout(u.D),u.D=null)}jn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(cs(this.i,this.B),this.M!=2&&(ii(),_t(17)),dn(this),this.m=2,Sn(this)):na(this,this.T-u)};function Sn(u){u.j.I==0||u.K||Tu(u.j,u)}function dn(u){ui(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Eo(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ci(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||fi(v.h,u))){if(!u.L&&fi(v.h,u)&&v.I==3){try{var b=v.Ba.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var k=b;if(k[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)ca(v),gr(v);else break e;Es(v),_t(18)}}else v.xa=k[1],0<v.xa-v.K&&k[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=si(_(v.Va,v),6e3));hi(v.h)<=1&&v.ta&&(v.ta=void 0)}else _i(v,11)}else if((u.L||v.g==u)&&ca(v),!I(m))for(k=v.Ba.g.parse(m),m=0;m<k.length;m++){let Be=k[m];const at=Be[0];if(!(at<=v.K))if(v.K=at,Be=Be[1],v.I==2)if(Be[0]=="c"){v.M=Be[1],v.ba=Be[2];const In=Be[3];In!=null&&(v.ka=In,v.j.info("VER="+v.ka));const vi=Be[4];vi!=null&&(v.za=vi,v.j.info("SVER="+v.za));const Gn=Be[5];Gn!=null&&typeof Gn=="number"&&Gn>0&&(b=1.5*Gn,v.O=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const Qn=u.g;if(Qn){const Ts=Qn.g?Qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ts){var B=b.h;B.g||Ts.indexOf("spdy")==-1&&Ts.indexOf("quic")==-1&&Ts.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(wo(B,B.h),B.h=null))}if(b.G){const ha=Qn.g?Qn.g.getResponseHeader("X-HTTP-Session-Id"):null;ha&&(b.wa=ha,Ge(b.J,b.G,ha))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),b=v;var ee=u;if(b.na=Su(b,b.L?b.ba:null,b.W),ee.L){Ro(b.h,ee);var Te=ee,ft=b.O;ft&&(Te.H=ft),Te.D&&(ui(Te),li(Te)),b.g=ee}else vu(b);v.i.length>0&&yi(v)}else Be[0]!="stop"&&Be[0]!="close"||_i(v,7);else v.I==3&&(Be[0]=="stop"||Be[0]=="close"?Be[0]=="stop"?_i(v,7):Po(v):Be[0]!="noop"&&v.l&&v.l.qa(Be),v.A=0)}}ii(4)}catch{}}var Et=class{constructor(u,m){this.g=u,this.map=m}};function Ao(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function So(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function hi(u){return u.h?1:u.g?u.g.size:0}function fi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function wo(u,m){u.g?u.g.add(m):u.h=m}function Ro(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Ao.prototype.cancel=function(){if(this.i=Io(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Io(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return H(u.i)}var du=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ia(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const b=u[v].indexOf("=");let k,B=null;b>=0?(k=u[v].substring(0,b),B=u[v].substring(b+1)):k=u[v],m(k,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function mn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof mn?(this.l=u.l,kt(this,u.j),this.o=u.o,this.g=u.g,ur(this,u.u),this.h=u.h,Co(this,yu(u.i)),this.m=u.m):u&&(m=String(u).match(du))?(this.l=!1,kt(this,m[1]||"",!0),this.o=di(m[2]||""),this.g=di(m[3]||"",!0),ur(this,m[4]),this.h=di(m[5]||"",!0),Co(this,m[6]||"",!0),this.m=di(m[7]||"")):(this.l=!1,this.i=new hr(null,this.l))}mn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(ms(m,ra,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(ms(m,ra,!0),"@"),u.push(Mi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(ms(v,v.charAt(0)=="/"?No:mu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",ms(v,pu)),u.join("")},mn.prototype.resolve=function(u){const m=Tt(this);let v=!!u.j;v?kt(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var b=u.h;if(v)ur(m,u.u);else if(v=!!u.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var k=m.h.lastIndexOf("/");k!=-1&&(b=m.h.slice(0,k+1)+b)}if(k=b,k==".."||k==".")b="";else if(k.indexOf("./")!=-1||k.indexOf("/.")!=-1){b=k.lastIndexOf("/",0)==0,k=k.split("/");const B=[];for(let ee=0;ee<k.length;){const Te=k[ee++];Te=="."?b&&ee==k.length&&B.push(""):Te==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),b&&ee==k.length&&B.push("")):(B.push(Te),b=!0)}b=B.join("/")}else b=k}return v?m.h=b:v=u.i.toString()!=="",v?Co(m,yu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Tt(u){return new mn(u)}function kt(u,m,v){u.j=v?di(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ur(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Co(u,m,v){m instanceof hr?(u.i=m,aa(u.i,u.l)):(v||(m=ms(m,cr)),u.i=new hr(m,u.l))}function Ge(u,m,v){u.i.set(m,v)}function ds(u){return Ge(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function di(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ms(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,sn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function sn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ra=/[#\/\?@]/g,mu=/[#\?:]/g,No=/[#\?]/g,cr=/[#\?@]/g,pu=/#/g;function hr(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function an(u){u.g||(u.g=new Map,u.h=0,u.i&&ia(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=hr.prototype,r.add=function(u,m){an(this),this.i=null,u=fr(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function gu(u,m){an(u),m=fr(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Do(u,m){return an(u),m=fr(u,m),u.g.has(m)}r.forEach=function(u,m){an(this),this.g.forEach(function(v,b){v.forEach(function(k){u.call(m,k,b,this)},this)},this)};function Oo(u,m){an(u);let v=[];if(typeof m=="string")Do(u,m)&&(v=v.concat(u.g.get(fr(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return an(this),this.i=null,u=fr(this,u),Do(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=Oo(this,u),u.length>0?String(u[0]):m):m};function sa(u,m,v){gu(u,m),v.length>0&&(u.i=null,u.g.set(fr(u,m),H(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let b=0;b<m.length;b++){var v=m[b];const k=Mi(v);v=Oo(this,v);for(let B=0;B<v.length;B++){let ee=k;v[B]!==""&&(ee+="="+Mi(v[B])),u.push(ee)}}return this.i=u.join("&")};function yu(u){const m=new hr;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function fr(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function aa(u,m){m&&!u.j&&(an(u),u.i=null,u.g.forEach(function(v,b){const k=b.toLowerCase();b!=k&&(gu(this,b),sa(this,k,v))},u)),u.j=m}function qn(u,m){const v=new zn;if(d.Image){const b=new Image;b.onload=T(wn,v,"TestLoadImage: loaded",!0,m,b),b.onerror=T(wn,v,"TestLoadImage: error",!1,m,b),b.onabort=T(wn,v,"TestLoadImage: abort",!1,m,b),b.ontimeout=T(wn,v,"TestLoadImage: timeout",!1,m,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else m(!1)}function xo(u,m){const v=new zn,b=new AbortController,k=setTimeout(()=>{b.abort(),wn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:b.signal}).then(B=>{clearTimeout(k),B.ok?wn(v,"TestPingServer: ok",!0,m):wn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(k),wn(v,"TestPingServer: error",!1,m)})}function wn(u,m,v,b,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),b(v)}catch{}}function dr(){this.g=new ru}function mi(u){this.i=u.Sb||null,this.h=u.ab||!1}A(mi,su),mi.prototype.g=function(){return new ps(this.i,this.h)};function ps(u,m){yt.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(ps,yt),r=ps.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Hn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,mr(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Hn(this)),this.g&&(this.readyState=3,Hn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;oa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function oa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?mr(this):Hn(this),this.readyState==3&&oa(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,mr(this))},r.Na=function(u){this.g&&(this.response=u,mr(this))},r.ga=function(){this.g&&mr(this)};function mr(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Hn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Hn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ps.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Rn(u){let m="";return Le(u,function(v,b){m+=b,m+=":",m+=v,m+=`\r
`}),m}function gs(u,m,v){e:{for(b in v){var b=!1;break e}b=!0}b||(v=Rn(v),typeof u=="string"?v!=null&&Mi(v):Ge(u,m,v))}function Ye(u){yt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(Ye,yt);var pi=/^https?$/i,Vo=["POST","PUT"];r=Ye.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():bo.g(),this.g.onreadystatechange=x(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){ys(this,B);return}if(u=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var k in b)v.set(k,b[k]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const B of b.keys())v.set(B,b.get(B));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),k=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Vo,m,void 0)>=0)||b||k||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,ee]of v)this.g.setRequestHeader(B,ee);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){ys(this,B)}};function ys(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Mo(u),Pi(u)}function Mo(u){u.A||(u.A=!0,xt(u,"complete"),xt(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,xt(this,"complete"),xt(this,"abort"),Pi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Pi(this,!0)),Ye.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?_s(this):this.Xa())},r.Xa=function(){_s(this)};function _s(u){if(u.h&&typeof c<"u"){if(u.v&&Fn(u)==4)setTimeout(u.Ca.bind(u),0);else if(xt(u,"readystatechange"),Fn(u)==4){u.h=!1;try{const B=u.ca();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var b;if(b=B===0){let ee=String(u.D).match(du)[1]||null;!ee&&d.self&&d.self.location&&(ee=d.self.location.protocol.slice(0,-1)),b=!pi.test(ee?ee.toLowerCase():"")}v=b}if(v)xt(u,"complete"),xt(u,"success");else{u.o=6;try{var k=Fn(u)>2?u.g.statusText:""}catch{k=""}u.l=k+" ["+u.ca()+"]",Mo(u)}}finally{Pi(u)}}}}function Pi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||xt(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Fn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Fn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),xh(m)}};function jt(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ki(u){const m={};u=(u.g&&Fn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(I(u[b]))continue;var v=cu(u[b]);const k=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[k]||[];m[k]=B,B.push(v)}Fe(m,function(b){return b.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function gi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function pr(u){this.za=0,this.i=[],this.j=new zn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=gi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=gi("baseRetryDelayMs",5e3,u),this.Za=gi("retryDelaySeedMs",1e4,u),this.Ta=gi("forwardChannelMaxRetries",2,u),this.va=gi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Ao(u&&u.concurrentRequestLimit),this.Ba=new dr,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=pr.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,b){_t(0),this.W=u,this.H=m||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.J=Su(this,null,this.W),yi(this)};function Po(u){if(la(u),u.I==3){var m=u.V++,v=Tt(u.J);if(Ge(v,"SID",u.M),Ge(v,"RID",m),Ge(v,"TYPE","terminate"),vs(u,v),m=new jn(u,u.j,m),m.M=2,m.A=ds(Tt(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=wu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),li(m)}Au(u)}function gr(u){u.g&&(Uo(u),u.g.cancel(),u.g=null)}function la(u){gr(u),u.v&&(d.clearTimeout(u.v),u.v=null),ca(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function yi(u){if(!So(u.h)&&!u.m){u.m=!0;var m=u.Ea;Je||S(),Me||(Je(),Me=!0),w.add(m,u),u.D=0}}function ua(u,m){return hi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=si(_(u.Ea,u,m),bu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const k=new jn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=O(B),ne(B,this.U)):B=this.U),this.u!==null||this.R||(k.J=B,B=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(m+=b,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=_u(this,k,m),v=Tt(this.J),Ge(v,"RID",u),Ge(v,"CVER",22),this.G&&Ge(v,"X-HTTP-Session-Id",this.G),vs(this,v),B&&(this.R?m="headers="+Mi(Rn(B))+"&"+m:this.u&&gs(v,this.u,B)),wo(this.h,k),this.Ra&&Ge(v,"TYPE","init"),this.S?(Ge(v,"$req",m),Ge(v,"SID","null"),k.U=!0,oi(k,v,null)):oi(k,v,m),this.I=2}}else this.I==3&&(u?ko(this,u):this.i.length==0||So(this.h)||ko(this))};function ko(u,m){var v;m?v=m.l:v=u.V++;const b=Tt(u.J);Ge(b,"SID",u.M),Ge(b,"RID",v),Ge(b,"AID",u.K),vs(u,b),u.u&&u.o&&gs(b,u.u,u.o),v=new jn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=_u(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),wo(u.h,v),oi(v,b,m)}function vs(u,m){u.H&&Le(u.H,function(v,b){Ge(m,b,v)}),u.l&&Le({},function(v,b){Ge(m,b,v)})}function _u(u,m,v){v=Math.min(u.i.length,v);const b=u.l?_(u.l.Ka,u.l,u):null;e:{var k=u.i;let Te=-1;for(;;){const ft=["count="+v];Te==-1?v>0?(Te=k[0].g,ft.push("ofs="+Te)):Te=0:ft.push("ofs="+Te);let Be=!0;for(let at=0;at<v;at++){var B=k[at].g;const In=k[at].map;if(B-=Te,B<0)Te=Math.max(0,k[at].g-100),Be=!1;else try{B="req"+B+"_"||"";try{var ee=In instanceof Map?In:Object.entries(In);for(const[vi,Gn]of ee){let Qn=Gn;p(Gn)&&(Qn=lr(Gn)),ft.push(B+vi+"="+encodeURIComponent(Qn))}}catch(vi){throw ft.push(B+"type="+encodeURIComponent("_badmap")),vi}}catch{b&&b(In)}}if(Be){ee=ft.join("&");break e}}ee=void 0}return u=u.i.splice(0,v),m.G=u,ee}function vu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Je||S(),Me||(Je(),Me=!0),w.add(m,u),u.A=0}}function Es(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=si(_(u.Da,u),bu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,Eu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=si(_(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,_t(10),gr(this),Eu(this))};function Uo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Eu(u){u.g=new jn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Tt(u.na);Ge(m,"RID","rpc"),Ge(m,"SID",u.M),Ge(m,"AID",u.K),Ge(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Ge(m,"TO",u.ia),Ge(m,"TYPE","xmlhttp"),vs(u,m),u.u&&u.o&&gs(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=ds(Tt(m)),v.u=null,v.R=!0,ta(v,u)}r.Va=function(){this.C!=null&&(this.C=null,gr(this),Es(this),_t(19))};function ca(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Tu(u,m){var v=null;if(u.g==m){ca(u),Uo(u),u.g=null;var b=2}else if(fi(u.h,m))v=m.G,Ro(u.h,m),b=1;else return;if(u.I!=0){if(m.o)if(b==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var k=u.D;b=ea(),xt(b,new ri(b,v)),yi(u)}else vu(u);else if(k=m.m,k==3||k==0&&m.X>0||!(b==1&&ua(u,m)||b==2&&Es(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),k){case 1:_i(u,5);break;case 4:_i(u,10);break;case 3:_i(u,6);break;default:_i(u,2)}}}function bu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function _i(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),b=u.Ua;const k=!b;b=new mn(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||kt(b,"https"),ds(b),k?qn(b.toString(),v):xo(b.toString(),v)}else _t(2);u.I=0,u.l&&u.l.pa(m),Au(u),la(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),_t(2)):(this.j.info("Failed to ping google.com"),_t(1))};function Au(u){if(u.I=0,u.ja=[],u.l){const m=Io(u.h);(m.length!=0||u.i.length!=0)&&(W(u.ja,m),W(u.ja,u.i),u.h.i.length=0,H(u.i),u.i.length=0),u.l.oa()}}function Su(u,m,v){var b=v instanceof mn?Tt(v):new mn(v);if(b.g!="")m&&(b.g=m+"."+b.g),ur(b,b.u);else{var k=d.location;b=k.protocol,m=m?m+"."+k.hostname:k.hostname,k=+k.port;const B=new mn(null);b&&kt(B,b),m&&(B.g=m),k&&ur(B,k),v&&(B.h=v),b=B}return v=u.G,m=u.wa,v&&m&&Ge(b,v,m),Ge(b,"VER",u.ka),vs(u,b),b}function wu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Ye(new mi({ab:v})):new Ye(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ru(){}r=Ru.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function yr(){}yr.prototype.g=function(u,m){return new tn(u,m)};function tn(u,m){yt.call(this),this.g=new pr(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!I(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!I(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Ui(this)}A(tn,yt),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Po(this.g)},tn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=lr(u),u=v);m.i.push(new Et(m.Ya++,u)),m.I==3&&yi(m)},tn.prototype.N=function(){this.g.l=null,delete this.j,Po(this.g),delete this.g,tn.Z.N.call(this)};function Iu(u){zt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(Iu,zt);function Cu(){An.call(this),this.status=1}A(Cu,An);function Ui(u){this.g=u}A(Ui,Ru),Ui.prototype.ra=function(){xt(this.g,"a")},Ui.prototype.qa=function(u){xt(this.g,new Iu(u))},Ui.prototype.pa=function(u){xt(this.g,new Cu)},Ui.prototype.oa=function(){xt(this.g,"b")},yr.prototype.createWebChannel=yr.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,LE=function(){return new yr},UE=function(){return ea()},kE=ht,am={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},hs.NO_ERROR=0,hs.TIMEOUT=8,hs.HTTP_ERROR=6,qc=hs,To.COMPLETE="complete",PE=To,au.EventType=Ln,Ln.OPEN="a",Ln.CLOSE="b",Ln.ERROR="c",Ln.MESSAGE="d",yt.prototype.listen=yt.prototype.J,Al=au,Ye.prototype.listenOnce=Ye.prototype.K,Ye.prototype.getLastError=Ye.prototype.Ha,Ye.prototype.getLastErrorCode=Ye.prototype.ya,Ye.prototype.getStatus=Ye.prototype.ca,Ye.prototype.getResponseJson=Ye.prototype.La,Ye.prototype.getResponseText=Ye.prototype.la,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Fa,ME=Ye}).apply(typeof Vc<"u"?Vc:typeof self<"u"?self:typeof window<"u"?window:{});const kv="@firebase/firestore",Uv="4.9.2";let $t=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");let co="12.3.0";const Hs=new Nm("@firebase/firestore");function Ba(){return Hs.logLevel}function se(r,...e){if(Hs.logLevel<=Oe.DEBUG){const i=e.map(Bm);Hs.debug(`Firestore (${co}): ${r}`,...i)}}function rr(r,...e){if(Hs.logLevel<=Oe.ERROR){const i=e.map(Bm);Hs.error(`Firestore (${co}): ${r}`,...i)}}function to(r,...e){if(Hs.logLevel<=Oe.WARN){const i=e.map(Bm);Hs.warn(`Firestore (${co}): ${r}`,...i)}}function Bm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function ge(r,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,zE(r,s,i)}function zE(r,e,i){let s=`FIRESTORE (${co}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw rr(s),new Error(s)}function He(r,e,i,s){let l="Unexpected state";typeof i=="string"?l=i:s=i,r||zE(e,l,s)}function Ee(r,e){return r}const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class re extends ar{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Zr{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class jE{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class dI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i($t.UNAUTHENTICATED)))}shutdown(){}}class mI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class pI{constructor(e){this.t=e,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){He(this.o===void 0,42304);let s=this.i;const l=g=>this.i!==s?(s=this.i,i(g)):Promise.resolve();let c=new Zr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Zr,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const g=c;e.enqueueRetryable((async()=>{await g.promise,await l(this.currentUser)}))},p=g=>{se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(se("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Zr)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==e?(se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(He(typeof s.accessToken=="string",31837,{l:s}),new jE(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return He(e===null||typeof e=="string",2055,{h:e}),new $t(e)}}class gI{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class yI{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new gI(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i($t.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Lv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _I{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,$n(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){He(this.o===void 0,3512);const s=c=>{c.error!=null&&se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,se("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>s(c)))};const l=c=>{se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Lv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(He(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Lv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function vI(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}class qm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=vI(40);for(let c=0;c<l.length;++c)s.length<20&&l[c]<i&&(s+=e.charAt(l[c]%62))}return s}}function xe(r,e){return r<e?-1:r>e?1:0}function om(r,e){const i=Math.min(r.length,e.length);for(let s=0;s<i;s++){const l=r.charAt(s),c=e.charAt(s);if(l!==c)return Kd(l)===Kd(c)?xe(l,c):Kd(l)?1:-1}return xe(r.length,e.length)}const EI=55296,TI=57343;function Kd(r){const e=r.charCodeAt(0);return e>=EI&&e<=TI}function no(r,e,i){return r.length===e.length&&r.every(((s,l)=>i(s,e[l])))}const zv="__name__";class Si{constructor(e,i,s){i===void 0?i=0:i>e.length&&ge(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&ge(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return Si.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Si?e.forEach((s=>{i.push(s)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let l=0;l<s;l++){const c=Si.compareSegments(e.get(l),i.get(l));if(c!==0)return c}return xe(e.length,i.length)}static compareSegments(e,i){const s=Si.isNumericId(e),l=Si.isNumericId(i);return s&&!l?-1:!s&&l?1:s&&l?Si.extractNumericId(e).compare(Si.extractNumericId(i)):om(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return $r.fromString(e.substring(4,e.length-2))}}class et extends Si{construct(e,i,s){return new et(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new re(X.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((l=>l.length>0)))}return new et(i)}static emptyPath(){return new et([])}}const bI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qt extends Si{construct(e,i,s){return new Qt(e,i,s)}static isValidIdentifier(e){return bI.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===zv}static keyField(){return new Qt([zv])}static fromServerFormat(e){const i=[];let s="",l=0;const c=()=>{if(s.length===0)throw new re(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;l<e.length;){const p=e[l];if(p==="\\"){if(l+1===e.length)throw new re(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[l+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new re(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(s+=p,l++):(c(),l++)}if(c(),d)throw new re(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qt(i)}static emptyPath(){return new Qt([])}}class fe{constructor(e){this.path=e}static fromPath(e){return new fe(et.fromString(e))}static fromName(e){return new fe(et.fromString(e).popFirst(5))}static empty(){return new fe(et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return et.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new fe(new et(e.slice()))}}function BE(r,e,i){if(!i)throw new re(X.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function AI(r,e,i,s){if(e===!0&&s===!0)throw new re(X.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function jv(r){if(!fe.isDocumentKey(r))throw new re(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Bv(r){if(fe.isDocumentKey(r))throw new re(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function qE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function yh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":ge(12329,{type:typeof r})}function Ii(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new re(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=yh(r);throw new re(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}function Nt(r,e){const i={typeString:r};return e&&(i.value=e),i}function Jl(r,e){if(!qE(r))throw new re(X.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in e)if(e[s]){const l=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){i=`JSON missing required field: '${s}'`;break}const d=r[s];if(l&&typeof d!==l){i=`JSON field '${s}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${s}' field to equal '${c.value}'`;break}}if(i)throw new re(X.INVALID_ARGUMENT,i);return!0}const qv=-62135596800,Hv=1e6;class it{static now(){return it.fromMillis(Date.now())}static fromDate(e){return it.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*Hv);return new it(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new re(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new re(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<qv)throw new re(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new re(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Hv}_compareTo(e){return this.seconds===e.seconds?xe(this.nanoseconds,e.nanoseconds):xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:it._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Jl(e,it._jsonSchema))return new it(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-qv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}it._jsonSchemaVersion="firestore/timestamp/1.0",it._jsonSchema={type:Nt("string",it._jsonSchemaVersion),seconds:Nt("number"),nanoseconds:Nt("number")};class _e{static fromTimestamp(e){return new _e(e)}static min(){return new _e(new it(0,0))}static max(){return new _e(new it(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const zl=-1;function SI(r,e){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=_e.fromTimestamp(s===1e9?new it(i+1,0):new it(i,s));return new Wr(l,fe.empty(),e)}function wI(r){return new Wr(r.readTime,r.key,zl)}class Wr{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new Wr(_e.min(),fe.empty(),zl)}static max(){return new Wr(_e.max(),fe.empty(),zl)}}function RI(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=fe.comparator(r.documentKey,e.documentKey),i!==0?i:xe(r.largestBatchId,e.largestBatchId))}const II="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class CI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function ho(r){if(r.code!==X.FAILED_PRECONDITION||r.message!==II)throw r;se("LocalStore","Unexpectedly lost primary lease")}class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&ge(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Z(((s,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.reject(i)}static resolve(e){return new Z(((i,s)=>{i(e)}))}static reject(e){return new Z(((i,s)=>{s(e)}))}static waitFor(e){return new Z(((i,s)=>{let l=0,c=0,d=!1;e.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(g=>s(g)))})),d=!0,c===l&&i()}))}static or(e){let i=Z.resolve(!1);for(const s of e)i=i.next((l=>l?Z.resolve(l):s()));return i}static forEach(e,i){const s=[];return e.forEach(((l,c)=>{s.push(i.call(this,l,c))})),this.waitFor(s)}static mapArray(e,i){return new Z(((s,l)=>{const c=e.length,d=new Array(c);let p=0;for(let g=0;g<c;g++){const _=g;i(e[_]).next((T=>{d[_]=T,++p,p===c&&s(d)}),(T=>l(T)))}}))}static doWhile(e,i){return new Z(((s,l)=>{const c=()=>{e()===!0?i().next((()=>{c()}),l):s()};c()}))}}function NI(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function fo(r){return r.name==="IndexedDbTransactionError"}class _h{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}_h.ce=-1;const Hm=-1;function vh(r){return r==null}function nh(r){return r===0&&1/r==-1/0}function DI(r){return typeof r=="number"&&Number.isInteger(r)&&!nh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const HE="";function OI(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=Fv(e)),e=xI(r.get(i),e);return Fv(e)}function xI(r,e){let i=e;const s=r.length;for(let l=0;l<s;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case HE:i+="";break;default:i+=c}}return i}function Fv(r){return r+HE+""}function Gv(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function Qs(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function FE(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class lt{constructor(e,i){this.comparator=e,this.root=i||Gt.EMPTY}insert(e,i){return new lt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Gt.BLACK,null,null))}remove(e){return new lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gt.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(e,s.key);if(l===0)return i+s.left.size;l<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,s)=>(e(i,s),!1)))}toString(){const e=[];return this.inorderTraversal(((i,s)=>(e.push(`${i}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Mc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Mc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Mc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Mc(this.root,e,this.comparator,!0)}}class Mc{constructor(e,i,s,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?s(e.key,i):1,i&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gt{constructor(e,i,s,l,c){this.key=e,this.value=i,this.color=s??Gt.RED,this.left=l??Gt.EMPTY,this.right=c??Gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,l,c){return new Gt(e??this.key,i??this.value,s??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let l=this;const c=s(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,i,s),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return Gt.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ge(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ge(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ge(27949);return e+(this.isRed()?0:1)}}Gt.EMPTY=null,Gt.RED=!0,Gt.BLACK=!1;Gt.EMPTY=new class{constructor(){this.size=0}get key(){throw ge(57766)}get value(){throw ge(16141)}get color(){throw ge(16727)}get left(){throw ge(29726)}get right(){throw ge(36894)}copy(e,i,s,l,c){return this}insert(e,i,s){return new Gt(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Mt{constructor(e){this.comparator=e,this.data=new lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,s)=>(e(i),!1)))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Qv(this.data.getIterator())}getIteratorFrom(e){return new Qv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((s=>{i=i.add(s)})),i}isEqual(e){if(!(e instanceof Mt)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Mt(this.comparator);return i.data=e,i}}class Qv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Jn{constructor(e){this.fields=e,e.sort(Qt.comparator)}static empty(){return new Jn([])}unionWith(e){let i=new Mt(Qt.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new Jn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return no(this.fields,e.fields,((i,s)=>i.isEqual(s)))}}class GE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Kt{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new GE("Invalid base64 string: "+c):c}})(e);return new Kt(i)}static fromUint8Array(e){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(e);return new Kt(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let l=0;l<i.length;l++)s[l]=i.charCodeAt(l);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kt.EMPTY_BYTE_STRING=new Kt("");const VI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function es(r){if(He(!!r,39018),typeof r=="string"){let e=0;const i=VI.exec(r);if(He(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:pt(r.seconds),nanos:pt(r.nanos)}}function pt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ts(r){return typeof r=="string"?Kt.fromBase64String(r):Kt.fromUint8Array(r)}const QE="server_timestamp",KE="__type__",YE="__previous_value__",XE="__local_write_time__";function Fm(r){return(r?.mapValue?.fields||{})[KE]?.stringValue===QE}function Eh(r){const e=r.mapValue.fields[YE];return Fm(e)?Eh(e):e}function jl(r){const e=es(r.mapValue.fields[XE].timestampValue);return new it(e.seconds,e.nanos)}class MI{constructor(e,i,s,l,c,d,p,g,_,T){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=_,this.isUsingEmulator=T}}const ih="(default)";class Bl{constructor(e,i){this.projectId=e,this.database=i||ih}static empty(){return new Bl("","")}get isDefaultDatabase(){return this.database===ih}isEqual(e){return e instanceof Bl&&e.projectId===this.projectId&&e.database===this.database}}const $E="__type__",PI="__max__",Pc={mapValue:{}},ZE="__vector__",rh="value";function ns(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Fm(r)?4:UI(r)?9007199254740991:kI(r)?10:11:ge(28295,{value:r})}function xi(r,e){if(r===e)return!0;const i=ns(r);if(i!==ns(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return jl(r).isEqual(jl(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=es(l.timestampValue),p=es(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(l,c){return ts(l.bytesValue).isEqual(ts(c.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(l,c){return pt(l.geoPointValue.latitude)===pt(c.geoPointValue.latitude)&&pt(l.geoPointValue.longitude)===pt(c.geoPointValue.longitude)})(r,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return pt(l.integerValue)===pt(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=pt(l.doubleValue),p=pt(c.doubleValue);return d===p?nh(d)===nh(p):isNaN(d)&&isNaN(p)}return!1})(r,e);case 9:return no(r.arrayValue.values||[],e.arrayValue.values||[],xi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(Gv(d)!==Gv(p))return!1;for(const g in d)if(d.hasOwnProperty(g)&&(p[g]===void 0||!xi(d[g],p[g])))return!1;return!0})(r,e);default:return ge(52216,{left:r})}}function ql(r,e){return(r.values||[]).find((i=>xi(i,e)))!==void 0}function io(r,e){if(r===e)return 0;const i=ns(r),s=ns(e);if(i!==s)return xe(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return xe(r.booleanValue,e.booleanValue);case 2:return(function(c,d){const p=pt(c.integerValue||c.doubleValue),g=pt(d.integerValue||d.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(r,e);case 3:return Kv(r.timestampValue,e.timestampValue);case 4:return Kv(jl(r),jl(e));case 5:return om(r.stringValue,e.stringValue);case 6:return(function(c,d){const p=ts(c),g=ts(d);return p.compareTo(g)})(r.bytesValue,e.bytesValue);case 7:return(function(c,d){const p=c.split("/"),g=d.split("/");for(let _=0;_<p.length&&_<g.length;_++){const T=xe(p[_],g[_]);if(T!==0)return T}return xe(p.length,g.length)})(r.referenceValue,e.referenceValue);case 8:return(function(c,d){const p=xe(pt(c.latitude),pt(d.latitude));return p!==0?p:xe(pt(c.longitude),pt(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return Yv(r.arrayValue,e.arrayValue);case 10:return(function(c,d){const p=c.fields||{},g=d.fields||{},_=p[rh]?.arrayValue,T=g[rh]?.arrayValue,A=xe(_?.values?.length||0,T?.values?.length||0);return A!==0?A:Yv(_,T)})(r.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Pc.mapValue&&d===Pc.mapValue)return 0;if(c===Pc.mapValue)return 1;if(d===Pc.mapValue)return-1;const p=c.fields||{},g=Object.keys(p),_=d.fields||{},T=Object.keys(_);g.sort(),T.sort();for(let A=0;A<g.length&&A<T.length;++A){const x=om(g[A],T[A]);if(x!==0)return x;const H=io(p[g[A]],_[T[A]]);if(H!==0)return H}return xe(g.length,T.length)})(r.mapValue,e.mapValue);default:throw ge(23264,{he:i})}}function Kv(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return xe(r,e);const i=es(r),s=es(e),l=xe(i.seconds,s.seconds);return l!==0?l:xe(i.nanos,s.nanos)}function Yv(r,e){const i=r.values||[],s=e.values||[];for(let l=0;l<i.length&&l<s.length;++l){const c=io(i[l],s[l]);if(c)return c}return xe(i.length,s.length)}function ro(r){return lm(r)}function lm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const s=es(i);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return ts(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return fe.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let s="[",l=!0;for(const c of i.values||[])l?l=!1:s+=",",s+=lm(c);return s+"]"})(r.arrayValue):"mapValue"in r?(function(i){const s=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of s)c?c=!1:l+=",",l+=`${d}:${lm(i.fields[d])}`;return l+"}"})(r.mapValue):ge(61005,{value:r})}function Hc(r){switch(ns(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Eh(r);return e?16+Hc(e):16;case 5:return 2*r.stringValue.length;case 6:return ts(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((l,c)=>l+Hc(c)),0)})(r.arrayValue);case 10:case 11:return(function(s){let l=0;return Qs(s.fields,((c,d)=>{l+=c.length+Hc(d)})),l})(r.mapValue);default:throw ge(13486,{value:r})}}function Xv(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function um(r){return!!r&&"integerValue"in r}function Gm(r){return!!r&&"arrayValue"in r}function $v(r){return!!r&&"nullValue"in r}function Zv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Fc(r){return!!r&&"mapValue"in r}function kI(r){return(r?.mapValue?.fields||{})[$E]?.stringValue===ZE}function xl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Qs(r.mapValue.fields,((i,s)=>e.mapValue.fields[i]=xl(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=xl(r.arrayValue.values[i]);return e}return{...r}}function UI(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===PI}class kn{constructor(e){this.value=e}static empty(){return new kn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!Fc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=xl(i)}setAll(e){let i=Qt.emptyPath(),s={},l=[];e.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const g=this.getFieldsMap(i);this.applyChanges(g,s,l),s={},l=[],i=p.popLast()}d?s[p.lastSegment()]=xl(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,s,l)}delete(e){const i=this.field(e.popLast());Fc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return xi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let l=i.mapValue.fields[e.get(s)];Fc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,s){Qs(i,((l,c)=>e[l]=c));for(const l of s)delete e[l]}clone(){return new kn(xl(this.value))}}function JE(r){const e=[];return Qs(r.fields,((i,s)=>{const l=new Qt([i]);if(Fc(s)){const c=JE(s.mapValue).fields;if(c.length===0)e.push(l);else for(const d of c)e.push(l.child(d))}else e.push(l)})),new Jn(e)}class Zt{constructor(e,i,s,l,c,d,p){this.key=e,this.documentType=i,this.version=s,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(e){return new Zt(e,0,_e.min(),_e.min(),_e.min(),kn.empty(),0)}static newFoundDocument(e,i,s,l){return new Zt(e,1,i,_e.min(),s,l,0)}static newNoDocument(e,i){return new Zt(e,2,i,_e.min(),_e.min(),kn.empty(),0)}static newUnknownDocument(e,i){return new Zt(e,3,i,_e.min(),_e.min(),kn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(_e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=kn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class sh{constructor(e,i){this.position=e,this.inclusive=i}}function Jv(r,e,i){let s=0;for(let l=0;l<r.position.length;l++){const c=e[l],d=r.position[l];if(c.field.isKeyField()?s=fe.comparator(fe.fromName(d.referenceValue),i.key):s=io(d,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function Wv(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!xi(r.position[i],e.position[i]))return!1;return!0}class Hl{constructor(e,i="asc"){this.field=e,this.dir=i}}function LI(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class WE{}class Ct extends WE{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new jI(e,i,s):i==="array-contains"?new HI(e,s):i==="in"?new FI(e,s):i==="not-in"?new GI(e,s):i==="array-contains-any"?new QI(e,s):new Ct(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new BI(e,s):new qI(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(io(i,this.value)):i!==null&&ns(this.value)===ns(i)&&this.matchesComparison(io(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ge(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ei extends WE{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new ei(e,i)}matches(e){return eT(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function eT(r){return r.op==="and"}function tT(r){return zI(r)&&eT(r)}function zI(r){for(const e of r.filters)if(e instanceof ei)return!1;return!0}function cm(r){if(r instanceof Ct)return r.field.canonicalString()+r.op.toString()+ro(r.value);if(tT(r))return r.filters.map((e=>cm(e))).join(",");{const e=r.filters.map((i=>cm(i))).join(",");return`${r.op}(${e})`}}function nT(r,e){return r instanceof Ct?(function(s,l){return l instanceof Ct&&s.op===l.op&&s.field.isEqual(l.field)&&xi(s.value,l.value)})(r,e):r instanceof ei?(function(s,l){return l instanceof ei&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce(((c,d,p)=>c&&nT(d,l.filters[p])),!0):!1})(r,e):void ge(19439)}function iT(r){return r instanceof Ct?(function(i){return`${i.field.canonicalString()} ${i.op} ${ro(i.value)}`})(r):r instanceof ei?(function(i){return i.op.toString()+" {"+i.getFilters().map(iT).join(" ,")+"}"})(r):"Filter"}class jI extends Ct{constructor(e,i,s){super(e,i,s),this.key=fe.fromName(s.referenceValue)}matches(e){const i=fe.comparator(e.key,this.key);return this.matchesComparison(i)}}class BI extends Ct{constructor(e,i){super(e,"in",i),this.keys=rT("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class qI extends Ct{constructor(e,i){super(e,"not-in",i),this.keys=rT("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function rT(r,e){return(e.arrayValue?.values||[]).map((i=>fe.fromName(i.referenceValue)))}class HI extends Ct{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Gm(i)&&ql(i.arrayValue,this.value)}}class FI extends Ct{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&ql(this.value.arrayValue,i)}}class GI extends Ct{constructor(e,i){super(e,"not-in",i)}matches(e){if(ql(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!ql(this.value.arrayValue,i)}}class QI extends Ct{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Gm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>ql(this.value.arrayValue,s)))}}class KI{constructor(e,i=null,s=[],l=[],c=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function e0(r,e=null,i=[],s=[],l=null,c=null,d=null){return new KI(r,e,i,s,l,c,d)}function Qm(r){const e=Ee(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((s=>cm(s))).join(","),i+="|ob:",i+=e.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),vh(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((s=>ro(s))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((s=>ro(s))).join(",")),e.Te=i}return e.Te}function Km(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!LI(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!nT(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Wv(r.startAt,e.startAt)&&Wv(r.endAt,e.endAt)}function hm(r){return fe.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class mo{constructor(e,i=null,s=[],l=[],c=null,d="F",p=null,g=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function YI(r,e,i,s,l,c,d,p){return new mo(r,e,i,s,l,c,d,p)}function Th(r){return new mo(r)}function t0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function sT(r){return r.collectionGroup!==null}function Vl(r){const e=Ee(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Mt(Qt.comparator);return d.filters.forEach((g=>{g.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Hl(c,s))})),i.has(Qt.keyField().canonicalString())||e.Ie.push(new Hl(Qt.keyField(),s))}return e.Ie}function Ci(r){const e=Ee(r);return e.Ee||(e.Ee=XI(e,Vl(r))),e.Ee}function XI(r,e){if(r.limitType==="F")return e0(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Hl(l.field,c)}));const i=r.endAt?new sh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new sh(r.startAt.position,r.startAt.inclusive):null;return e0(r.path,r.collectionGroup,e,r.filters,r.limit,i,s)}}function fm(r,e){const i=r.filters.concat([e]);return new mo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function dm(r,e,i){return new mo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function bh(r,e){return Km(Ci(r),Ci(e))&&r.limitType===e.limitType}function aT(r){return`${Qm(Ci(r))}|lt:${r.limitType}`}function qa(r){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((l=>iT(l))).join(", ")}]`),vh(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((l=>ro(l))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((l=>ro(l))).join(",")),`Target(${s})`})(Ci(r))}; limitType=${r.limitType})`}function Ah(r,e){return e.isFoundDocument()&&(function(s,l){const c=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):fe.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(r,e)&&(function(s,l){for(const c of Vl(s))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,e)&&(function(s,l){for(const c of s.filters)if(!c.matches(l))return!1;return!0})(r,e)&&(function(s,l){return!(s.startAt&&!(function(d,p,g){const _=Jv(d,p,g);return d.inclusive?_<=0:_<0})(s.startAt,Vl(s),l)||s.endAt&&!(function(d,p,g){const _=Jv(d,p,g);return d.inclusive?_>=0:_>0})(s.endAt,Vl(s),l))})(r,e)}function $I(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function oT(r){return(e,i)=>{let s=!1;for(const l of Vl(r)){const c=ZI(l,e,i);if(c!==0)return c;s=s||l.field.isKeyField()}return 0}}function ZI(r,e,i){const s=r.field.isKeyField()?fe.comparator(e.key,i.key):(function(c,d,p){const g=d.data.field(c),_=p.data.field(c);return g!==null&&_!==null?io(g,_):ge(42886)})(r.field,e,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return ge(19790,{direction:r.dir})}}class Ks{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[l,c]of s)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),l=this.inner[s];if(l===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return s.length===1?delete this.inner[i]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Qs(this.inner,((i,s)=>{for(const[l,c]of s)e(l,c)}))}isEmpty(){return FE(this.inner)}size(){return this.innerSize}}const JI=new lt(fe.comparator);function sr(){return JI}const lT=new lt(fe.comparator);function Sl(...r){let e=lT;for(const i of r)e=e.insert(i.key,i);return e}function uT(r){let e=lT;return r.forEach(((i,s)=>e=e.insert(i,s.overlayedDocument))),e}function Ls(){return Ml()}function cT(){return Ml()}function Ml(){return new Ks((r=>r.toString()),((r,e)=>r.isEqual(e)))}const WI=new lt(fe.comparator),e2=new Mt(fe.comparator);function Ve(...r){let e=e2;for(const i of r)e=e.add(i);return e}const t2=new Mt(xe);function n2(){return t2}function Ym(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nh(e)?"-0":e}}function hT(r){return{integerValue:""+r}}function i2(r,e){return DI(e)?hT(e):Ym(r,e)}class Sh{constructor(){this._=void 0}}function r2(r,e,i){return r instanceof Fl?(function(l,c){const d={fields:{[KE]:{stringValue:QE},[XE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Fm(c)&&(c=Eh(c)),c&&(d.fields[YE]=c),{mapValue:d}})(i,e):r instanceof Gl?dT(r,e):r instanceof Ql?mT(r,e):(function(l,c){const d=fT(l,c),p=n0(d)+n0(l.Ae);return um(d)&&um(l.Ae)?hT(p):Ym(l.serializer,p)})(r,e)}function s2(r,e,i){return r instanceof Gl?dT(r,e):r instanceof Ql?mT(r,e):i}function fT(r,e){return r instanceof ah?(function(s){return um(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(e)?e:{integerValue:0}:null}class Fl extends Sh{}class Gl extends Sh{constructor(e){super(),this.elements=e}}function dT(r,e){const i=pT(e);for(const s of r.elements)i.some((l=>xi(l,s)))||i.push(s);return{arrayValue:{values:i}}}class Ql extends Sh{constructor(e){super(),this.elements=e}}function mT(r,e){let i=pT(e);for(const s of r.elements)i=i.filter((l=>!xi(l,s)));return{arrayValue:{values:i}}}class ah extends Sh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function n0(r){return pt(r.integerValue||r.doubleValue)}function pT(r){return Gm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class a2{constructor(e,i){this.field=e,this.transform=i}}function o2(r,e){return r.field.isEqual(e.field)&&(function(s,l){return s instanceof Gl&&l instanceof Gl||s instanceof Ql&&l instanceof Ql?no(s.elements,l.elements,xi):s instanceof ah&&l instanceof ah?xi(s.Ae,l.Ae):s instanceof Fl&&l instanceof Fl})(r.transform,e.transform)}class l2{constructor(e,i){this.version=e,this.transformResults=i}}class Wn{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Wn}static exists(e){return new Wn(void 0,e)}static updateTime(e){return new Wn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Gc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class wh{}function gT(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Xm(r.key,Wn.none()):new Wl(r.key,r.data,Wn.none());{const i=r.data,s=kn.empty();let l=new Mt(Qt.comparator);for(let c of e.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?s.delete(c):s.set(c,d),l=l.add(c)}return new Ys(r.key,s,new Jn(l.toArray()),Wn.none())}}function u2(r,e,i){r instanceof Wl?(function(l,c,d){const p=l.value.clone(),g=r0(l.fieldTransforms,c,d.transformResults);p.setAll(g),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,e,i):r instanceof Ys?(function(l,c,d){if(!Gc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=r0(l.fieldTransforms,c,d.transformResults),g=c.data;g.setAll(yT(l)),g.setAll(p),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,e,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Pl(r,e,i,s){return r instanceof Wl?(function(c,d,p,g){if(!Gc(c.precondition,d))return p;const _=c.value.clone(),T=s0(c.fieldTransforms,g,d);return _.setAll(T),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,e,i,s):r instanceof Ys?(function(c,d,p,g){if(!Gc(c.precondition,d))return p;const _=s0(c.fieldTransforms,g,d),T=d.data;return T.setAll(yT(c)),T.setAll(_),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(r,e,i,s):(function(c,d,p){return Gc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,e,i)}function c2(r,e){let i=null;for(const s of r.fieldTransforms){const l=e.data.field(s.field),c=fT(s.transform,l||null);c!=null&&(i===null&&(i=kn.empty()),i.set(s.field,c))}return i||null}function i0(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&no(s,l,((c,d)=>o2(c,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Wl extends wh{constructor(e,i,s,l=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Ys extends wh{constructor(e,i,s,l,c=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function yT(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=r.data.field(i);e.set(i,s)}})),e}function r0(r,e,i){const s=new Map;He(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,p=e.data.field(c.field);s.set(c.field,s2(d,p,i[l]))}return s}function s0(r,e,i){const s=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);s.set(l.field,r2(c,d,e))}return s}class Xm extends wh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class h2 extends wh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class f2{constructor(e,i,s,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&u2(c,e,s[l])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=Pl(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=Pl(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=cT();return this.mutations.forEach((l=>{const c=e.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const g=gT(d,p);g!==null&&s.set(l.key,g),d.isValidDocument()||d.convertToNoDocument(_e.min())})),s}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Ve())}isEqual(e){return this.batchId===e.batchId&&no(this.mutations,e.mutations,((i,s)=>i0(i,s)))&&no(this.baseMutations,e.baseMutations,((i,s)=>i0(i,s)))}}class $m{constructor(e,i,s,l){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=l}static from(e,i,s){He(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let l=(function(){return WI})();const c=e.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,s[d].version);return new $m(e,i,s,l)}}class d2{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class m2{constructor(e,i){this.count=e,this.unchangedNames=i}}var Rt,Ue;function p2(r){switch(r){case X.OK:return ge(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return ge(15467,{code:r})}}function _T(r){if(r===void 0)return rr("GRPC error has no .code"),X.UNKNOWN;switch(r){case Rt.OK:return X.OK;case Rt.CANCELLED:return X.CANCELLED;case Rt.UNKNOWN:return X.UNKNOWN;case Rt.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case Rt.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case Rt.INTERNAL:return X.INTERNAL;case Rt.UNAVAILABLE:return X.UNAVAILABLE;case Rt.UNAUTHENTICATED:return X.UNAUTHENTICATED;case Rt.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case Rt.NOT_FOUND:return X.NOT_FOUND;case Rt.ALREADY_EXISTS:return X.ALREADY_EXISTS;case Rt.PERMISSION_DENIED:return X.PERMISSION_DENIED;case Rt.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case Rt.ABORTED:return X.ABORTED;case Rt.OUT_OF_RANGE:return X.OUT_OF_RANGE;case Rt.UNIMPLEMENTED:return X.UNIMPLEMENTED;case Rt.DATA_LOSS:return X.DATA_LOSS;default:return ge(39323,{code:r})}}(Ue=Rt||(Rt={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";function g2(){return new TextEncoder}const y2=new $r([4294967295,4294967295],0);function a0(r){const e=g2().encode(r),i=new VE;return i.update(e),new Uint8Array(i.digest())}function o0(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new $r([i,s],0),new $r([l,c],0)]}class Zm{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new wl(`Invalid padding: ${i}`);if(s<0)throw new wl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new wl(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new wl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=$r.fromNumber(this.ge)}ye(e,i,s){let l=e.add(i.multiply($r.fromNumber(s)));return l.compare(y2)===1&&(l=new $r([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=a0(e),[s,l]=o0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,l,c);if(!this.we(d))return!1}return!0}static create(e,i,s){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new Zm(c,l,i);return s.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const i=a0(e),[s,l]=o0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,l,c);this.Se(d)}}Se(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class wl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Rh{constructor(e,i,s,l,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const l=new Map;return l.set(e,eu.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new Rh(_e.min(),l,new lt(xe),sr(),Ve())}}class eu{constructor(e,i,s,l,c){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new eu(s,i,Ve(),Ve(),Ve())}}class Qc{constructor(e,i,s,l){this.be=e,this.removedTargetIds=i,this.key=s,this.De=l}}class vT{constructor(e,i){this.targetId=e,this.Ce=i}}class ET{constructor(e,i,s=Kt.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=l}}class l0{constructor(){this.ve=0,this.Fe=u0(),this.Me=Kt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ve(),i=Ve(),s=Ve();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:s=s.add(l);break;default:ge(38017,{changeType:c})}})),new eu(this.Me,this.xe,e,i,s)}qe(){this.Oe=!1,this.Fe=u0()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,He(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class _2{constructor(e){this.Ge=e,this.ze=new Map,this.je=sr(),this.Je=kc(),this.He=kc(),this.Ye=new lt(xe)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const s=this.nt(i);switch(e.state){case 0:this.rt(i)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(e.resumeToken));break;default:ge(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((s,l)=>{this.rt(l)&&i(l)}))}st(e){const i=e.targetId,s=e.Ce.count,l=this.ot(i);if(l){const c=l.target;if(hm(c))if(s===0){const d=new fe(c.path);this.et(i,d,Zt.newNoDocument(d,_e.min()))}else He(s===1,20013,{expectedCount:s});else{const d=this._t(i);if(d!==s){const p=this.ut(e),g=p?this.ct(p,e,d):1;if(g!==0){this.it(i);const _=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=ts(s).toUint8Array()}catch(g){if(g instanceof GE)return to("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new Zm(d,l,c)}catch(g){return to(g instanceof wl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(e,i,s){return i.Ce.count===s-this.Pt(e,i.targetId)?0:2}Pt(e,i){const s=this.Ge.getRemoteKeysForTarget(i);let l=0;return s.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&hm(p.target)){const g=new fe(p.target.path);this.It(g).has(d)||this.Et(d,g)||this.et(d,g,Zt.newNoDocument(g,e))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let s=Ve();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((g=>{const _=this.ot(g);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(s=s.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const l=new Rh(e,i,this.Ye,this.je,s);return this.je=sr(),this.Je=kc(),this.He=kc(),this.Ye=new lt(xe),l}Xe(e,i){if(!this.rt(e))return;const s=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,s),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,s){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),s&&(this.je=this.je.insert(i,s))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new l0,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Mt(xe),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Mt(xe),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||se("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new l0),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function kc(){return new lt(fe.comparator)}function u0(){return new lt(fe.comparator)}const v2={asc:"ASCENDING",desc:"DESCENDING"},E2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},T2={and:"AND",or:"OR"};class b2{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function mm(r,e){return r.useProto3Json||vh(e)?e:{value:e}}function oh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function TT(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function A2(r,e){return oh(r,e.toTimestamp())}function Ni(r){return He(!!r,49232),_e.fromTimestamp((function(i){const s=es(i);return new it(s.seconds,s.nanos)})(r))}function Jm(r,e){return pm(r,e).canonicalString()}function pm(r,e){const i=(function(l){return new et(["projects",l.projectId,"databases",l.database])})(r).child("documents");return e===void 0?i:i.child(e)}function bT(r){const e=et.fromString(r);return He(IT(e),10190,{key:e.toString()}),e}function gm(r,e){return Jm(r.databaseId,e.path)}function Yd(r,e){const i=bT(e);if(i.get(1)!==r.databaseId.projectId)throw new re(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new re(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new fe(ST(i))}function AT(r,e){return Jm(r.databaseId,e)}function S2(r){const e=bT(r);return e.length===4?et.emptyPath():ST(e)}function ym(r){return new et(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function ST(r){return He(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function c0(r,e,i){return{name:gm(r,e),fields:i.value.mapValue.fields}}function w2(r,e){let i;if("targetChange"in e){e.targetChange;const s=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:ge(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(_,T){return _.useProto3Json?(He(T===void 0||typeof T=="string",58123),Kt.fromBase64String(T||"")):(He(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Kt.fromUint8Array(T||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(_){const T=_.code===void 0?X.UNKNOWN:_T(_.code);return new re(T,_.message||"")})(d);i=new ET(s,l,c,p||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const l=Yd(r,s.document.name),c=Ni(s.document.updateTime),d=s.document.createTime?Ni(s.document.createTime):_e.min(),p=new kn({mapValue:{fields:s.document.fields}}),g=Zt.newFoundDocument(l,c,d,p),_=s.targetIds||[],T=s.removedTargetIds||[];i=new Qc(_,T,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const l=Yd(r,s.document),c=s.readTime?Ni(s.readTime):_e.min(),d=Zt.newNoDocument(l,c),p=s.removedTargetIds||[];i=new Qc([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const l=Yd(r,s.document),c=s.removedTargetIds||[];i=new Qc([],c,l,null)}else{if(!("filter"in e))return ge(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:l=0,unchangedNames:c}=s,d=new m2(l,c),p=s.targetId;i=new vT(p,d)}}return i}function R2(r,e){let i;if(e instanceof Wl)i={update:c0(r,e.key,e.value)};else if(e instanceof Xm)i={delete:gm(r,e.key)};else if(e instanceof Ys)i={update:c0(r,e.key,e.data),updateMask:P2(e.fieldMask)};else{if(!(e instanceof h2))return ge(16599,{Vt:e.type});i={verify:gm(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((s=>(function(c,d){const p=d.transform;if(p instanceof Fl)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Gl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Ql)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof ah)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw ge(20930,{transform:d.transform})})(0,s)))),e.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:A2(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:ge(27497)})(r,e.precondition)),i}function I2(r,e){return r&&r.length>0?(He(e!==void 0,14353),r.map((i=>(function(l,c){let d=l.updateTime?Ni(l.updateTime):Ni(c);return d.isEqual(_e.min())&&(d=Ni(c)),new l2(d,l.transformResults||[])})(i,e)))):[]}function C2(r,e){return{documents:[AT(r,e.path)]}}function N2(r,e){const i={structuredQuery:{}},s=e.path;let l;e.collectionGroup!==null?(l=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=AT(r,l);const c=(function(_){if(_.length!==0)return RT(ei.create(_,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((T=>(function(x){return{field:Ha(x.field),direction:x2(x.dir)}})(T)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=mm(r,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:l}}function D2(r){let e=S2(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let l=null;if(s>0){He(s===1,65062);const T=i.from[0];T.allDescendants?l=T.collectionId:e=e.child(T.collectionId)}let c=[];i.where&&(c=(function(A){const x=wT(A);return x instanceof ei&&tT(x)?x.getFilters():[x]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((x=>(function(W){return new Hl(Fa(W.field),(function(K){switch(K){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(x)))})(i.orderBy));let p=null;i.limit&&(p=(function(A){let x;return x=typeof A=="object"?A.value:A,vh(x)?null:x})(i.limit));let g=null;i.startAt&&(g=(function(A){const x=!!A.before,H=A.values||[];return new sh(H,x)})(i.startAt));let _=null;return i.endAt&&(_=(function(A){const x=!A.before,H=A.values||[];return new sh(H,x)})(i.endAt)),YI(e,l,d,c,p,"F",g,_)}function O2(r,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ge(28987,{purpose:l})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function wT(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Fa(i.unaryFilter.field);return Ct.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Fa(i.unaryFilter.field);return Ct.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Fa(i.unaryFilter.field);return Ct.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Fa(i.unaryFilter.field);return Ct.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ge(61313);default:return ge(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Ct.create(Fa(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ge(58110);default:return ge(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return ei.create(i.compositeFilter.filters.map((s=>wT(s))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return ge(1026)}})(i.compositeFilter.op))})(r):ge(30097,{filter:r})}function x2(r){return v2[r]}function V2(r){return E2[r]}function M2(r){return T2[r]}function Ha(r){return{fieldPath:r.canonicalString()}}function Fa(r){return Qt.fromServerFormat(r.fieldPath)}function RT(r){return r instanceof Ct?(function(i){if(i.op==="=="){if(Zv(i.value))return{unaryFilter:{field:Ha(i.field),op:"IS_NAN"}};if($v(i.value))return{unaryFilter:{field:Ha(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Zv(i.value))return{unaryFilter:{field:Ha(i.field),op:"IS_NOT_NAN"}};if($v(i.value))return{unaryFilter:{field:Ha(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ha(i.field),op:V2(i.op),value:i.value}}})(r):r instanceof ei?(function(i){const s=i.getFilters().map((l=>RT(l)));return s.length===1?s[0]:{compositeFilter:{op:M2(i.op),filters:s}}})(r):ge(54877,{filter:r})}function P2(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function IT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class Gr{constructor(e,i,s,l,c=_e.min(),d=_e.min(),p=Kt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new Gr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Gr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Gr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Gr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class k2{constructor(e){this.yt=e}}function U2(r){const e=D2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?dm(e,e.limit,"L"):e}class L2{constructor(){this.Cn=new z2}addToCollectionParentIndex(e,i){return this.Cn.add(i),Z.resolve()}getCollectionParents(e,i){return Z.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return Z.resolve()}deleteFieldIndex(e,i){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,i){return Z.resolve()}getDocumentsMatchingTarget(e,i){return Z.resolve(null)}getIndexType(e,i){return Z.resolve(0)}getFieldIndexes(e,i){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,i){return Z.resolve(Wr.min())}getMinOffsetFromCollectionGroup(e,i){return Z.resolve(Wr.min())}updateCollectionGroup(e,i,s){return Z.resolve()}updateIndexEntries(e,i){return Z.resolve()}}class z2{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),l=this.index[i]||new Mt(et.comparator),c=!l.has(s);return this.index[i]=l.add(s),c}has(e){const i=e.lastSegment(),s=e.popLast(),l=this.index[i];return l&&l.has(s)}getEntries(e){return(this.index[e]||new Mt(et.comparator)).toArray()}}const h0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},CT=41943040;class fn{static withCacheSize(e){return new fn(e,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(CT,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);class so{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new so(0)}static cr(){return new so(-1)}}const f0="LruGarbageCollector",j2=1048576;function d0([r,e],[i,s]){const l=xe(r,i);return l===0?xe(e,s):l}class B2{constructor(e){this.Ir=e,this.buffer=new Mt(d0),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();d0(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class q2{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){se(f0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){fo(i)?se(f0,"Ignoring IndexedDB error during garbage collection: ",i):await ho(i)}await this.Vr(3e5)}))}}class H2{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(e,i){if(i===0)return Z.resolve(_h.ce);const s=new B2(i);return this.mr.forEachTarget(e,(l=>s.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>s.Ar(l))))).next((()=>s.maxValue))}removeTargets(e,i,s){return this.mr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(se("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(h0)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(se("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),h0):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let s,l,c,d,p,g,_;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(se("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),l=this.params.maximumSequenceNumbersToCollect):l=A,d=Date.now(),this.nthSequenceNumber(e,l)))).next((A=>(s=A,p=Date.now(),this.removeTargets(e,s,i)))).next((A=>(c=A,g=Date.now(),this.removeOrphanedDocuments(e,s)))).next((A=>(_=Date.now(),Ba()<=Oe.DEBUG&&se("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(g-p)+`ms
	Removed ${A} documents in `+(_-g)+`ms
Total Duration: ${_-T}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:A}))))}}function F2(r,e){return new H2(r,e)}class G2{constructor(){this.changes=new Ks((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?Z.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Q2{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class K2{constructor(e,i,s,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=l}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(s=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(s!==null&&Pl(s.mutation,l,Jn.empty(),it.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.getLocalViewOfDocuments(e,s,Ve()).next((()=>s))))}getLocalViewOfDocuments(e,i,s=Ve()){const l=Ls();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,s).next((c=>{let d=Sl();return c.forEach(((p,g)=>{d=d.insert(p,g.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const s=Ls();return this.populateOverlays(e,s,i).next((()=>this.computeViews(e,i,s,Ve())))}populateOverlays(e,i,s){const l=[];return s.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(e,i,s,l){let c=sr();const d=Ml(),p=(function(){return Ml()})();return i.forEach(((g,_)=>{const T=s.get(_.key);l.has(_.key)&&(T===void 0||T.mutation instanceof Ys)?c=c.insert(_.key,_):T!==void 0?(d.set(_.key,T.mutation.getFieldMask()),Pl(T.mutation,_,T.mutation.getFieldMask(),it.now())):d.set(_.key,Jn.empty())})),this.recalculateAndSaveOverlays(e,c).next((g=>(g.forEach(((_,T)=>d.set(_,T))),i.forEach(((_,T)=>p.set(_,new Q2(T,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(e,i){const s=Ml();let l=new lt(((d,p)=>d-p)),c=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const p of d)p.keys().forEach((g=>{const _=i.get(g);if(_===null)return;let T=s.get(g)||Jn.empty();T=p.applyToLocalView(_,T),s.set(g,T);const A=(l.get(p.batchId)||Ve()).add(g);l=l.insert(p.batchId,A)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),_=g.key,T=g.value,A=cT();T.forEach((x=>{if(!c.has(x)){const H=gT(i.get(x),s.get(x));H!==null&&A.set(x,H),c=c.add(x)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,A))}return Z.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,i,s,l){return(function(d){return fe.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):sT(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,l):this.getDocumentsMatchingCollectionQuery(e,i,s,l)}getNextDocuments(e,i,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,l-c.size):Z.resolve(Ls());let p=zl,g=c;return d.next((_=>Z.forEach(_,((T,A)=>(p<A.largestBatchId&&(p=A.largestBatchId),c.get(T)?Z.resolve():this.remoteDocumentCache.getEntry(e,T).next((x=>{g=g.insert(T,x)}))))).next((()=>this.populateOverlays(e,_,c))).next((()=>this.computeViews(e,g,_,Ve()))).next((T=>({batchId:p,changes:uT(T)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new fe(i)).next((s=>{let l=Sl();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,s,l){const c=i.collectionGroup;let d=Sl();return this.indexManager.getCollectionParents(e,c).next((p=>Z.forEach(p,(g=>{const _=(function(A,x){return new mo(x,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,_,s,l).next((T=>{T.forEach(((A,x)=>{d=d.insert(A,x)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,s,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,c,l)))).next((d=>{c.forEach(((g,_)=>{const T=_.getKey();d.get(T)===null&&(d=d.insert(T,Zt.newInvalidDocument(T)))}));let p=Sl();return d.forEach(((g,_)=>{const T=c.get(g);T!==void 0&&Pl(T.mutation,_,Jn.empty(),it.now()),Ah(i,_)&&(p=p.insert(g,_))})),p}))}}class Y2{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return Z.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Ni(l.createTime)}})(i)),Z.resolve()}getNamedQuery(e,i){return Z.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:U2(l.bundledQuery),readTime:Ni(l.readTime)}})(i)),Z.resolve()}}class X2{constructor(){this.overlays=new lt(fe.comparator),this.qr=new Map}getOverlay(e,i){return Z.resolve(this.overlays.get(i))}getOverlays(e,i){const s=Ls();return Z.forEach(i,(l=>this.getOverlay(e,l).next((c=>{c!==null&&s.set(l,c)})))).next((()=>s))}saveOverlays(e,i,s){return s.forEach(((l,c)=>{this.St(e,i,c)})),Z.resolve()}removeOverlaysForBatchId(e,i,s){const l=this.qr.get(s);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(s)),Z.resolve()}getOverlaysForCollection(e,i,s){const l=Ls(),c=i.length+1,d=new fe(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const g=p.getNext().value,_=g.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&g.largestBatchId>s&&l.set(g.getKey(),g)}return Z.resolve(l)}getOverlaysForCollectionGroup(e,i,s,l){let c=new lt(((_,T)=>_-T));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>s){let T=c.get(_.largestBatchId);T===null&&(T=Ls(),c=c.insert(_.largestBatchId,T)),T.set(_.getKey(),_)}}const p=Ls(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((_,T)=>p.set(_,T))),!(p.size()>=l)););return Z.resolve(p)}St(e,i,s){const l=this.overlays.get(s.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(s.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new d2(i,s));let c=this.qr.get(i);c===void 0&&(c=Ve(),this.qr.set(i,c)),this.qr.set(i,c.add(s.key))}}class $2{constructor(){this.sessionToken=Kt.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Z.resolve()}}class Wm{constructor(){this.Qr=new Mt(Lt.$r),this.Ur=new Mt(Lt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const s=new Lt(e,i);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,i){e.forEach((s=>this.addReference(s,i)))}removeReference(e,i){this.Gr(new Lt(e,i))}zr(e,i){e.forEach((s=>this.removeReference(s,i)))}jr(e){const i=new fe(new et([])),s=new Lt(i,e),l=new Lt(i,e+1),c=[];return this.Ur.forEachInRange([s,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new fe(new et([])),s=new Lt(i,e),l=new Lt(i,e+1);let c=Ve();return this.Ur.forEachInRange([s,l],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new Lt(e,0),s=this.Qr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class Lt{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return fe.comparator(e.key,i.key)||xe(e.Yr,i.Yr)}static Kr(e,i){return xe(e.Yr,i.Yr)||fe.comparator(e.key,i.key)}}class Z2{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Mt(Lt.$r)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new f2(c,i,s,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new Lt(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(e,i){return Z.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,l=this.ei(s),c=l<0?0:l;return Z.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Hm:this.tr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new Lt(i,0),l=new Lt(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),Z.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new Mt(xe);return i.forEach((l=>{const c=new Lt(l,0),d=new Lt(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{s=s.add(p.Yr)}))})),Z.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,l=s.length+1;let c=s;fe.isDocumentKey(c)||(c=c.child(""));const d=new Lt(new fe(c),0);let p=new Mt(xe);return this.Zr.forEachWhile((g=>{const _=g.key.path;return!!s.isPrefixOf(_)&&(_.length===l&&(p=p.add(g.Yr)),!0)}),d),Z.resolve(this.ti(p))}ti(e){const i=[];return e.forEach((s=>{const l=this.Xr(s);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){He(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return Z.forEach(i.mutations,(l=>{const c=new Lt(l.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,i){const s=new Lt(i,0),l=this.Zr.firstAfterOrEqual(s);return Z.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class J2{constructor(e){this.ri=e,this.docs=(function(){return new lt(fe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,l=this.docs.get(s),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return Z.resolve(s?s.document.mutableCopy():Zt.newInvalidDocument(i))}getEntries(e,i){let s=sr();return i.forEach((l=>{const c=this.docs.get(l);s=s.insert(l,c?c.document.mutableCopy():Zt.newInvalidDocument(l))})),Z.resolve(s)}getDocumentsMatchingQuery(e,i,s,l){let c=sr();const d=i.path,p=new fe(d.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:_,value:{document:T}}=g.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||RI(wI(T),s)<=0||(l.has(T.key)||Ah(i,T))&&(c=c.insert(T.key,T.mutableCopy()))}return Z.resolve(c)}getAllFromCollectionGroup(e,i,s,l){ge(9500)}ii(e,i){return Z.forEach(this.docs,(s=>i(s)))}newChangeBuffer(e){return new W2(this)}getSize(e){return Z.resolve(this.size)}}class W2 extends G2{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((s,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(s)})),Z.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class eC{constructor(e){this.persistence=e,this.si=new Ks((i=>Qm(i)),Km),this.lastRemoteSnapshotVersion=_e.min(),this.highestTargetId=0,this.oi=0,this._i=new Wm,this.targetCount=0,this.ai=so.ur()}forEachTarget(e,i){return this.si.forEach(((s,l)=>i(l))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.oi&&(this.oi=i),Z.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new so(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,Z.resolve()}updateTargetData(e,i){return this.Pr(i),Z.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,i,s){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&s.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),l++)})),Z.waitFor(c).next((()=>l))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,i){const s=this.si.get(i)||null;return Z.resolve(s)}addMatchingKeys(e,i,s){return this._i.Wr(i,s),Z.resolve()}removeMatchingKeys(e,i,s){this._i.zr(i,s);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(e,d))})),Z.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),Z.resolve()}getMatchingKeysForTargetId(e,i){const s=this._i.Hr(i);return Z.resolve(s)}containsKey(e,i){return Z.resolve(this._i.containsKey(i))}}class NT{constructor(e,i){this.ui={},this.overlays={},this.ci=new _h(0),this.li=!1,this.li=!0,this.hi=new $2,this.referenceDelegate=e(this),this.Pi=new eC(this),this.indexManager=new L2,this.remoteDocumentCache=(function(l){return new J2(l)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new k2(i),this.Ii=new Y2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new X2,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.ui[e.toKey()];return s||(s=new Z2(i,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,s){se("MemoryPersistence","Starting transaction:",e);const l=new tC(this.ci.next());return this.referenceDelegate.Ei(),s(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(e,i){return Z.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,i))))}}class tC extends CI{constructor(e){super(),this.currentSequenceNumber=e}}class ep{constructor(e){this.persistence=e,this.Ri=new Wm,this.Vi=null}static mi(e){return new ep(e)}get fi(){if(this.Vi)return this.Vi;throw ge(60996)}addReference(e,i,s){return this.Ri.addReference(s,i),this.fi.delete(s.toString()),Z.resolve()}removeReference(e,i,s){return this.Ri.removeReference(s,i),this.fi.add(s.toString()),Z.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),Z.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>s.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(s=>{const l=fe.fromPath(s);return this.gi(e,l).next((c=>{c||i.removeEntry(l,_e.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((s=>{s?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return Z.or([()=>Z.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class lh{constructor(e,i){this.persistence=e,this.pi=new Ks((s=>OI(s.path)),((s,l)=>s.isEqual(l))),this.garbageCollector=F2(this,i)}static mi(e,i){return new lh(e,i)}Ei(){}di(e){return Z.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>i.next((l=>s+l))))}wr(e){let i=0;return this.pr(e,(s=>{i++})).next((()=>i))}pr(e,i){return Z.forEach(this.pi,((s,l)=>this.br(e,s,l).next((c=>c?Z.resolve():i(l)))))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(e,(d=>this.br(e,d,i).next((p=>{p||(s++,c.removeEntry(d,_e.min()))})))).next((()=>c.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),Z.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),Z.resolve()}removeReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),Z.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Hc(e.data.value)),i}br(e,i,s){return Z.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.pi.get(i);return Z.resolve(l!==void 0&&l>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class tp{constructor(e,i,s,l){this.targetId=e,this.fromCache=i,this.Es=s,this.ds=l}static As(e,i){let s=Ve(),l=Ve();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new tp(e,i.fromCache,s,l)}}class nC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class iC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return S1()?8:NI(Jt())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,s,l){const c={result:null};return this.ys(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,i,l,s).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new nC;return this.Ss(e,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(e,i,d,p.size)}))})).next((()=>c.result))}bs(e,i,s,l){return s.documentReadCount<this.fs?(Ba()<=Oe.DEBUG&&se("QueryEngine","SDK will not create cache indexes for query:",qa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(Ba()<=Oe.DEBUG&&se("QueryEngine","Query:",qa(i),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.gs*l?(Ba()<=Oe.DEBUG&&se("QueryEngine","The SDK decides to create cache indexes for query:",qa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ci(i))):Z.resolve())}ys(e,i){if(t0(i))return Z.resolve(null);let s=Ci(i);return this.indexManager.getIndexType(e,s).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=dm(i,null,"F"),s=Ci(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next((c=>{const d=Ve(...c);return this.ps.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,s).next((g=>{const _=this.Ds(i,p);return this.Cs(i,_,d,g.readTime)?this.ys(e,dm(i,null,"F")):this.vs(e,_,i,g)}))))})))))}ws(e,i,s,l){return t0(i)||l.isEqual(_e.min())?Z.resolve(null):this.ps.getDocuments(e,s).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,s,l)?Z.resolve(null):(Ba()<=Oe.DEBUG&&se("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),qa(i)),this.vs(e,d,i,SI(l,zl)).next((p=>p)))}))}Ds(e,i){let s=new Mt(oT(e));return i.forEach(((l,c)=>{Ah(e,c)&&(s=s.add(c))})),s}Cs(e,i,s,l){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(e,i,s){return Ba()<=Oe.DEBUG&&se("QueryEngine","Using full collection scan to execute query:",qa(i)),this.ps.getDocumentsMatchingQuery(e,i,Wr.min(),s)}vs(e,i,s,l){return this.ps.getDocumentsMatchingQuery(e,s,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const np="LocalStore",rC=3e8;class sC{constructor(e,i,s,l){this.persistence=e,this.Fs=i,this.serializer=l,this.Ms=new lt(xe),this.xs=new Ks((c=>Qm(c)),Km),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new K2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function aC(r,e,i,s){return new sC(r,e,i,s)}async function DT(r,e){const i=Ee(r);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let l;return i.mutationQueue.getAllMutationBatches(s).next((c=>(l=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(s)))).next((c=>{const d=[],p=[];let g=Ve();for(const _ of l){d.push(_.batchId);for(const T of _.mutations)g=g.add(T.key)}for(const _ of c){p.push(_.batchId);for(const T of _.mutations)g=g.add(T.key)}return i.localDocuments.getDocuments(s,g).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function oC(r,e){const i=Ee(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const l=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,g,_,T){const A=_.batch,x=A.keys();let H=Z.resolve();return x.forEach((W=>{H=H.next((()=>T.getEntry(g,W))).next((J=>{const K=_.docVersions.get(W);He(K!==null,48541),J.version.compareTo(K)<0&&(A.applyToRemoteDocument(J,_),J.isValidDocument()&&(J.setReadTime(_.commitVersion),T.addEntry(J)))}))})),H.next((()=>p.mutationQueue.removeMutationBatch(g,A)))})(i,s,e,c).next((()=>c.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(p){let g=Ve();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(g=g.add(p.batch.mutations[_].key));return g})(e)))).next((()=>i.localDocuments.getDocuments(s,l)))}))}function OT(r){const e=Ee(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function lC(r,e){const i=Ee(r),s=e.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];e.targetChanges.forEach(((T,A)=>{const x=l.get(A);if(!x)return;p.push(i.Pi.removeMatchingKeys(c,T.removedDocuments,A).next((()=>i.Pi.addMatchingKeys(c,T.addedDocuments,A))));let H=x.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(A)!==null?H=H.withResumeToken(Kt.EMPTY_BYTE_STRING,_e.min()).withLastLimboFreeSnapshotVersion(_e.min()):T.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(T.resumeToken,s)),l=l.insert(A,H),(function(J,K,ie){return J.resumeToken.approximateByteSize()===0||K.snapshotVersion.toMicroseconds()-J.snapshotVersion.toMicroseconds()>=rC?!0:ie.addedDocuments.size+ie.modifiedDocuments.size+ie.removedDocuments.size>0})(x,H,T)&&p.push(i.Pi.updateTargetData(c,H))}));let g=sr(),_=Ve();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,T))})),p.push(uC(c,d,e.documentUpdates).next((T=>{g=T.ks,_=T.qs}))),!s.isEqual(_e.min())){const T=i.Pi.getLastRemoteSnapshotVersion(c).next((A=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s)));p.push(T)}return Z.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,g,_))).next((()=>g))})).then((c=>(i.Ms=l,c)))}function uC(r,e,i){let s=Ve(),l=Ve();return i.forEach((c=>s=s.add(c))),e.getEntries(r,s).next((c=>{let d=sr();return i.forEach(((p,g)=>{const _=c.get(p);g.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(p)),g.isNoDocument()&&g.version.isEqual(_e.min())?(e.removeEntry(p,g.readTime),d=d.insert(p,g)):!_.isValidDocument()||g.version.compareTo(_.version)>0||g.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(g),d=d.insert(p,g)):se(np,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",g.version)})),{ks:d,qs:l}}))}function cC(r,e){const i=Ee(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Hm),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function hC(r,e){const i=Ee(r);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let l;return i.Pi.getTargetData(s,e).next((c=>c?(l=c,Z.resolve(l)):i.Pi.allocateTargetId(s).next((d=>(l=new Gr(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.Pi.addTargetData(s,l).next((()=>l)))))))})).then((s=>{const l=i.Ms.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(s.targetId,s),i.xs.set(e,s.targetId)),s}))}async function _m(r,e,i){const s=Ee(r),l=s.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",c,(d=>s.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!fo(d))throw d;se(np,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ms=s.Ms.remove(e),s.xs.delete(l.target)}function m0(r,e,i){const s=Ee(r);let l=_e.min(),c=Ve();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(g,_,T){const A=Ee(g),x=A.xs.get(T);return x!==void 0?Z.resolve(A.Ms.get(x)):A.Pi.getTargetData(_,T)})(s,d,Ci(e)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,p.targetId).next((g=>{c=g}))})).next((()=>s.Fs.getDocumentsMatchingQuery(d,e,i?l:_e.min(),i?c:Ve()))).next((p=>(fC(s,$I(e),p),{documents:p,Qs:c})))))}function fC(r,e,i){let s=r.Os.get(e)||_e.min();i.forEach(((l,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),r.Os.set(e,s)}class p0{constructor(){this.activeTargetIds=n2()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class dC{constructor(){this.Mo=new p0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,s){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new p0,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class mC{Oo(e){}shutdown(){}}const g0="ConnectivityMonitor";class y0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){se(g0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){se(g0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Uc=null;function vm(){return Uc===null?Uc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Uc++,"0x"+Uc.toString(16)}const Xd="RestConnection",pC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class gC{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${s}/databases/${l}`,this.Wo=this.databaseId.database===ih?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Go(e,i,s,l,c){const d=vm(),p=this.zo(e,i.toUriEncodedString());se(Xd,`Sending RPC '${e}' ${d}:`,p,s);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,l,c);const{host:_}=new URL(p),T=oo(_);return this.Jo(e,p,g,s,T).then((A=>(se(Xd,`Received RPC '${e}' ${d}: `,A),A)),(A=>{throw to(Xd,`RPC '${e}' ${d} failed with error: `,A,"url: ",p,"request:",s),A}))}Ho(e,i,s,l,c,d){return this.Go(e,i,s,l,c)}jo(e,i,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+co})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>e[c]=l)),s&&s.headers.forEach(((l,c)=>e[c]=l))}zo(e,i){const s=pC[e];return`${this.Uo}/v1/${i}:${s}`}terminate(){}}class yC{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Xt="WebChannelConnection";class _C extends gC{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,s,l,c){const d=vm();return new Promise(((p,g)=>{const _=new ME;_.setWithCredentials(!0),_.listenOnce(PE.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case qc.NO_ERROR:const A=_.getResponseJson();se(Xt,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(A)),p(A);break;case qc.TIMEOUT:se(Xt,`RPC '${e}' ${d} timed out`),g(new re(X.DEADLINE_EXCEEDED,"Request time out"));break;case qc.HTTP_ERROR:const x=_.getStatus();if(se(Xt,`RPC '${e}' ${d} failed with status:`,x,"response text:",_.getResponseText()),x>0){let H=_.getResponseJson();Array.isArray(H)&&(H=H[0]);const W=H?.error;if(W&&W.status&&W.message){const J=(function(ie){const de=ie.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(de)>=0?de:X.UNKNOWN})(W.status);g(new re(J,W.message))}else g(new re(X.UNKNOWN,"Server responded with status "+_.getStatus()))}else g(new re(X.UNAVAILABLE,"Connection failed."));break;default:ge(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{se(Xt,`RPC '${e}' ${d} completed.`)}}));const T=JSON.stringify(l);se(Xt,`RPC '${e}' ${d} sending request:`,l),_.send(i,"POST",T,s,15)}))}T_(e,i,s){const l=vm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=LE(),p=UE(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(g.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,i,s),g.encodeInitMessageHeaders=!0;const T=c.join("");se(Xt,`Creating RPC '${e}' stream ${l}: ${T}`,g);const A=d.createWebChannel(T,g);this.I_(A);let x=!1,H=!1;const W=new yC({Yo:K=>{H?se(Xt,`Not sending because RPC '${e}' stream ${l} is closed:`,K):(x||(se(Xt,`Opening RPC '${e}' stream ${l} transport.`),A.open(),x=!0),se(Xt,`RPC '${e}' stream ${l} sending:`,K),A.send(K))},Zo:()=>A.close()}),J=(K,ie,de)=>{K.listen(ie,(ce=>{try{de(ce)}catch(we){setTimeout((()=>{throw we}),0)}}))};return J(A,Al.EventType.OPEN,(()=>{H||(se(Xt,`RPC '${e}' stream ${l} transport opened.`),W.o_())})),J(A,Al.EventType.CLOSE,(()=>{H||(H=!0,se(Xt,`RPC '${e}' stream ${l} transport closed`),W.a_(),this.E_(A))})),J(A,Al.EventType.ERROR,(K=>{H||(H=!0,to(Xt,`RPC '${e}' stream ${l} transport errored. Name:`,K.name,"Message:",K.message),W.a_(new re(X.UNAVAILABLE,"The operation could not be completed")))})),J(A,Al.EventType.MESSAGE,(K=>{if(!H){const ie=K.data[0];He(!!ie,16349);const de=ie,ce=de?.error||de[0]?.error;if(ce){se(Xt,`RPC '${e}' stream ${l} received error:`,ce);const we=ce.status;let Je=(function(S){const R=Rt[S];if(R!==void 0)return _T(R)})(we),Me=ce.message;Je===void 0&&(Je=X.INTERNAL,Me="Unknown error status: "+we+" with message "+ce.message),H=!0,W.a_(new re(Je,Me)),A.close()}else se(Xt,`RPC '${e}' stream ${l} received:`,ie),W.u_(ie)}})),J(p,kE.STAT_EVENT,(K=>{K.stat===am.PROXY?se(Xt,`RPC '${e}' stream ${l} detected buffering proxy`):K.stat===am.NOPROXY&&se(Xt,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{W.__()}),0),W}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function $d(){return typeof document<"u"?document:null}function Ih(r){return new b2(r,!0)}class xT{constructor(e,i,s=1e3,l=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=s,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-s);l>0&&se("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const _0="PersistentStream";class VT{constructor(e,i,s,l,c,d,p,g){this.Mi=e,this.S_=s,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new xT(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===X.RESOURCE_EXHAUSTED?(rr(i.toString()),rr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,l])=>{this.D_===i&&this.G_(s,l)}),(s=>{e((()=>{const l=new re(X.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(l)}))}))}G_(e,i){const s=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{s((()=>this.z_(l)))})),this.stream.onMessage((l=>{s((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return se(_0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(se(_0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class vC extends VT{constructor(e,i,s,l,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,l,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=w2(this.serializer,e),s=(function(c){if(!("targetChange"in c))return _e.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?_e.min():d.readTime?Ni(d.readTime):_e.min()})(e);return this.listener.H_(i,s)}Y_(e){const i={};i.database=ym(this.serializer),i.addTarget=(function(c,d){let p;const g=d.target;if(p=hm(g)?{documents:C2(c,g)}:{query:N2(c,g).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=TT(c,d.resumeToken);const _=mm(c,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(_e.min())>0){p.readTime=oh(c,d.snapshotVersion.toTimestamp());const _=mm(c,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,e);const s=O2(this.serializer,e);s&&(i.labels=s),this.q_(i)}Z_(e){const i={};i.database=ym(this.serializer),i.removeTarget=e,this.q_(i)}}class EC extends VT{constructor(e,i,s,l,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return He(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,He(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){He(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=I2(e.writeResults,e.commitTime),s=Ni(e.commitTime);return this.listener.na(s,i)}ra(){const e={};e.database=ym(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((s=>R2(this.serializer,s)))};this.q_(i)}}class TC{}class bC extends TC{constructor(e,i,s,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new re(X.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,pm(i,s),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new re(X.UNKNOWN,c.toString())}))}Ho(e,i,s,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(e,pm(i,s),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new re(X.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class AC{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(rr(i),this.aa=!1):se("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Fs="RemoteStore";class SC{constructor(e,i,s,l,c){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{s.enqueueAndForget((async()=>{Xs(this)&&(se(Fs,"Restarting streams for network reachability change."),await(async function(g){const _=Ee(g);_.Ea.add(4),await tu(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Ch(_)})(this))}))})),this.Ra=new AC(s,l)}}async function Ch(r){if(Xs(r))for(const e of r.da)await e(!0)}async function tu(r){for(const e of r.da)await e(!1)}function MT(r,e){const i=Ee(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),ap(i)?sp(i):po(i).O_()&&rp(i,e))}function ip(r,e){const i=Ee(r),s=po(i);i.Ia.delete(e),s.O_()&&PT(i,e),i.Ia.size===0&&(s.O_()?s.L_():Xs(i)&&i.Ra.set("Unknown"))}function rp(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_e.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}po(r).Y_(e)}function PT(r,e){r.Va.Ue(e),po(r).Z_(e)}function sp(r){r.Va=new _2({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),po(r).start(),r.Ra.ua()}function ap(r){return Xs(r)&&!po(r).x_()&&r.Ia.size>0}function Xs(r){return Ee(r).Ea.size===0}function kT(r){r.Va=void 0}async function wC(r){r.Ra.set("Online")}async function RC(r){r.Ia.forEach(((e,i)=>{rp(r,e)}))}async function IC(r,e){kT(r),ap(r)?(r.Ra.ha(e),sp(r)):r.Ra.set("Unknown")}async function CC(r,e,i){if(r.Ra.set("Online"),e instanceof ET&&e.state===2&&e.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(r,e)}catch(s){se(Fs,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await uh(r,s)}else if(e instanceof Qc?r.Va.Ze(e):e instanceof vT?r.Va.st(e):r.Va.tt(e),!i.isEqual(_e.min()))try{const s=await OT(r.localStore);i.compareTo(s)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((g,_)=>{if(g.resumeToken.approximateByteSize()>0){const T=c.Ia.get(_);T&&c.Ia.set(_,T.withResumeToken(g.resumeToken,d))}})),p.targetMismatches.forEach(((g,_)=>{const T=c.Ia.get(g);if(!T)return;c.Ia.set(g,T.withResumeToken(Kt.EMPTY_BYTE_STRING,T.snapshotVersion)),PT(c,g);const A=new Gr(T.target,g,_,T.sequenceNumber);rp(c,A)})),c.remoteSyncer.applyRemoteEvent(p)})(r,i)}catch(s){se(Fs,"Failed to raise snapshot:",s),await uh(r,s)}}async function uh(r,e,i){if(!fo(e))throw e;r.Ea.add(1),await tu(r),r.Ra.set("Offline"),i||(i=()=>OT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{se(Fs,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Ch(r)}))}function UT(r,e){return e().catch((i=>uh(r,i,e)))}async function Nh(r){const e=Ee(r),i=is(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Hm;for(;NC(e);)try{const l=await cC(e.localStore,s);if(l===null){e.Ta.length===0&&i.L_();break}s=l.batchId,DC(e,l)}catch(l){await uh(e,l)}LT(e)&&zT(e)}function NC(r){return Xs(r)&&r.Ta.length<10}function DC(r,e){r.Ta.push(e);const i=is(r);i.O_()&&i.X_&&i.ea(e.mutations)}function LT(r){return Xs(r)&&!is(r).x_()&&r.Ta.length>0}function zT(r){is(r).start()}async function OC(r){is(r).ra()}async function xC(r){const e=is(r);for(const i of r.Ta)e.ea(i.mutations)}async function VC(r,e,i){const s=r.Ta.shift(),l=$m.from(s,e,i);await UT(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await Nh(r)}async function MC(r,e){e&&is(r).X_&&await(async function(s,l){if((function(d){return p2(d)&&d!==X.ABORTED})(l.code)){const c=s.Ta.shift();is(s).B_(),await UT(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Nh(s)}})(r,e),LT(r)&&zT(r)}async function v0(r,e){const i=Ee(r);i.asyncQueue.verifyOperationInProgress(),se(Fs,"RemoteStore received new credentials");const s=Xs(i);i.Ea.add(3),await tu(i),s&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Ch(i)}async function PC(r,e){const i=Ee(r);e?(i.Ea.delete(2),await Ch(i)):e||(i.Ea.add(2),await tu(i),i.Ra.set("Unknown"))}function po(r){return r.ma||(r.ma=(function(i,s,l){const c=Ee(i);return c.sa(),new vC(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:wC.bind(null,r),t_:RC.bind(null,r),r_:IC.bind(null,r),H_:CC.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),ap(r)?sp(r):r.Ra.set("Unknown")):(await r.ma.stop(),kT(r))}))),r.ma}function is(r){return r.fa||(r.fa=(function(i,s,l){const c=Ee(i);return c.sa(),new EC(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:OC.bind(null,r),r_:MC.bind(null,r),ta:xC.bind(null,r),na:VC.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Nh(r)):(await r.fa.stop(),r.Ta.length>0&&(se(Fs,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class op{constructor(e,i,s,l,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=l,this.removalCallback=c,this.deferred=new Zr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,l,c){const d=Date.now()+s,p=new op(e,i,d,l,c);return p.start(s),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new re(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function lp(r,e){if(rr("AsyncQueue",`${e}: ${r}`),fo(r))return new re(X.UNAVAILABLE,`${e}: ${r}`);throw r}class $a{static emptySet(e){return new $a(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||fe.comparator(i.key,s.key):(i,s)=>fe.comparator(i.key,s.key),this.keyedMap=Sl(),this.sortedSet=new lt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,s)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof $a)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new $a;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}class E0{constructor(){this.ga=new lt(fe.comparator)}track(e){const i=e.doc.key,s=this.ga.get(i);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(i,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(i):e.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):ge(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,s)=>{e.push(s)})),e}}class ao{constructor(e,i,s,l,c,d,p,g,_){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=_}static fromInitialDocuments(e,i,s,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new ao(e,i,$a.emptySet(i),d,s,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==s[l].type||!i[l].doc.isEqual(s[l].doc))return!1;return!0}}class kC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class UC{constructor(){this.queries=T0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const l=Ee(i),c=l.queries;l.queries=T0(),c.forEach(((d,p)=>{for(const g of p.Sa)g.onError(s)}))})(this,new re(X.ABORTED,"Firestore shutting down"))}}function T0(){return new Ks((r=>aT(r)),bh)}async function jT(r,e){const i=Ee(r);let s=3;const l=e.query;let c=i.queries.get(l);c?!c.ba()&&e.Da()&&(s=2):(c=new kC,s=e.Da()?0:1);try{switch(s){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=lp(d,`Initialization of query '${qa(e.query)}' failed`);return void e.onError(p)}i.queries.set(l,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&up(i)}async function BT(r,e){const i=Ee(r),s=e.query;let l=3;const c=i.queries.get(s);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=e.Da()?0:1:!c.ba()&&e.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function LC(r,e){const i=Ee(r);let s=!1;for(const l of e){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(s=!0);d.wa=l}}s&&up(i)}function zC(r,e,i){const s=Ee(r),l=s.queries.get(e);if(l)for(const c of l.Sa)c.onError(i);s.queries.delete(e)}function up(r){r.Ca.forEach((e=>{e.next()}))}var Em,b0;(b0=Em||(Em={})).Ma="default",b0.Cache="cache";class qT{constructor(e,i,s){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const l of e.docChanges)l.type!==3&&s.push(l);e=new ao(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=ao.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Em.Cache}}class HT{constructor(e){this.key=e}}class FT{constructor(e){this.key=e}}class jC{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ve(),this.mutatedKeys=Ve(),this.eu=oT(e),this.tu=new $a(this.eu)}get nu(){return this.Ya}ru(e,i){const s=i?i.iu:new E0,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const g=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((T,A)=>{const x=l.get(T),H=Ah(this.query,A)?A:null,W=!!x&&this.mutatedKeys.has(x.key),J=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let K=!1;x&&H?x.data.isEqual(H.data)?W!==J&&(s.track({type:3,doc:H}),K=!0):this.su(x,H)||(s.track({type:2,doc:H}),K=!0,(g&&this.eu(H,g)>0||_&&this.eu(H,_)<0)&&(p=!0)):!x&&H?(s.track({type:0,doc:H}),K=!0):x&&!H&&(s.track({type:1,doc:x}),K=!0,(g||_)&&(p=!0)),K&&(H?(d=d.add(H),c=J?c.add(T):c.delete(T)):(d=d.delete(T),c=c.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),c=c.delete(T.key),s.track({type:1,doc:T})}return{tu:d,iu:s,Cs:p,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((T,A)=>(function(H,W){const J=K=>{switch(K){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ge(20277,{Rt:K})}};return J(H)-J(W)})(T.type,A.type)||this.eu(T.doc,A.doc))),this.ou(s),l=l??!1;const p=i&&!l?this._u():[],g=this.Xa.size===0&&this.current&&!l?1:0,_=g!==this.Za;return this.Za=g,d.length!==0||_?{snapshot:new ao(this.query,e.tu,c,d,e.mutatedKeys,g===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new E0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ve(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const i=[];return e.forEach((s=>{this.Xa.has(s)||i.push(new FT(s))})),this.Xa.forEach((s=>{e.has(s)||i.push(new HT(s))})),i}cu(e){this.Ya=e.Qs,this.Xa=Ve();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return ao.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const cp="SyncEngine";class BC{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class qC{constructor(e){this.key=e,this.hu=!1}}class HC{constructor(e,i,s,l,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Ks((p=>aT(p)),bh),this.Iu=new Map,this.Eu=new Set,this.du=new lt(fe.comparator),this.Au=new Map,this.Ru=new Wm,this.Vu={},this.mu=new Map,this.fu=so.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function FC(r,e,i=!0){const s=$T(r);let l;const c=s.Tu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await GT(s,e,i,!0),l}async function GC(r,e){const i=$T(r);await GT(i,e,!0,!1)}async function GT(r,e,i,s){const l=await hC(r.localStore,Ci(e)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let p;return s&&(p=await QC(r,e,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&MT(r.remoteStore,l),p}async function QC(r,e,i,s,l){r.pu=(A,x,H)=>(async function(J,K,ie,de){let ce=K.view.ru(ie);ce.Cs&&(ce=await m0(J.localStore,K.query,!1).then((({documents:w})=>K.view.ru(w,ce))));const we=de&&de.targetChanges.get(K.targetId),Je=de&&de.targetMismatches.get(K.targetId)!=null,Me=K.view.applyChanges(ce,J.isPrimaryClient,we,Je);return S0(J,K.targetId,Me.au),Me.snapshot})(r,A,x,H);const c=await m0(r.localStore,e,!0),d=new jC(e,c.Qs),p=d.ru(c.documents),g=eu.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",l),_=d.applyChanges(p,r.isPrimaryClient,g);S0(r,i,_.au);const T=new BC(e,i,d);return r.Tu.set(e,T),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),_.snapshot}async function KC(r,e,i){const s=Ee(r),l=s.Tu.get(e),c=s.Iu.get(l.targetId);if(c.length>1)return s.Iu.set(l.targetId,c.filter((d=>!bh(d,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await _m(s.localStore,l.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(l.targetId),i&&ip(s.remoteStore,l.targetId),Tm(s,l.targetId)})).catch(ho)):(Tm(s,l.targetId),await _m(s.localStore,l.targetId,!0))}async function YC(r,e){const i=Ee(r),s=i.Tu.get(e),l=i.Iu.get(s.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),ip(i.remoteStore,s.targetId))}async function XC(r,e,i){const s=nN(r);try{const l=await(function(d,p){const g=Ee(d),_=it.now(),T=p.reduce(((H,W)=>H.add(W.key)),Ve());let A,x;return g.persistence.runTransaction("Locally write mutations","readwrite",(H=>{let W=sr(),J=Ve();return g.Ns.getEntries(H,T).next((K=>{W=K,W.forEach(((ie,de)=>{de.isValidDocument()||(J=J.add(ie))}))})).next((()=>g.localDocuments.getOverlayedDocuments(H,W))).next((K=>{A=K;const ie=[];for(const de of p){const ce=c2(de,A.get(de.key).overlayedDocument);ce!=null&&ie.push(new Ys(de.key,ce,JE(ce.value.mapValue),Wn.exists(!0)))}return g.mutationQueue.addMutationBatch(H,_,ie,p)})).next((K=>{x=K;const ie=K.applyToLocalDocumentSet(A,J);return g.documentOverlayCache.saveOverlays(H,K.batchId,ie)}))})).then((()=>({batchId:x.batchId,changes:uT(A)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(l.batchId),(function(d,p,g){let _=d.Vu[d.currentUser.toKey()];_||(_=new lt(xe)),_=_.insert(p,g),d.Vu[d.currentUser.toKey()]=_})(s,l.batchId,i),await nu(s,l.changes),await Nh(s.remoteStore)}catch(l){const c=lp(l,"Failed to persist write");i.reject(c)}}async function QT(r,e){const i=Ee(r);try{const s=await lC(i.localStore,e);e.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(He(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?He(d.hu,14607):l.removedDocuments.size>0&&(He(d.hu,42227),d.hu=!1))})),await nu(i,s,e)}catch(s){await ho(s)}}function A0(r,e,i){const s=Ee(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const l=[];s.Tu.forEach(((c,d)=>{const p=d.view.va(e);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const g=Ee(d);g.onlineState=p;let _=!1;g.queries.forEach(((T,A)=>{for(const x of A.Sa)x.va(p)&&(_=!0)})),_&&up(g)})(s.eventManager,e),l.length&&s.Pu.H_(l),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function $C(r,e,i){const s=Ee(r);s.sharedClientState.updateQueryState(e,"rejected",i);const l=s.Au.get(e),c=l&&l.key;if(c){let d=new lt(fe.comparator);d=d.insert(c,Zt.newNoDocument(c,_e.min()));const p=Ve().add(c),g=new Rh(_e.min(),new Map,new lt(xe),d,p);await QT(s,g),s.du=s.du.remove(c),s.Au.delete(e),hp(s)}else await _m(s.localStore,e,!1).then((()=>Tm(s,e,i))).catch(ho)}async function ZC(r,e){const i=Ee(r),s=e.batch.batchId;try{const l=await oC(i.localStore,e);YT(i,s,null),KT(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await nu(i,l)}catch(l){await ho(l)}}async function JC(r,e,i){const s=Ee(r);try{const l=await(function(d,p){const g=Ee(d);return g.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let T;return g.mutationQueue.lookupMutationBatch(_,p).next((A=>(He(A!==null,37113),T=A.keys(),g.mutationQueue.removeMutationBatch(_,A)))).next((()=>g.mutationQueue.performConsistencyCheck(_))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(_,T,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,T))).next((()=>g.localDocuments.getDocuments(_,T)))}))})(s.localStore,e);YT(s,e,i),KT(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await nu(s,l)}catch(l){await ho(l)}}function KT(r,e){(r.mu.get(e)||[]).forEach((i=>{i.resolve()})),r.mu.delete(e)}function YT(r,e,i){const s=Ee(r);let l=s.Vu[s.currentUser.toKey()];if(l){const c=l.get(e);c&&(i?c.reject(i):c.resolve(),l=l.remove(e)),s.Vu[s.currentUser.toKey()]=l}}function Tm(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),i&&r.Pu.yu(s,i);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||XT(r,s)}))}function XT(r,e){r.Eu.delete(e.path.canonicalString());const i=r.du.get(e);i!==null&&(ip(r.remoteStore,i),r.du=r.du.remove(e),r.Au.delete(i),hp(r))}function S0(r,e,i){for(const s of i)s instanceof HT?(r.Ru.addReference(s.key,e),WC(r,s)):s instanceof FT?(se(cp,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||XT(r,s.key)):ge(19791,{wu:s})}function WC(r,e){const i=e.key,s=i.path.canonicalString();r.du.get(i)||r.Eu.has(s)||(se(cp,"New document in limbo: "+i),r.Eu.add(s),hp(r))}function hp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new fe(et.fromString(e)),s=r.fu.next();r.Au.set(s,new qC(i)),r.du=r.du.insert(i,s),MT(r.remoteStore,new Gr(Ci(Th(i.path)),s,"TargetPurposeLimboResolution",_h.ce))}}async function nu(r,e,i){const s=Ee(r),l=[],c=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((p,g)=>{d.push(s.pu(g,e,i).then((_=>{if((_||i)&&s.isPrimaryClient){const T=_?!_.fromCache:i?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,T?"current":"not-current")}if(_){l.push(_);const T=tp.As(g.targetId,_);c.push(T)}})))})),await Promise.all(d),s.Pu.H_(l),await(async function(g,_){const T=Ee(g);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>Z.forEach(_,(x=>Z.forEach(x.Es,(H=>T.persistence.referenceDelegate.addReference(A,x.targetId,H))).next((()=>Z.forEach(x.ds,(H=>T.persistence.referenceDelegate.removeReference(A,x.targetId,H)))))))))}catch(A){if(!fo(A))throw A;se(np,"Failed to update sequence numbers: "+A)}for(const A of _){const x=A.targetId;if(!A.fromCache){const H=T.Ms.get(x),W=H.snapshotVersion,J=H.withLastLimboFreeSnapshotVersion(W);T.Ms=T.Ms.insert(x,J)}}})(s.localStore,c))}async function eN(r,e){const i=Ee(r);if(!i.currentUser.isEqual(e)){se(cp,"User change. New user:",e.toKey());const s=await DT(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((p=>{p.forEach((g=>{g.reject(new re(X.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await nu(i,s.Ls)}}function tN(r,e){const i=Ee(r),s=i.Au.get(e);if(s&&s.hu)return Ve().add(s.key);{let l=Ve();const c=i.Iu.get(e);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function $T(r){const e=Ee(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=QT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=tN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$C.bind(null,e),e.Pu.H_=LC.bind(null,e.eventManager),e.Pu.yu=zC.bind(null,e.eventManager),e}function nN(r){const e=Ee(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ZC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=JC.bind(null,e),e}class ch{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ih(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return aC(this.persistence,new iC,e.initialUser,this.serializer)}Cu(e){return new NT(ep.mi,this.serializer)}Du(e){return new dC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ch.provider={build:()=>new ch};class iN extends ch{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){He(this.persistence.referenceDelegate instanceof lh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new q2(s,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new NT((s=>lh.mi(s,i)),this.serializer)}}class bm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>A0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=eN.bind(null,this.syncEngine),await PC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new UC})()}createDatastore(e){const i=Ih(e.databaseInfo.databaseId),s=(function(c){return new _C(c)})(e.databaseInfo);return(function(c,d,p,g){return new bC(c,d,p,g)})(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return(function(s,l,c,d,p){return new SC(s,l,c,d,p)})(this.localStore,this.datastore,e.asyncQueue,(i=>A0(this.syncEngine,i,0)),(function(){return y0.v()?new y0:new mC})())}createSyncEngine(e,i){return(function(l,c,d,p,g,_,T){const A=new HC(l,c,d,p,g,_);return T&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const s=Ee(i);se(Fs,"RemoteStore shutting down."),s.Ea.add(5),await tu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}bm.provider={build:()=>new bm};class ZT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):rr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const rs="FirestoreClient";class rN{constructor(e,i,s,l,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=l,this.user=$t.UNAUTHENTICATED,this.clientId=qm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async d=>{se(rs,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(se(rs,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Zr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=lp(i,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Zd(r,e){r.asyncQueue.verifyOperationInProgress(),se(rs,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let s=i.initialUser;r.setCredentialChangeListener((async l=>{s.isEqual(l)||(await DT(e.localStore,l),s=l)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function w0(r,e){r.asyncQueue.verifyOperationInProgress();const i=await sN(r);se(rs,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((s=>v0(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,l)=>v0(e.remoteStore,l))),r._onlineComponents=e}async function sN(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){se(rs,"Using user provided OfflineComponentProvider");try{await Zd(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===X.FAILED_PRECONDITION||l.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;to("Error using user provided cache. Falling back to memory cache: "+i),await Zd(r,new ch)}}else se(rs,"Using default OfflineComponentProvider"),await Zd(r,new iN(void 0));return r._offlineComponents}async function JT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(se(rs,"Using user provided OnlineComponentProvider"),await w0(r,r._uninitializedComponentsProvider._online)):(se(rs,"Using default OnlineComponentProvider"),await w0(r,new bm))),r._onlineComponents}function aN(r){return JT(r).then((e=>e.syncEngine))}async function Am(r){const e=await JT(r),i=e.eventManager;return i.onListen=FC.bind(null,e.syncEngine),i.onUnlisten=KC.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=GC.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=YC.bind(null,e.syncEngine),i}function oN(r,e,i={}){const s=new Zr;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,g,_){const T=new ZT({next:x=>{T.Nu(),d.enqueueAndForget((()=>BT(c,A)));const H=x.docs.has(p);!H&&x.fromCache?_.reject(new re(X.UNAVAILABLE,"Failed to get document because the client is offline.")):H&&x.fromCache&&g&&g.source==="server"?_.reject(new re(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(x)},error:x=>_.reject(x)}),A=new qT(Th(p.path),T,{includeMetadataChanges:!0,qa:!0});return jT(c,A)})(await Am(r),r.asyncQueue,e,i,s))),s.promise}function WT(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const R0=new Map;const eb="firestore.googleapis.com",I0=!0;class C0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new re(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=eb,this.ssl=I0}else this.host=e.host,this.ssl=e.ssl??I0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=CT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<j2)throw new re(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}AI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=WT(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new re(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new re(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new re(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,l){return s.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Dh{constructor(e,i,s,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new C0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new re(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new re(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new C0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new dI;switch(s.type){case"firstParty":return new yI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new re(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=R0.get(i);s&&(se("ComponentProvider","Removing Datastore"),R0.delete(i),s.terminate())})(this),Promise.resolve()}}function lN(r,e,i,s={}){r=Ii(r,Dh);const l=oo(e),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},p=`${e}:${i}`;l&&(F0(`https://${p}`),G0("Firestore",!0)),c.host!==eb&&c.host!==p&&to("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...c,host:p,ssl:l,emulatorOptions:s};if(!js(g,d)&&(r._setSettings(g),s.mockUserToken)){let _,T;if(typeof s.mockUserToken=="string")_=s.mockUserToken,T=$t.MOCK_USER;else{_=p1(s.mockUserToken,r._app?.options.projectId);const A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new re(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new $t(A)}r._authCredentials=new mI(new jE(_,T))}}class $s{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new $s(this.firestore,e,this._query)}}class gt{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Jr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gt(this.firestore,e,this._key)}toJSON(){return{type:gt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,s){if(Jl(i,gt._jsonSchema))return new gt(e,s||null,new fe(et.fromString(i.referencePath)))}}gt._jsonSchemaVersion="firestore/documentReference/1.0",gt._jsonSchema={type:Nt("string",gt._jsonSchemaVersion),referencePath:Nt("string")};class Jr extends $s{constructor(e,i,s){super(e,i,Th(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new gt(this.firestore,null,new fe(e))}withConverter(e){return new Jr(this.firestore,e,this._path)}}function kl(r,e,...i){if(r=Wt(r),BE("collection","path",e),r instanceof Dh){const s=et.fromString(e,...i);return Bv(s),new Jr(r,null,s)}{if(!(r instanceof gt||r instanceof Jr))throw new re(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(et.fromString(e,...i));return Bv(s),new Jr(r.firestore,null,s)}}function Za(r,e,...i){if(r=Wt(r),arguments.length===1&&(e=qm.newId()),BE("doc","path",e),r instanceof Dh){const s=et.fromString(e,...i);return jv(s),new gt(r,null,new fe(s))}{if(!(r instanceof gt||r instanceof Jr))throw new re(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(et.fromString(e,...i));return jv(s),new gt(r.firestore,r instanceof Jr?r.converter:null,new fe(s))}}const N0="AsyncQueue";class D0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new xT(this,"async_queue_retry"),this._c=()=>{const s=$d();s&&se(N0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const i=$d();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=$d();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Zr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!fo(e))throw e;se(N0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,rr("INTERNAL UNHANDLED ERROR: ",O0(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(e,i,s){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=op.createAndSchedule(this,e,i,s,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&ge(47125,{Pc:O0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function O0(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}function x0(r){return(function(i,s){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of s)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}class Gs extends Dh{constructor(e,i,s,l){super(e,i,s,l),this.type="firestore",this._queue=new D0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new D0(e),this._firestoreClient=void 0,await e}}}function uN(r,e){const i=typeof r=="object"?r:X0(),s=typeof r=="string"?r:ih,l=Om(i,"firestore").getImmediate({identifier:s});if(!l._initialized){const c=d1("firestore");c&&lN(l,...c)}return l}function fp(r){if(r._terminated)throw new re(X.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||cN(r),r._firestoreClient}function cN(r){const e=r._freezeSettings(),i=(function(l,c,d,p){return new MI(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,WT(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new rN(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class Un{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Un(Kt.fromBase64String(e))}catch(i){throw new re(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Un(Kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Un._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Jl(e,Un._jsonSchema))return Un.fromBase64String(e.bytes)}}Un._jsonSchemaVersion="firestore/bytes/1.0",Un._jsonSchema={type:Nt("string",Un._jsonSchemaVersion),bytes:Nt("string")};class dp{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new re(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class mp{constructor(e){this._methodName=e}}class Di{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new re(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new re(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return xe(this._lat,e._lat)||xe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Di._jsonSchemaVersion}}static fromJSON(e){if(Jl(e,Di._jsonSchema))return new Di(e.latitude,e.longitude)}}Di._jsonSchemaVersion="firestore/geoPoint/1.0",Di._jsonSchema={type:Nt("string",Di._jsonSchemaVersion),latitude:Nt("number"),longitude:Nt("number")};class Oi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,l){if(s.length!==l.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Oi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Jl(e,Oi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Oi(e.vectorValues);throw new re(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Oi._jsonSchemaVersion="firestore/vectorValue/1.0",Oi._jsonSchema={type:Nt("string",Oi._jsonSchemaVersion),vectorValues:Nt("object")};const hN=/^__.*__$/;class fN{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new Ys(e,this.data,this.fieldMask,i,this.fieldTransforms):new Wl(e,this.data,i,this.fieldTransforms)}}function tb(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ge(40011,{Ac:r})}}class pp{constructor(e,i,s,l,c,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new pp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.gc(e),s}yc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return hh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(tb(this.Ac)&&hN.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class dN{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||Ih(e)}Cc(e,i,s,l=!1){return new pp({Ac:e,methodName:i,Dc:s,path:Qt.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function gp(r){const e=r._freezeSettings(),i=Ih(r._databaseId);return new dN(r._databaseId,!!e.ignoreUndefinedProperties,i)}function nb(r,e,i,s,l,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,e,i,l);sb("Data must be an object, but it was:",d,s);const p=ib(s,d);let g,_;if(c.merge)g=new Jn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const T=[];for(const A of c.mergeFields){const x=pN(e,A,i);if(!d.contains(x))throw new re(X.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);yN(T,x)||T.push(x)}g=new Jn(T),_=d.fieldTransforms.filter((A=>g.covers(A.field)))}else g=null,_=d.fieldTransforms;return new fN(new kn(p),g,_)}class yp extends mp{_toFieldTransform(e){return new a2(e.path,new Fl)}isEqual(e){return e instanceof yp}}function mN(r,e,i,s=!1){return _p(i,r.Cc(s?4:3,e))}function _p(r,e){if(rb(r=Wt(r)))return sb("Unsupported field value:",e,r),ib(r,e);if(r instanceof mp)return(function(s,l){if(!tb(l.Ac))throw l.Sc(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,l){const c=[];let d=0;for(const p of s){let g=_p(p,l.wc(d));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),d++}return{arrayValue:{values:c}}})(r,e)}return(function(s,l){if((s=Wt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return i2(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=it.fromDate(s);return{timestampValue:oh(l.serializer,c)}}if(s instanceof it){const c=new it(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:oh(l.serializer,c)}}if(s instanceof Di)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Un)return{bytesValue:TT(l.serializer,s._byteString)};if(s instanceof gt){const c=l.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Jm(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof Oi)return(function(d,p){return{mapValue:{fields:{[$E]:{stringValue:ZE},[rh]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw p.Sc("VectorValues must only contain numeric values.");return Ym(p.serializer,_)}))}}}}}})(s,l);throw l.Sc(`Unsupported field value: ${yh(s)}`)})(r,e)}function ib(r,e){const i={};return FE(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qs(r,((s,l)=>{const c=_p(l,e.mc(s));c!=null&&(i[s]=c)})),{mapValue:{fields:i}}}function rb(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof it||r instanceof Di||r instanceof Un||r instanceof gt||r instanceof mp||r instanceof Oi)}function sb(r,e,i){if(!rb(i)||!qE(i)){const s=yh(i);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function pN(r,e,i){if((e=Wt(e))instanceof dp)return e._internalPath;if(typeof e=="string")return ab(r,e);throw hh("Field path arguments must be of type string or ",r,!1,void 0,i)}const gN=new RegExp("[~\\*/\\[\\]]");function ab(r,e,i){if(e.search(gN)>=0)throw hh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new dp(...e.split("."))._internalPath}catch{throw hh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function hh(r,e,i,s,l){const c=s&&!s.isEmpty(),d=l!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(c||d)&&(g+=" (found",c&&(g+=` in field ${s}`),d&&(g+=` in document ${l}`),g+=")"),new re(X.INVALID_ARGUMENT,p+r+g)}function yN(r,e){return r.some((i=>i.isEqual(e)))}class ob{constructor(e,i,s,l,c){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new gt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new _N(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(vp("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class _N extends ob{data(){return super.data()}}function vp(r,e){return typeof e=="string"?ab(r,e):e instanceof dp?e._internalPath:e._delegate._internalPath}function vN(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new re(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ep{}class lb extends Ep{}function EN(r,e,...i){let s=[];e instanceof Ep&&s.push(e),s=s.concat(i),(function(c){const d=c.filter((g=>g instanceof bp)).length,p=c.filter((g=>g instanceof Tp)).length;if(d>1||d>0&&p>0)throw new re(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const l of s)r=l._apply(r);return r}class Tp extends lb{constructor(e,i,s){super(),this._field=e,this._op=i,this._value=s,this.type="where"}static _create(e,i,s){return new Tp(e,i,s)}_apply(e){const i=this._parse(e);return ub(e._query,i),new $s(e.firestore,e.converter,fm(e._query,i))}_parse(e){const i=gp(e.firestore);return(function(c,d,p,g,_,T,A){let x;if(_.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new re(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){M0(A,T);const W=[];for(const J of A)W.push(V0(g,c,J));x={arrayValue:{values:W}}}else x=V0(g,c,A)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||M0(A,T),x=mN(p,d,A,T==="in"||T==="not-in");return Ct.create(_,T,x)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}class bp extends Ep{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new bp(e,i)}_parse(e){const i=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return i.length===1?i[0]:ei.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(l,c){let d=l;const p=c.getFlattenedFilters();for(const g of p)ub(d,g),d=fm(d,g)})(e._query,i),new $s(e.firestore,e.converter,fm(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ap extends lb{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new Ap(e,i)}_apply(e){const i=(function(l,c,d){if(l.startAt!==null)throw new re(X.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new re(X.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Hl(c,d)})(e._query,this._field,this._direction);return new $s(e.firestore,e.converter,(function(l,c){const d=l.explicitOrderBy.concat([c]);return new mo(l.path,l.collectionGroup,d,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(e._query,i))}}function TN(r,e="asc"){const i=e,s=vp("orderBy",r);return Ap._create(s,i)}function V0(r,e,i){if(typeof(i=Wt(i))=="string"){if(i==="")throw new re(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!sT(e)&&i.indexOf("/")!==-1)throw new re(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=e.path.child(et.fromString(i));if(!fe.isDocumentKey(s))throw new re(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Xv(r,new fe(s))}if(i instanceof gt)return Xv(r,i._key);throw new re(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${yh(i)}.`)}function M0(r,e){if(!Array.isArray(r)||r.length===0)throw new re(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ub(r,e){const i=(function(l,c){for(const d of l)for(const p of d.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new re(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new re(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class bN{convertValue(e,i="none"){switch(ns(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(ts(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw ge(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return Qs(e,((l,c)=>{s[l]=this.convertValue(c,i)})),s}convertVectorValue(e){const i=e.fields?.[rh].arrayValue?.values?.map((s=>pt(s.doubleValue)));return new Oi(i)}convertGeoPoint(e){return new Di(pt(e.latitude),pt(e.longitude))}convertArray(e,i){return(e.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const s=Eh(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(jl(e));default:return null}}convertTimestamp(e){const i=es(e);return new it(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=et.fromString(e);He(IT(s),9688,{name:e});const l=new Bl(s.get(1),s.get(3)),c=new fe(s.popFirst(5));return l.isEqual(i)||rr(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function cb(r,e,i){let s;return s=r?i&&(i.merge||i.mergeFields)?r.toFirestore(e,i):r.toFirestore(e):e,s}class Rl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class zs extends ob{constructor(e,i,s,l,c,d){super(e,i,s,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Kc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(vp("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new re(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=zs._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}zs._jsonSchemaVersion="firestore/documentSnapshot/1.0",zs._jsonSchema={type:Nt("string",zs._jsonSchemaVersion),bundleSource:Nt("string","DocumentSnapshot"),bundleName:Nt("string"),bundle:Nt("string")};class Kc extends zs{data(e={}){return super.data(e)}}class Ja{constructor(e,i,s,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new Rl(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((s=>{e.call(i,new Kc(this._firestore,this._userDataWriter,s.key,s,new Rl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new re(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const g=new Kc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Rl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const g=new Kc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Rl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,T=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),T=d.indexOf(p.doc.key)),{type:AN(p.type),doc:g,oldIndex:_,newIndex:T}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new re(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ja._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=qm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function AN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ge(61501,{type:r})}}function SN(r){r=Ii(r,gt);const e=Ii(r.firestore,Gs);return oN(fp(e),r._key).then((i=>fb(e,r,i)))}Ja._jsonSchemaVersion="firestore/querySnapshot/1.0",Ja._jsonSchema={type:Nt("string",Ja._jsonSchemaVersion),bundleSource:Nt("string","QuerySnapshot"),bundleName:Nt("string"),bundle:Nt("string")};class hb extends bN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Un(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new gt(this.firestore,null,i)}}function Sm(r,e,i){r=Ii(r,gt);const s=Ii(r.firestore,Gs),l=cb(r.converter,e,i);return Sp(s,[nb(gp(s),"setDoc",r._key,l,r.converter!==null,i).toMutation(r._key,Wn.none())])}function wN(r){return Sp(Ii(r.firestore,Gs),[new Xm(r._key,Wn.none())])}function P0(r,e){const i=Ii(r.firestore,Gs),s=Za(r),l=cb(r.converter,e);return Sp(i,[nb(gp(r.firestore),"addDoc",s._key,l,r.converter!==null,{}).toMutation(s._key,Wn.exists(!1))]).then((()=>s))}function wm(r,...e){r=Wt(r);let i={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||x0(e[s])||(i=e[s++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(x0(e[s])){const g=e[s];e[s]=g.next?.bind(g),e[s+1]=g.error?.bind(g),e[s+2]=g.complete?.bind(g)}let c,d,p;if(r instanceof gt)d=Ii(r.firestore,Gs),p=Th(r._key.path),c={next:g=>{e[s]&&e[s](fb(d,r,g))},error:e[s+1],complete:e[s+2]};else{const g=Ii(r,$s);d=Ii(g.firestore,Gs),p=g._query;const _=new hb(d);c={next:T=>{e[s]&&e[s](new Ja(d,_,g,T))},error:e[s+1],complete:e[s+2]},vN(r._query)}return(function(_,T,A,x){const H=new ZT(x),W=new qT(T,H,A);return _.asyncQueue.enqueueAndForget((async()=>jT(await Am(_),W))),()=>{H.Nu(),_.asyncQueue.enqueueAndForget((async()=>BT(await Am(_),W)))}})(fp(d),p,l,c)}function Sp(r,e){return(function(s,l){const c=new Zr;return s.asyncQueue.enqueueAndForget((async()=>XC(await aN(s),l,c))),c.promise})(fp(r),e)}function fb(r,e,i){const s=i.docs.get(e._key),l=new hb(r);return new zs(r,l,e._key,s,new Rl(i.hasPendingWrites,i.fromCache),e.converter)}function Rm(){return new yp("serverTimestamp")}(function(e,i=!0){(function(l){co=l})(uo),Wa(new Bs("firestore",((s,{instanceIdentifier:l,options:c})=>{const d=s.getProvider("app").getImmediate(),p=new Gs(new pI(s.getProvider("auth-internal")),new _I(d,s.getProvider("app-check-internal")),(function(_,T){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new re(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bl(_.options.projectId,T)})(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Yr(kv,Uv,e),Yr(kv,Uv,"esm2020")})();const RN=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),IN=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,s)=>s?s.toUpperCase():i.toLowerCase()),k0=r=>{const e=IN(r);return e.charAt(0).toUpperCase()+e.slice(1)},db=(...r)=>r.filter((e,i,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===i).join(" ").trim(),CN=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var NN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const DN=Ce.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:l="",children:c,iconNode:d,...p},g)=>Ce.createElement("svg",{ref:g,...NN,width:e,height:e,stroke:r,strokeWidth:s?Number(i)*24/Number(e):i,className:db("lucide",l),...!c&&!CN(p)&&{"aria-hidden":"true"},...p},[...d.map(([_,T])=>Ce.createElement(_,T)),...Array.isArray(c)?c:[c]]));const rn=(r,e)=>{const i=Ce.forwardRef(({className:s,...l},c)=>Ce.createElement(DN,{ref:c,iconNode:e,className:db(`lucide-${RN(k0(r))}`,`lucide-${r}`,s),...l}));return i.displayName=k0(r),i};const ON=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],mb=rn("arrow-left",ON);const xN=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],VN=rn("check",xN);const MN=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],PN=rn("key",MN);const kN=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Im=rn("lock",kN);const UN=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],LN=rn("log-out",UN);const zN=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],U0=rn("message-circle",zN);const jN=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],BN=rn("paperclip",jN);const qN=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],HN=rn("pen",qN);const FN=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],GN=rn("save",FN);const QN=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],pb=rn("search",QN);const KN=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],YN=rn("send",KN);const XN=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],gb=rn("shield",XN);const $N=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ZN=rn("trash-2",$N);const JN=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],wp=rn("user",JN);const WN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],yb=rn("x",WN),eD={apiKey:"AIzaSyBG0SzKRNkv_UACFsJr_7RBq6O4klxAkCU",authDomain:"mychatapp-38b03.firebaseapp.com",projectId:"mychatapp-38b03",storageBucket:"mychatapp-38b03.firebasestorage.app",messagingSenderId:"621496495450",appId:"1:621496495450:web:7f260e2d74eabff5eb1763"},_b=Y0(eD),fh=hI(_b),wi=uN(_b),Ri="secure-chat-v1",Qa={bg:"#0f172a",text:"#f1f5f9"};function tD(){const[r,e]=Ce.useState(null),[i,s]=Ce.useState(!0);return Ce.useEffect(()=>{if(document.title="SecureChat",!document.getElementById("tailwind-script")){const c=document.createElement("script");c.id="tailwind-script",c.src="https://cdn.tailwindcss.com",document.head.appendChild(c)}let l=document.querySelector("link[rel~='icon']");l||(l=document.createElement("link"),l.rel="icon",document.head.appendChild(l)),l.href="https://cdn-icons-png.flaticon.com/512/1320/1320457.png",document.body.style.backgroundColor=Qa.bg,document.body.style.margin="0"},[]),Ce.useEffect(()=>{const l=Hw(fh,async c=>{if(c){const d=c.phoneNumber.replace(/\s/g,"");await Sm(Za(wi,"artifacts",Ri,"users",d),{uid:c.uid,phoneNumber:d,lastSeen:Rm()},{merge:!0})}e(c),s(!1)});return()=>l()},[]),i?j.jsxs("div",{className:"h-[100dvh] w-screen flex flex-col items-center justify-center",style:{backgroundColor:Qa.bg},children:[j.jsx("div",{className:"w-16 h-16 border-t-4 border-blue-500 border-solid rounded-full animate-spin"}),j.jsx("div",{className:"mt-8 text-blue-500 font-bold tracking-widest text-sm",children:"SECURE CHAT"})]}):j.jsx("div",{className:"h-[100dvh] font-sans overflow-hidden",style:{backgroundColor:Qa.bg,color:Qa.text},children:r?j.jsx(iD,{user:r}):j.jsx(nD,{})})}function nD(){const[r,e]=Ce.useState("+91"),[i,s]=Ce.useState(""),[l,c]=Ce.useState("PHONE"),[d,p]=Ce.useState(""),[g,_]=Ce.useState(!1),[T,A]=Ce.useState(null),x=()=>{window.recaptchaVerifier||(window.recaptchaVerifier=new hR(fh,"recaptcha-container",{size:"invisible",callback:()=>{}}))},H=async J=>{J.preventDefault(),p(""),_(!0);const K=r.replace(/\s/g,"");try{x();const ie=await mR(fh,K,window.recaptchaVerifier);A(ie),c("OTP")}catch(ie){console.error(ie),p("Login Failed. Use Test Numbers (+91 8369777252).")}_(!1)},W=async J=>{J.preventDefault(),_(!0);try{await T.confirm(i)}catch{p("Invalid Code")}_(!1)};return j.jsxs("div",{className:"relative min-h-[100dvh] flex flex-col",style:{backgroundColor:Qa.bg},children:[j.jsx("div",{className:"w-full h-[150px] md:h-[220px] bg-blue-600 absolute top-0 z-0",children:j.jsxs("div",{className:"max-w-[1000px] mx-auto p-4 md:p-8 flex items-center gap-3 text-white",children:[j.jsx(gb,{className:"w-6 h-6 md:w-8 md:h-8"}),j.jsx("span",{className:"font-bold text-lg tracking-wide",children:"SECURE CHAT"})]})}),j.jsx("div",{className:"relative z-10 flex justify-center pt-8 md:pt-12 px-4 h-full flex-1",children:j.jsxs("div",{className:"bg-slate-800 rounded-xl shadow-2xl w-full max-w-[900px] h-[calc(100dvh-60px)] md:h-[70vh] flex flex-col md:flex-row overflow-hidden border border-slate-700",children:[j.jsxs("div",{className:"flex-1 p-6 md:p-12 flex flex-col items-center justify-center bg-slate-800 text-white",children:[j.jsx("h1",{className:"text-2xl md:text-3xl font-light mb-2 text-white",children:l==="PHONE"?"Welcome Back":"Verify Identity"}),j.jsx("p",{className:"text-slate-400 mb-8 text-sm text-center",children:l==="PHONE"?"Sign in to access your private messages.":"Enter the code sent to your device."}),d&&j.jsx("div",{className:"text-red-400 mb-4 text-sm bg-red-900/20 p-2 w-full text-center rounded border border-red-900",children:d}),l==="PHONE"?j.jsxs("form",{onSubmit:H,className:"w-full max-w-xs space-y-6",children:[j.jsxs("div",{children:[j.jsx("label",{className:"block text-xs text-blue-400 font-bold mb-2 uppercase tracking-wider",children:"Phone Number"}),j.jsx("input",{value:r,onChange:J=>e(J.target.value),className:"w-full bg-slate-900 border border-slate-700 rounded p-3 text-lg text-white focus:border-blue-500 focus:outline-none transition-colors",placeholder:"+91 83697 77252"})]}),j.jsx("div",{id:"recaptcha-container"}),j.jsx("button",{disabled:g,className:"w-full bg-blue-600 hover:bg-blue-500 text-white font-bold py-3 rounded shadow-lg shadow-blue-900/50 transition-all",children:g?"SENDING...":"CONTINUE"})]}):j.jsxs("form",{onSubmit:W,className:"w-full max-w-xs space-y-6",children:[j.jsxs("div",{children:[j.jsx("label",{className:"block text-xs text-blue-400 font-bold mb-2 uppercase tracking-wider",children:"Security Code"}),j.jsx("input",{value:i,onChange:J=>s(J.target.value),className:"w-full bg-slate-900 border border-slate-700 rounded p-3 text-center text-3xl tracking-[0.5em] text-white focus:border-blue-500 focus:outline-none transition-colors",placeholder:"------",maxLength:6})]}),j.jsx("button",{disabled:g,className:"w-full bg-blue-600 hover:bg-blue-500 text-white font-bold py-3 rounded shadow-lg shadow-blue-900/50 transition-all",children:g?"UNLOCKING...":"VERIFY"}),j.jsx("button",{type:"button",onClick:()=>c("PHONE"),className:"w-full text-blue-400 text-sm hover:underline",children:"Wrong Number?"})]})]}),j.jsxs("div",{className:"hidden md:flex flex-1 bg-slate-900 items-center justify-center p-10 border-l border-slate-700 relative overflow-hidden",children:[j.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:"radial-gradient(circle at 2px 2px, white 1px, transparent 0)",backgroundSize:"32px 32px"}}),j.jsxs("div",{className:"text-center space-y-6 relative z-10",children:[j.jsx("div",{className:"w-20 h-20 bg-blue-600/20 rounded-full flex items-center justify-center mx-auto mb-4",children:j.jsx(Im,{size:40,className:"text-blue-400"})}),j.jsx("h3",{className:"font-bold text-xl text-white",children:"Private & Secure"}),j.jsx("p",{className:"text-slate-400 text-sm max-w-[250px] mx-auto leading-relaxed",children:"Your messages are stored securely. Connect with friends using only your phone number."})]})]})]})})]})}function iD({user:r}){const[e,i]=Ce.useState(null),[s,l]=Ce.useState([]),[c,d]=Ce.useState([]),[p,g]=Ce.useState({}),[_,T]=Ce.useState(!1),[A,x]=Ce.useState(""),H=r.phoneNumber.replace(/\s/g,"");Ce.useEffect(()=>{const K=kl(wi,"artifacts",Ri,"users",H,"saved_contacts"),ie=wm(K,de=>{const ce={};de.docs.forEach(we=>{ce[we.id]=we.data().name}),g(ce)});return()=>ie()},[H]),Ce.useEffect(()=>{const K=kl(wi,"artifacts",Ri,"users"),ie=wm(K,de=>{const ce=de.docs.map(we=>we.data()).filter(we=>we.phoneNumber!==H);l(ce),d(ce)});return()=>ie()},[H]);const W=K=>{const ie=K.target.value.toLowerCase();x(ie),d(ie===""?s:s.filter(de=>{const ce=p[de.phoneNumber]||"";return de.phoneNumber.includes(ie)||ce.toLowerCase().includes(ie)}))},J=()=>{const K=A.replace(/\s/g,"");K.length<5||(i({phoneNumber:K,isNew:!0}),x(""),d(s))};return j.jsxs("div",{className:"flex h-[100dvh] max-w-[1700px] mx-auto shadow-2xl overflow-hidden relative border border-slate-700",style:{backgroundColor:Qa.bg},children:[j.jsxs("div",{className:`w-full md:w-[400px] bg-slate-900 border-r border-slate-700 flex flex-col ${e?"hidden md:flex":"flex"}`,children:[j.jsxs("div",{className:"h-[70px] bg-slate-800 flex items-center justify-between px-6 shrink-0 border-b border-slate-700",children:[j.jsxs("div",{className:"flex items-center gap-3",children:[j.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-600 flex items-center justify-center overflow-hidden cursor-pointer shadow-lg shadow-blue-500/20",children:j.jsx(wp,{className:"text-white",size:20})}),j.jsx("span",{className:"font-bold text-white tracking-wide",children:"SecureChat"})]}),j.jsxs("div",{className:"flex gap-4 text-slate-400",children:[j.jsx("button",{title:"New Chat",onClick:()=>T(!0),className:"hover:text-blue-400 transition-colors",children:j.jsx(U0,{size:22})}),j.jsx("button",{title:"Logout",onClick:()=>Fw(fh),className:"hover:text-red-400 transition-colors",children:j.jsx(LN,{size:22})})]})]}),j.jsx("div",{className:"p-4 shrink-0",children:j.jsxs("div",{className:"bg-slate-800 rounded-lg flex items-center px-4 py-3 border border-slate-700 focus-within:border-blue-500 transition-colors",children:[j.jsx(pb,{size:18,className:"text-slate-400 mr-3"}),j.jsx("input",{value:A,onChange:W,placeholder:"Search name or number...",className:"bg-transparent text-sm w-full outline-none text-white placeholder-slate-500"})]})}),j.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar px-2",children:[c.length===0&&j.jsxs("div",{className:"mt-8 text-center text-slate-500 text-sm flex flex-col items-center px-4",children:[j.jsx("span",{className:"mb-2",children:"No users found."}),A.length>5&&j.jsxs("button",{onClick:J,className:"mt-4 w-full text-blue-400 text-sm border border-blue-500/30 bg-blue-500/10 px-4 py-3 rounded-lg hover:bg-blue-500 hover:text-white transition-all flex items-center justify-center gap-2",children:[j.jsx(U0,{size:16}),"Start Chat with ",A]})]}),c.map(K=>j.jsxs("div",{onClick:()=>i(K),className:`flex items-center gap-4 p-4 mb-1 rounded-xl cursor-pointer hover:bg-slate-800 transition-all ${e?.phoneNumber===K.phoneNumber?"bg-slate-800 border-l-4 border-blue-500":"border-l-4 border-transparent"}`,children:[j.jsx("div",{className:"w-12 h-12 rounded-full bg-slate-700 flex items-center justify-center overflow-hidden shrink-0 text-slate-300 font-bold border border-slate-600",children:p[K.phoneNumber]?p[K.phoneNumber][0].toUpperCase():K.phoneNumber.slice(-2)}),j.jsxs("div",{className:"flex-1 min-w-0",children:[j.jsxs("div",{className:"flex justify-between items-center mb-1",children:[j.jsx("h4",{className:"text-white font-medium truncate text-base",children:p[K.phoneNumber]||K.phoneNumber}),j.jsx("span",{className:"text-xs text-slate-500",children:"Online"})]}),j.jsxs("p",{className:"text-sm text-slate-400 truncate flex items-center gap-1",children:[j.jsx(Im,{size:10})," Encrypted message"]})]})]},K.uid||K.phoneNumber))]})]}),j.jsx("div",{className:`flex-1 flex-col bg-slate-900 h-full relative ${e?"flex":"hidden md:flex"}`,children:e?j.jsx(rD,{currentUser:r,chatPartner:e,contacts:p,onBack:()=>i(null)}):j.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center border-l border-slate-800 relative overflow-hidden",children:[j.jsx("div",{className:"absolute inset-0 opacity-5",style:{backgroundImage:"radial-gradient(blue 1px, transparent 0)",backgroundSize:"40px 40px"}}),j.jsxs("div",{className:"text-center text-slate-400 max-w-[500px] relative z-10 p-8",children:[j.jsx("div",{className:"w-20 h-20 bg-blue-500 rounded-full flex items-center justify-center mx-auto mb-6 shadow-xl shadow-blue-500/20",children:j.jsx(gb,{size:40,className:"text-white"})}),j.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-white mb-4",children:"SecureChat Web"}),j.jsx("p",{className:"text-sm leading-relaxed mb-6 text-slate-300",children:"Select a chat on the left or search for a number to start messaging."}),j.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-slate-800 rounded-full text-xs text-blue-400 font-medium border border-slate-700",children:[j.jsx(Im,{size:12})," End-to-end Encrypted"]})]})]})}),_&&j.jsx(sD,{onClose:()=>T(!1),onSelect:K=>{i(K),T(!1)},myPhone:H,contacts:p})]})}function rD({currentUser:r,chatPartner:e,contacts:i,onBack:s}){const[l,c]=Ce.useState([]),[d,p]=Ce.useState(""),[g,_]=Ce.useState(!1),[T,A]=Ce.useState(!1),[x,H]=Ce.useState(""),W=Ce.useRef(null),J=Ce.useRef(null),K=r.phoneNumber.replace(/\s/g,"");let ie,de;if(e.isRoom)ie=`secret_room_${e.roomId}`,de=e.phoneNumber;else{const w=e.phoneNumber.replace(/\s/g,"");ie=[K,w].sort().join("_"),de=i[w]||e.phoneNumber}Ce.useEffect(()=>{const w=kl(wi,"artifacts",Ri,"chats",ie,"messages"),S=EN(w,TN("createdAt","asc")),R=wm(S,V=>{c(V.docs.map(N=>({id:N.id,...N.data()}))),setTimeout(()=>W.current?.scrollIntoView({behavior:"auto"}),100)});return()=>R()},[ie]);const ce=async w=>{if(w?.preventDefault(),!d.trim())return;const S=d;if(p(""),await P0(kl(wi,"artifacts",Ri,"chats",ie,"messages"),{text:S,type:"text",senderPhone:K,createdAt:Rm()}),!e.isRoom&&e.isNew){const R=e.phoneNumber.replace(/\s/g,"");await Sm(Za(wi,"artifacts",Ri,"users",R),{phoneNumber:R},{merge:!0})}},we=async w=>{if(confirm("Delete this message?"))try{await wN(Za(wi,"artifacts",Ri,"chats",ie,"messages",w))}catch(S){console.error(S)}},Je=w=>{const S=w.target.files[0];if(!S)return;if(S.size>500*1024){alert("Please select an image smaller than 500KB");return}const R=new FileReader;_(!0),R.onload=async V=>{const N=V.target.result;try{await P0(kl(wi,"artifacts",Ri,"chats",ie,"messages"),{image:N,type:"image",senderPhone:K,createdAt:Rm()})}catch(P){console.error(P)}_(!1)},R.readAsDataURL(S)},Me=async()=>{if(!x.trim())return;const w=e.phoneNumber.replace(/\s/g,"");await Sm(Za(wi,"artifacts",Ri,"users",K,"saved_contacts",w),{name:x}),A(!1)};return j.jsxs("div",{className:"flex-1 flex flex-col bg-slate-900 h-full relative w-full",children:[j.jsx("div",{className:"h-[70px] bg-slate-800 flex items-center px-4 md:px-6 justify-between z-20 shadow-lg border-b border-slate-700 shrink-0",children:j.jsxs("div",{className:"flex items-center gap-4",children:[j.jsx("button",{onClick:s,className:"md:hidden text-slate-400 hover:text-white p-2 -ml-2",children:j.jsx(mb,{})}),j.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center overflow-hidden border ${e.isRoom?"bg-purple-600 border-purple-500":"bg-blue-600 border-blue-500"}`,children:e.isRoom?j.jsx(PN,{className:"text-white",size:20}):j.jsx(wp,{className:"text-white",size:20})}),j.jsxs("div",{children:[T&&!e.isRoom?j.jsxs("div",{className:"flex items-center gap-2",children:[j.jsx("input",{autoFocus:!0,className:"bg-slate-900 border border-slate-600 rounded px-2 py-1 text-white text-sm outline-none focus:border-blue-500",value:x,onChange:w=>H(w.target.value),placeholder:"Enter Name"}),j.jsx("button",{onClick:Me,className:"text-blue-400 hover:text-blue-300",children:j.jsx(GN,{size:18})}),j.jsx("button",{onClick:()=>A(!1),className:"text-slate-400 hover:text-red-400",children:j.jsx(yb,{size:18})})]}):j.jsxs("div",{className:"flex items-center gap-2 group",children:[j.jsx("h3",{className:"text-white font-bold text-base",children:de}),!e.isRoom&&j.jsx("button",{onClick:()=>{H(de),A(!0)},className:"text-slate-600 group-hover:text-blue-400 transition-colors opacity-0 group-hover:opacity-100",title:"Rename Contact",children:j.jsx(HN,{size:14})})]}),j.jsx("p",{className:"text-xs text-blue-400 flex items-center gap-1",children:e.isRoom?"Hidden Channel":"Secure Connection"})]})]})}),j.jsxs("div",{className:"flex-1 overflow-y-auto p-4 md:px-[10%] space-y-2 z-10 relative custom-scrollbar bg-slate-900",children:[l.map(w=>{const S=w.senderPhone===K;return j.jsx("div",{className:`flex ${S?"justify-end":"justify-start"} relative z-10 mb-4 group animate-in fade-in slide-in-from-bottom-2`,children:j.jsxs("div",{className:`
                                max-w-[85%] md:max-w-[65%] rounded-2xl p-3 px-4 text-[15px] shadow-md relative border
                                ${S?"bg-blue-600 text-white rounded-tr-sm border-blue-500":"bg-slate-800 text-slate-200 rounded-tl-sm border-slate-700"}
                             `,children:[w.type==="image"?j.jsx("div",{className:"mb-1 rounded-lg overflow-hidden",children:j.jsx("img",{src:w.image,alt:"attachment",className:"max-w-full h-auto"})}):j.jsx("div",{className:"whitespace-pre-wrap leading-relaxed",children:w.text}),j.jsxs("div",{className:`text-[10px] mt-1 flex items-center justify-end gap-2 ${S?"text-blue-200":"text-slate-500"}`,children:[w.createdAt?.toDate().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!0}),S&&j.jsx(VN,{size:12,strokeWidth:3}),S&&j.jsx("button",{onClick:()=>we(w.id),className:"ml-2 text-white/50 hover:text-red-300 transition-colors",title:"Delete Message",children:j.jsx(ZN,{size:12})})]})]})},w.id)}),j.jsx("div",{ref:W})]}),j.jsxs("form",{onSubmit:ce,className:"bg-slate-800 px-4 py-4 flex items-center gap-3 z-20 shrink-0 border-t border-slate-700",children:[j.jsx("input",{type:"file",accept:"image/*",ref:J,className:"hidden",onChange:Je}),j.jsx("button",{type:"button",onClick:()=>J.current?.click(),className:"p-2 rounded-full hover:bg-slate-700 text-slate-400 hover:text-blue-400 transition-colors",children:g?j.jsx("div",{className:"w-5 h-5 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"}):j.jsx(BN,{size:22})}),j.jsx("div",{className:"flex-1 bg-slate-900 rounded-xl flex items-center py-3 px-4 mx-2 border border-slate-700 focus-within:border-blue-500 transition-colors",children:j.jsx("input",{value:d,onChange:w=>p(w.target.value),className:"flex-1 bg-transparent text-white outline-none text-[15px] placeholder-slate-500",placeholder:"Type a secure message..."})}),j.jsx("button",{type:"submit",className:`p-3 rounded-full transition-all ${d.trim()?"bg-blue-600 text-white shadow-lg shadow-blue-600/30":"bg-slate-700 text-slate-500"}`,children:j.jsx(YN,{size:20,className:d.trim()?"translate-x-0.5":""})})]})]})}function sD({onClose:r,onSelect:e,myPhone:i,contacts:s}){const[l,c]=Ce.useState("+91"),[d,p]=Ce.useState(""),[g,_]=Ce.useState("PHONE"),[T,A]=Ce.useState(null),[x,H]=Ce.useState(!1),W=async J=>{if(J.preventDefault(),g==="KEY"){if(!d.trim())return;e({isRoom:!0,roomId:d.toLowerCase().replace(/\s/g,"-"),phoneNumber:`Secret Room: ${d}`});return}H(!0),A(null);const K=l.replace(/\s/g,"");if(K===i){A("SELF"),H(!1);return}try{const ie=await SN(Za(wi,"artifacts",Ri,"users",K));ie.exists()?A(ie.data()):A({phoneNumber:K,isNew:!0})}catch(ie){console.error(ie)}H(!1)};return j.jsx("div",{className:"absolute inset-0 z-50 bg-slate-900/80 backdrop-blur-sm flex items-start justify-center pt-20",onClick:r,children:j.jsxs("div",{className:"bg-slate-800 w-full max-w-md rounded-2xl overflow-hidden shadow-2xl border border-slate-700 animate-in fade-in zoom-in duration-200",onClick:J=>J.stopPropagation(),children:[j.jsxs("div",{className:"bg-slate-900 p-5 flex items-center justify-between border-b border-slate-700",children:[j.jsx("h2",{className:"font-bold text-lg text-white",children:"New Connection"}),j.jsx("button",{onClick:r,className:"p-1 rounded-full hover:bg-slate-800 text-slate-400 hover:text-white transition-colors",children:j.jsx(yb,{size:20})})]}),j.jsxs("div",{className:"flex border-b border-slate-700 bg-slate-800/50",children:[j.jsx("button",{onClick:()=>{_("PHONE"),A(null)},className:`flex-1 py-4 text-sm font-bold transition-all ${g==="PHONE"?"text-blue-400 border-b-2 border-blue-400 bg-slate-800":"text-slate-500 hover:text-slate-300"}`,children:"PHONE NUMBER"}),j.jsx("button",{onClick:()=>{_("KEY"),A(null)},className:`flex-1 py-4 text-sm font-bold transition-all ${g==="KEY"?"text-purple-400 border-b-2 border-purple-400 bg-slate-800":"text-slate-500 hover:text-slate-300"}`,children:"SECRET KEY"})]}),j.jsxs("div",{className:"p-6",children:[j.jsxs("form",{onSubmit:W,className:"mb-4",children:[j.jsx("label",{className:"block text-xs text-slate-400 font-bold mb-3 uppercase tracking-wider",children:g==="PHONE"?"Enter Mobile Number":"Enter Shared Room Key"}),j.jsxs("div",{className:"flex gap-3",children:[g==="PHONE"?j.jsx("input",{value:l,onChange:J=>c(J.target.value),className:"flex-1 bg-slate-900 rounded-xl p-3 text-white outline-none border border-slate-700 focus:border-blue-500 transition-colors",placeholder:"+91 91526 65022"}):j.jsx("input",{value:d,onChange:J=>p(J.target.value),className:"flex-1 bg-slate-900 rounded-xl p-3 text-white outline-none border border-slate-700 focus:border-purple-500 transition-colors",placeholder:"e.g. project-alpha"}),j.jsx("button",{className:`${g==="KEY"?"bg-purple-600 hover:bg-purple-500":"bg-blue-600 hover:bg-blue-500"} px-6 rounded-xl text-white font-bold transition-all shadow-lg`,children:g==="KEY"?j.jsx(mb,{className:"rotate-180",size:20}):x?"...":j.jsx(pb,{size:20})})]})]}),g==="PHONE"&&T==="SELF"&&j.jsx("div",{className:"text-red-400 text-sm text-center bg-red-900/10 p-2 rounded",children:"You cannot chat with yourself."}),g==="PHONE"&&T&&T!=="SELF"&&j.jsxs("div",{onClick:()=>e(T),className:"flex items-center gap-4 p-4 hover:bg-slate-700 cursor-pointer rounded-xl bg-slate-750 border border-slate-700 transition-all group",children:[j.jsx("div",{className:"w-12 h-12 rounded-full bg-slate-600 flex items-center justify-center text-slate-300 group-hover:bg-blue-600 group-hover:text-white transition-colors",children:j.jsx(wp,{size:24})}),j.jsxs("div",{children:[j.jsx("div",{className:"text-white font-bold text-lg",children:s&&s[T.phoneNumber]?s[T.phoneNumber]:T.phoneNumber}),j.jsx("div",{className:"text-xs text-blue-400",children:T.isNew?"Not registered yet (Invite)":"Verified User"})]})]})]})]})})}r1.createRoot(document.getElementById("root")).render(j.jsx(Ce.StrictMode,{children:j.jsx(tD,{})}));
